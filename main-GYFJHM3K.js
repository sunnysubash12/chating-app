var $O=Object.create;var gu=Object.defineProperty,HO=Object.defineProperties,zO=Object.getOwnPropertyDescriptor,qO=Object.getOwnPropertyDescriptors,WO=Object.getOwnPropertyNames,mu=Object.getOwnPropertySymbols,jb=Object.getPrototypeOf,Hp=Object.prototype.hasOwnProperty,Bb=Object.prototype.propertyIsEnumerable,GO=Reflect.get;var Do=(t,n)=>(n=Symbol[t])?n:Symbol.for("Symbol."+t),QO=t=>{throw TypeError(t)};var Vb=(t,n,e)=>n in t?gu(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,V=(t,n)=>{for(var e in n||={})Hp.call(n,e)&&Vb(t,e,n[e]);if(mu)for(var e of mu(n))Bb.call(n,e)&&Vb(t,e,n[e]);return t},Se=(t,n)=>HO(t,qO(n));var ys=(t,n)=>{var e={};for(var i in t)Hp.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&mu)for(var i of mu(t))n.indexOf(i)<0&&Bb.call(t,i)&&(e[i]=t[i]);return e};var pi=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),YO=(t,n)=>{for(var e in n)gu(t,e,{get:n[e],enumerable:!0})},KO=(t,n,e,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of WO(n))!Hp.call(t,r)&&r!==e&&gu(t,r,{get:()=>n[r],enumerable:!(i=zO(n,r))||i.enumerable});return t};var ar=(t,n,e)=>(e=t!=null?$O(jb(t)):{},KO(n||!t||!t.__esModule?gu(e,"default",{value:t,enumerable:!0}):e,t));var zp=(t,n,e)=>GO(jb(t),e,n);var ne=(t,n,e)=>new Promise((i,r)=>{var s=l=>{try{a(e.next(l))}catch(c){r(c)}},o=l=>{try{a(e.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,o);a((e=e.apply(t,n)).next())}),bs=function(t,n){this[0]=t,this[1]=n},qp=(t,n,e)=>{var i=(o,a,l,c)=>{try{var u=e[o](a),d=(a=u.value)instanceof bs,h=u.done;Promise.resolve(d?a[0]:a).then(f=>d?i(o==="return"?o:"next",a[1]?{done:f.done,value:f.value}:f,l,c):l({value:f,done:h})).catch(f=>i("throw",f,l,c))}catch(f){c(f)}},r=o=>s[o]=a=>new Promise((l,c)=>i(o,a,l,c)),s={};return e=e.apply(t,n),s[Do("asyncIterator")]=()=>s,r("next"),r("throw"),r("return"),s},Wp=t=>{var n=t[Do("asyncIterator")],e=!1,i,r={};return n==null?(n=t[Do("iterator")](),i=s=>r[s]=o=>n[s](o)):(n=n.call(t),i=s=>r[s]=o=>{if(e){if(e=!1,s==="throw")throw o;return o}return e=!0,{done:!1,value:new bs(new Promise(a=>{var l=n[s](o);l instanceof Object||QO("Object expected"),a(l)}),1)}}),r[Do("iterator")]=()=>r,i("next"),"throw"in n?i("throw"):r.throw=s=>{throw s},"return"in n&&i("return"),r},Ub=(t,n,e)=>(n=t[Do("asyncIterator")])?n.call(t):(t=t[Do("iterator")](),n={},e=(i,r)=>(r=t[i])&&(n[i]=s=>new Promise((o,a,l)=>(s=r.call(t,s),l=s.done,Promise.resolve(s.value).then(c=>o({value:c,done:l}),a)))),e("next"),e("return"),n);var e1=pi(If=>{"use strict";If.byteLength=c4;If.toByteArray=d4;If.fromByteArray=p4;var nr=[],ui=[],l4=typeof Uint8Array<"u"?Uint8Array:Array,Ry="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ro=0,XI=Ry.length;ro<XI;++ro)nr[ro]=Ry[ro],ui[Ry.charCodeAt(ro)]=ro;var ro,XI;ui[45]=62;ui[95]=63;function JI(t){var n=t.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=t.indexOf("=");e===-1&&(e=n);var i=e===n?0:4-e%4;return[e,i]}function c4(t){var n=JI(t),e=n[0],i=n[1];return(e+i)*3/4-i}function u4(t,n,e){return(n+e)*3/4-e}function d4(t){var n,e=JI(t),i=e[0],r=e[1],s=new l4(u4(t,i,r)),o=0,a=r>0?i-4:i,l;for(l=0;l<a;l+=4)n=ui[t.charCodeAt(l)]<<18|ui[t.charCodeAt(l+1)]<<12|ui[t.charCodeAt(l+2)]<<6|ui[t.charCodeAt(l+3)],s[o++]=n>>16&255,s[o++]=n>>8&255,s[o++]=n&255;return r===2&&(n=ui[t.charCodeAt(l)]<<2|ui[t.charCodeAt(l+1)]>>4,s[o++]=n&255),r===1&&(n=ui[t.charCodeAt(l)]<<10|ui[t.charCodeAt(l+1)]<<4|ui[t.charCodeAt(l+2)]>>2,s[o++]=n>>8&255,s[o++]=n&255),s}function h4(t){return nr[t>>18&63]+nr[t>>12&63]+nr[t>>6&63]+nr[t&63]}function f4(t,n,e){for(var i,r=[],s=n;s<e;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),r.push(h4(i));return r.join("")}function p4(t){for(var n,e=t.length,i=e%3,r=[],s=16383,o=0,a=e-i;o<a;o+=s)r.push(f4(t,o,o+s>a?a:o+s));return i===1?(n=t[e-1],r.push(nr[n>>2]+nr[n<<4&63]+"==")):i===2&&(n=(t[e-2]<<8)+t[e-1],r.push(nr[n>>10]+nr[n>>4&63]+nr[n<<2&63]+"=")),r.join("")}});var r1=pi((Hse,Ar)=>{"use strict";function Oy(t){"@babel/helpers - typeof";return Ar.exports=Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ar.exports.__esModule=!0,Ar.exports.default=Ar.exports,Oy(t)}Ar.exports=Oy,Ar.exports.__esModule=!0,Ar.exports.default=Ar.exports});var a1=pi((zse,Rr)=>{"use strict";var s1=r1().default;function o1(){"use strict";Rr.exports=o1=function(){return n},Rr.exports.__esModule=!0,Rr.exports.default=Rr.exports;var t,n={},e=Object.prototype,i=e.hasOwnProperty,r=Object.defineProperty||function(A,R,O){A[R]=O.value},s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(A,R,O){return Object.defineProperty(A,R,{value:O,enumerable:!0,configurable:!0,writable:!0}),A[R]}try{c({},"")}catch{c=function(O,B,Y){return O[B]=Y}}function u(A,R,O,B){var Y=R&&R.prototype instanceof D?R:D,te=Object.create(Y.prototype),be=new X(B||[]);return r(te,"_invoke",{value:it(A,O,be)}),te}function d(A,R,O){try{return{type:"normal",arg:A.call(R,O)}}catch(B){return{type:"throw",arg:B}}}n.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",m="completed",_={};function D(){}function w(){}function S(){}var k={};c(k,o,function(){return this});var L=Object.getPrototypeOf,W=L&&L(L(ce([])));W&&W!==e&&i.call(W,o)&&(k=W);var oe=S.prototype=D.prototype=Object.create(k);function K(A){["next","throw","return"].forEach(function(R){c(A,R,function(O){return this._invoke(R,O)})})}function de(A,R){function O(Y,te,be,ze){var Ae=d(A[Y],A,te);if(Ae.type!=="throw"){var Tt=Ae.arg,Nt=Tt.value;return Nt&&s1(Nt)=="object"&&i.call(Nt,"__await")?R.resolve(Nt.__await).then(function(Ke){O("next",Ke,be,ze)},function(Ke){O("throw",Ke,be,ze)}):R.resolve(Nt).then(function(Ke){Tt.value=Ke,be(Tt)},function(Ke){return O("throw",Ke,be,ze)})}ze(Ae.arg)}var B;r(this,"_invoke",{value:function(te,be){function ze(){return new R(function(Ae,Tt){O(te,be,Ae,Tt)})}return B=B?B.then(ze,ze):ze()}})}function it(A,R,O){var B=h;return function(Y,te){if(B===p)throw Error("Generator is already running");if(B===m){if(Y==="throw")throw te;return{value:t,done:!0}}for(O.method=Y,O.arg=te;;){var be=O.delegate;if(be){var ze=Ye(be,O);if(ze){if(ze===_)continue;return ze}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(B===h)throw B=m,O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);B=p;var Ae=d(A,R,O);if(Ae.type==="normal"){if(B=O.done?m:f,Ae.arg===_)continue;return{value:Ae.arg,done:O.done}}Ae.type==="throw"&&(B=m,O.method="throw",O.arg=Ae.arg)}}}function Ye(A,R){var O=R.method,B=A.iterator[O];if(B===t)return R.delegate=null,O==="throw"&&A.iterator.return&&(R.method="return",R.arg=t,Ye(A,R),R.method==="throw")||O!=="return"&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+O+"' method")),_;var Y=d(B,A.iterator,R.arg);if(Y.type==="throw")return R.method="throw",R.arg=Y.arg,R.delegate=null,_;var te=Y.arg;return te?te.done?(R[A.resultName]=te.value,R.next=A.nextLoc,R.method!=="return"&&(R.method="next",R.arg=t),R.delegate=null,_):te:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,_)}function ae(A){var R={tryLoc:A[0]};1 in A&&(R.catchLoc=A[1]),2 in A&&(R.finallyLoc=A[2],R.afterLoc=A[3]),this.tryEntries.push(R)}function Z(A){var R=A.completion||{};R.type="normal",delete R.arg,A.completion=R}function X(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(ae,this),this.reset(!0)}function ce(A){if(A||A===""){var R=A[o];if(R)return R.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var O=-1,B=function Y(){for(;++O<A.length;)if(i.call(A,O))return Y.value=A[O],Y.done=!1,Y;return Y.value=t,Y.done=!0,Y};return B.next=B}}throw new TypeError(s1(A)+" is not iterable")}return w.prototype=S,r(oe,"constructor",{value:S,configurable:!0}),r(S,"constructor",{value:w,configurable:!0}),w.displayName=c(S,l,"GeneratorFunction"),n.isGeneratorFunction=function(A){var R=typeof A=="function"&&A.constructor;return!!R&&(R===w||(R.displayName||R.name)==="GeneratorFunction")},n.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,S):(A.__proto__=S,c(A,l,"GeneratorFunction")),A.prototype=Object.create(oe),A},n.awrap=function(A){return{__await:A}},K(de.prototype),c(de.prototype,a,function(){return this}),n.AsyncIterator=de,n.async=function(A,R,O,B,Y){Y===void 0&&(Y=Promise);var te=new de(u(A,R,O,B),Y);return n.isGeneratorFunction(R)?te:te.next().then(function(be){return be.done?be.value:te.next()})},K(oe),c(oe,l,"Generator"),c(oe,o,function(){return this}),c(oe,"toString",function(){return"[object Generator]"}),n.keys=function(A){var R=Object(A),O=[];for(var B in R)O.push(B);return O.reverse(),function Y(){for(;O.length;){var te=O.pop();if(te in R)return Y.value=te,Y.done=!1,Y}return Y.done=!0,Y}},n.values=ce,X.prototype={constructor:X,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(Z),!R)for(var O in this)O.charAt(0)==="t"&&i.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=t)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var O=this;function B(Tt,Nt){return be.type="throw",be.arg=R,O.next=Tt,Nt&&(O.method="next",O.arg=t),!!Nt}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var te=this.tryEntries[Y],be=te.completion;if(te.tryLoc==="root")return B("end");if(te.tryLoc<=this.prev){var ze=i.call(te,"catchLoc"),Ae=i.call(te,"finallyLoc");if(ze&&Ae){if(this.prev<te.catchLoc)return B(te.catchLoc,!0);if(this.prev<te.finallyLoc)return B(te.finallyLoc)}else if(ze){if(this.prev<te.catchLoc)return B(te.catchLoc,!0)}else{if(!Ae)throw Error("try statement without catch or finally");if(this.prev<te.finallyLoc)return B(te.finallyLoc)}}}},abrupt:function(R,O){for(var B=this.tryEntries.length-1;B>=0;--B){var Y=this.tryEntries[B];if(Y.tryLoc<=this.prev&&i.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var te=Y;break}}te&&(R==="break"||R==="continue")&&te.tryLoc<=O&&O<=te.finallyLoc&&(te=null);var be=te?te.completion:{};return be.type=R,be.arg=O,te?(this.method="next",this.next=te.finallyLoc,_):this.complete(be)},complete:function(R,O){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&O&&(this.next=O),_},finish:function(R){for(var O=this.tryEntries.length-1;O>=0;--O){var B=this.tryEntries[O];if(B.finallyLoc===R)return this.complete(B.completion,B.afterLoc),Z(B),_}},catch:function(R){for(var O=this.tryEntries.length-1;O>=0;--O){var B=this.tryEntries[O];if(B.tryLoc===R){var Y=B.completion;if(Y.type==="throw"){var te=Y.arg;Z(B)}return te}}throw Error("illegal catch attempt")},delegateYield:function(R,O,B){return this.delegate={iterator:ce(R),resultName:O,nextLoc:B},this.method==="next"&&(this.arg=t),_}},n}Rr.exports=o1,Rr.exports.__esModule=!0,Rr.exports.default=Rr.exports});var c1=pi((qse,l1)=>{"use strict";var Af=a1()();l1.exports=Af;try{regeneratorRuntime=Af}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Af:Function("r","regeneratorRuntime = r")(Af)}});var iM=pi((jce,nM)=>{"use strict";nM.exports=typeof self=="object"?self.FormData:window.FormData});var sM=pi((Bce,rM)=>{"use strict";var qa=null;typeof WebSocket<"u"?qa=WebSocket:typeof MozWebSocket<"u"?qa=MozWebSocket:typeof global<"u"?qa=global.WebSocket||global.MozWebSocket:typeof window<"u"?qa=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(qa=self.WebSocket||self.MozWebSocket);rM.exports=qa});var rA=pi((y0,b0)=>{"use strict";(function(t,n){typeof y0=="object"&&typeof b0<"u"?b0.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self).dayjs=n()})(y0,function(){"use strict";var t=1e3,n=6e4,e=36e5,i="millisecond",r="second",s="minute",o="hour",a="day",l="week",c="month",u="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ae){var Z=["th","st","nd","rd"],X=ae%100;return"["+ae+(Z[(X-20)%10]||Z[X]||Z[0])+"]"}},D=function(ae,Z,X){var ce=String(ae);return!ce||ce.length>=Z?ae:""+Array(Z+1-ce.length).join(X)+ae},w={s:D,z:function(ae){var Z=-ae.utcOffset(),X=Math.abs(Z),ce=Math.floor(X/60),A=X%60;return(Z<=0?"+":"-")+D(ce,2,"0")+":"+D(A,2,"0")},m:function ae(Z,X){if(Z.date()<X.date())return-ae(X,Z);var ce=12*(X.year()-Z.year())+(X.month()-Z.month()),A=Z.clone().add(ce,c),R=X-A<0,O=Z.clone().add(ce+(R?-1:1),c);return+(-(ce+(X-A)/(R?A-O:O-A))||0)},a:function(ae){return ae<0?Math.ceil(ae)||0:Math.floor(ae)},p:function(ae){return{M:c,y:d,w:l,d:a,D:h,h:o,m:s,s:r,ms:i,Q:u}[ae]||String(ae||"").toLowerCase().replace(/s$/,"")},u:function(ae){return ae===void 0}},S="en",k={};k[S]=_;var L="$isDayjsObject",W=function(ae){return ae instanceof it||!(!ae||!ae[L])},oe=function ae(Z,X,ce){var A;if(!Z)return S;if(typeof Z=="string"){var R=Z.toLowerCase();k[R]&&(A=R),X&&(k[R]=X,A=R);var O=Z.split("-");if(!A&&O.length>1)return ae(O[0])}else{var B=Z.name;k[B]=Z,A=B}return!ce&&A&&(S=A),A||!ce&&S},K=function(ae,Z){if(W(ae))return ae.clone();var X=typeof Z=="object"?Z:{};return X.date=ae,X.args=arguments,new it(X)},de=w;de.l=oe,de.i=W,de.w=function(ae,Z){return K(ae,{locale:Z.$L,utc:Z.$u,x:Z.$x,$offset:Z.$offset})};var it=function(){function ae(X){this.$L=oe(X.locale,null,!0),this.parse(X),this.$x=this.$x||X.x||{},this[L]=!0}var Z=ae.prototype;return Z.parse=function(X){this.$d=function(ce){var A=ce.date,R=ce.utc;if(A===null)return new Date(NaN);if(de.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var O=A.match(p);if(O){var B=O[2]-1||0,Y=(O[7]||"0").substring(0,3);return R?new Date(Date.UTC(O[1],B,O[3]||1,O[4]||0,O[5]||0,O[6]||0,Y)):new Date(O[1],B,O[3]||1,O[4]||0,O[5]||0,O[6]||0,Y)}}return new Date(A)}(X),this.init()},Z.init=function(){var X=this.$d;this.$y=X.getFullYear(),this.$M=X.getMonth(),this.$D=X.getDate(),this.$W=X.getDay(),this.$H=X.getHours(),this.$m=X.getMinutes(),this.$s=X.getSeconds(),this.$ms=X.getMilliseconds()},Z.$utils=function(){return de},Z.isValid=function(){return this.$d.toString()!==f},Z.isSame=function(X,ce){var A=K(X);return this.startOf(ce)<=A&&A<=this.endOf(ce)},Z.isAfter=function(X,ce){return K(X)<this.startOf(ce)},Z.isBefore=function(X,ce){return this.endOf(ce)<K(X)},Z.$g=function(X,ce,A){return de.u(X)?this[ce]:this.set(A,X)},Z.unix=function(){return Math.floor(this.valueOf()/1e3)},Z.valueOf=function(){return this.$d.getTime()},Z.startOf=function(X,ce){var A=this,R=!!de.u(ce)||ce,O=de.p(X),B=function(Ke,wt){var mt=de.w(A.$u?Date.UTC(A.$y,wt,Ke):new Date(A.$y,wt,Ke),A);return R?mt:mt.endOf(a)},Y=function(Ke,wt){return de.w(A.toDate()[Ke].apply(A.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(wt)),A)},te=this.$W,be=this.$M,ze=this.$D,Ae="set"+(this.$u?"UTC":"");switch(O){case d:return R?B(1,0):B(31,11);case c:return R?B(1,be):B(0,be+1);case l:var Tt=this.$locale().weekStart||0,Nt=(te<Tt?te+7:te)-Tt;return B(R?ze-Nt:ze+(6-Nt),be);case a:case h:return Y(Ae+"Hours",0);case o:return Y(Ae+"Minutes",1);case s:return Y(Ae+"Seconds",2);case r:return Y(Ae+"Milliseconds",3);default:return this.clone()}},Z.endOf=function(X){return this.startOf(X,!1)},Z.$set=function(X,ce){var A,R=de.p(X),O="set"+(this.$u?"UTC":""),B=(A={},A[a]=O+"Date",A[h]=O+"Date",A[c]=O+"Month",A[d]=O+"FullYear",A[o]=O+"Hours",A[s]=O+"Minutes",A[r]=O+"Seconds",A[i]=O+"Milliseconds",A)[R],Y=R===a?this.$D+(ce-this.$W):ce;if(R===c||R===d){var te=this.clone().set(h,1);te.$d[B](Y),te.init(),this.$d=te.set(h,Math.min(this.$D,te.daysInMonth())).$d}else B&&this.$d[B](Y);return this.init(),this},Z.set=function(X,ce){return this.clone().$set(X,ce)},Z.get=function(X){return this[de.p(X)]()},Z.add=function(X,ce){var A,R=this;X=Number(X);var O=de.p(ce),B=function(be){var ze=K(R);return de.w(ze.date(ze.date()+Math.round(be*X)),R)};if(O===c)return this.set(c,this.$M+X);if(O===d)return this.set(d,this.$y+X);if(O===a)return B(1);if(O===l)return B(7);var Y=(A={},A[s]=n,A[o]=e,A[r]=t,A)[O]||1,te=this.$d.getTime()+X*Y;return de.w(te,this)},Z.subtract=function(X,ce){return this.add(-1*X,ce)},Z.format=function(X){var ce=this,A=this.$locale();if(!this.isValid())return A.invalidDate||f;var R=X||"YYYY-MM-DDTHH:mm:ssZ",O=de.z(this),B=this.$H,Y=this.$m,te=this.$M,be=A.weekdays,ze=A.months,Ae=A.meridiem,Tt=function(wt,mt,Sn,Fn){return wt&&(wt[mt]||wt(ce,R))||Sn[mt].slice(0,Fn)},Nt=function(wt){return de.s(B%12||12,wt,"0")},Ke=Ae||function(wt,mt,Sn){var Fn=wt<12?"AM":"PM";return Sn?Fn.toLowerCase():Fn};return R.replace(m,function(wt,mt){return mt||function(Sn){switch(Sn){case"YY":return String(ce.$y).slice(-2);case"YYYY":return de.s(ce.$y,4,"0");case"M":return te+1;case"MM":return de.s(te+1,2,"0");case"MMM":return Tt(A.monthsShort,te,ze,3);case"MMMM":return Tt(ze,te);case"D":return ce.$D;case"DD":return de.s(ce.$D,2,"0");case"d":return String(ce.$W);case"dd":return Tt(A.weekdaysMin,ce.$W,be,2);case"ddd":return Tt(A.weekdaysShort,ce.$W,be,3);case"dddd":return be[ce.$W];case"H":return String(B);case"HH":return de.s(B,2,"0");case"h":return Nt(1);case"hh":return Nt(2);case"a":return Ke(B,Y,!0);case"A":return Ke(B,Y,!1);case"m":return String(Y);case"mm":return de.s(Y,2,"0");case"s":return String(ce.$s);case"ss":return de.s(ce.$s,2,"0");case"SSS":return de.s(ce.$ms,3,"0");case"Z":return O}return null}(wt)||O.replace(":","")})},Z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Z.diff=function(X,ce,A){var R,O=this,B=de.p(ce),Y=K(X),te=(Y.utcOffset()-this.utcOffset())*n,be=this-Y,ze=function(){return de.m(O,Y)};switch(B){case d:R=ze()/12;break;case c:R=ze();break;case u:R=ze()/3;break;case l:R=(be-te)/6048e5;break;case a:R=(be-te)/864e5;break;case o:R=be/e;break;case s:R=be/n;break;case r:R=be/t;break;default:R=be}return A?R:de.a(R)},Z.daysInMonth=function(){return this.endOf(c).$D},Z.$locale=function(){return k[this.$L]},Z.locale=function(X,ce){if(!X)return this.$L;var A=this.clone(),R=oe(X,ce,!0);return R&&(A.$L=R),A},Z.clone=function(){return de.w(this.$d,this)},Z.toDate=function(){return new Date(this.valueOf())},Z.toJSON=function(){return this.isValid()?this.toISOString():null},Z.toISOString=function(){return this.$d.toISOString()},Z.toString=function(){return this.$d.toUTCString()},ae}(),Ye=it.prototype;return K.prototype=Ye,[["$ms",i],["$s",r],["$m",s],["$H",o],["$W",a],["$M",c],["$y",d],["$D",h]].forEach(function(ae){Ye[ae[1]]=function(Z){return this.$g(Z,ae[0],ae[1])}}),K.extend=function(ae,Z){return ae.$i||(ae(Z,it,K),ae.$i=!0),K},K.locale=oe,K.isDayjs=W,K.unix=function(ae){return K(1e3*ae)},K.en=k[S],K.Ls=k,K.p={},K})});var sA=pi((C0,w0)=>{"use strict";(function(t,n){typeof C0=="object"&&typeof w0<"u"?w0.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_calendar=n()})(C0,function(){"use strict";return function(t,n,e){var i="h:mm A",r={lastDay:"[Yesterday at] "+i,sameDay:"[Today at] "+i,nextDay:"[Tomorrow at] "+i,nextWeek:"dddd [at] "+i,lastWeek:"[Last] dddd [at] "+i,sameElse:"MM/DD/YYYY"};n.prototype.calendar=function(s,o){var a=o||this.$locale().calendar||r,l=e(s||void 0).startOf("d"),c=this.diff(l,"d",!0),u="sameElse",d=c<-6?u:c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":u,h=a[d]||r[d];return typeof h=="function"?h.call(this,e()):this.format(h)}}})});var oA=pi((D0,E0)=>{"use strict";(function(t,n){typeof D0=="object"&&typeof E0<"u"?E0.exports=n():typeof define=="function"&&define.amd?define(n):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_relativeTime=n()})(D0,function(){"use strict";return function(t,n,e){t=t||{};var i=n.prototype,r={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(a,l,c,u){return i.fromToBase(a,l,c,u)}e.en.relativeTime=r,i.fromToBase=function(a,l,c,u,d){for(var h,f,p,m=c.$locale().relativeTime||r,_=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],D=_.length,w=0;w<D;w+=1){var S=_[w];S.d&&(h=u?e(a).diff(c,S.d,!0):c.diff(a,S.d,!0));var k=(t.rounding||Math.round)(Math.abs(h));if(p=h>0,k<=S.r||!S.r){k<=1&&w>0&&(S=_[w-1]);var L=m[S.l];d&&(k=d(""+k)),f=typeof L=="string"?L.replace("%d",k):L(k,l,S.l,p);break}}if(l)return f;var W=p?m.future:m.past;return typeof W=="function"?W(f):W.replace("%s",f)},i.to=function(a,l){return s(a,l,this,!0)},i.from=function(a,l){return s(a,l,this)};var o=function(a){return a.$u?e.utc():e()};i.toNow=function(a){return this.to(o(this),a)},i.fromNow=function(a){return this.from(o(this),a)}}})});var WA=pi((dde,up)=>{"use strict";(function(t,n){typeof define=="function"&&define.amd?define(n):typeof up<"u"&&up.exports?up.exports=n():window.ysFixWebmDuration=n()})("fix-webm-duration",function(){var t={172351395:{name:"EBML",type:"Container"},646:{name:"EBMLVersion",type:"Uint"},759:{name:"EBMLReadVersion",type:"Uint"},754:{name:"EBMLMaxIDLength",type:"Uint"},755:{name:"EBMLMaxSizeLength",type:"Uint"},642:{name:"DocType",type:"String"},647:{name:"DocTypeVersion",type:"Uint"},645:{name:"DocTypeReadVersion",type:"Uint"},108:{name:"Void",type:"Binary"},63:{name:"CRC-32",type:"Binary"},190023271:{name:"SignatureSlot",type:"Container"},16010:{name:"SignatureAlgo",type:"Uint"},16026:{name:"SignatureHash",type:"Uint"},16037:{name:"SignaturePublicKey",type:"Binary"},16053:{name:"Signature",type:"Binary"},15963:{name:"SignatureElements",type:"Container"},15995:{name:"SignatureElementList",type:"Container"},9522:{name:"SignedElement",type:"Binary"},139690087:{name:"Segment",type:"Container"},21863284:{name:"SeekHead",type:"Container"},3515:{name:"Seek",type:"Container"},5035:{name:"SeekID",type:"Binary"},5036:{name:"SeekPosition",type:"Uint"},88713574:{name:"Info",type:"Container"},13220:{name:"SegmentUID",type:"Binary"},13188:{name:"SegmentFilename",type:"String"},1882403:{name:"PrevUID",type:"Binary"},1868715:{name:"PrevFilename",type:"String"},2013475:{name:"NextUID",type:"Binary"},1999803:{name:"NextFilename",type:"String"},1092:{name:"SegmentFamily",type:"Binary"},10532:{name:"ChapterTranslate",type:"Container"},10748:{name:"ChapterTranslateEditionUID",type:"Uint"},10687:{name:"ChapterTranslateCodec",type:"Uint"},10661:{name:"ChapterTranslateID",type:"Binary"},710577:{name:"TimecodeScale",type:"Uint"},1161:{name:"Duration",type:"Float"},1121:{name:"DateUTC",type:"Date"},15273:{name:"Title",type:"String"},3456:{name:"MuxingApp",type:"String"},5953:{name:"WritingApp",type:"String"},103:{name:"Timecode",type:"Uint"},6228:{name:"SilentTracks",type:"Container"},6359:{name:"SilentTrackNumber",type:"Uint"},39:{name:"Position",type:"Uint"},43:{name:"PrevSize",type:"Uint"},35:{name:"SimpleBlock",type:"Binary"},32:{name:"BlockGroup",type:"Container"},33:{name:"Block",type:"Binary"},34:{name:"BlockVirtual",type:"Binary"},13729:{name:"BlockAdditions",type:"Container"},38:{name:"BlockMore",type:"Container"},110:{name:"BlockAddID",type:"Uint"},37:{name:"BlockAdditional",type:"Binary"},27:{name:"BlockDuration",type:"Uint"},122:{name:"ReferencePriority",type:"Uint"},123:{name:"ReferenceBlock",type:"Int"},125:{name:"ReferenceVirtual",type:"Int"},36:{name:"CodecState",type:"Binary"},13730:{name:"DiscardPadding",type:"Int"},14:{name:"Slices",type:"Container"},104:{name:"TimeSlice",type:"Container"},76:{name:"LaceNumber",type:"Uint"},77:{name:"FrameNumber",type:"Uint"},75:{name:"BlockAdditionID",type:"Uint"},78:{name:"Delay",type:"Uint"},79:{name:"SliceDuration",type:"Uint"},72:{name:"ReferenceFrame",type:"Container"},73:{name:"ReferenceOffset",type:"Uint"},74:{name:"ReferenceTimeCode",type:"Uint"},47:{name:"EncryptedBlock",type:"Binary"},106212971:{name:"Tracks",type:"Container"},46:{name:"TrackEntry",type:"Container"},87:{name:"TrackNumber",type:"Uint"},13253:{name:"TrackUID",type:"Uint"},3:{name:"TrackType",type:"Uint"},57:{name:"FlagEnabled",type:"Uint"},8:{name:"FlagDefault",type:"Uint"},5546:{name:"FlagForced",type:"Uint"},28:{name:"FlagLacing",type:"Uint"},11751:{name:"MinCache",type:"Uint"},11768:{name:"MaxCache",type:"Uint"},254851:{name:"DefaultDuration",type:"Uint"},216698:{name:"DefaultDecodedFieldDuration",type:"Uint"},209231:{name:"TrackTimecodeScale",type:"Float"},4991:{name:"TrackOffset",type:"Int"},5614:{name:"MaxBlockAdditionID",type:"Uint"},4974:{name:"Name",type:"String"},177564:{name:"Language",type:"String"},6:{name:"CodecID",type:"String"},9122:{name:"CodecPrivate",type:"Binary"},362120:{name:"CodecName",type:"String"},13382:{name:"AttachmentLink",type:"Uint"},1742487:{name:"CodecSettings",type:"String"},1785920:{name:"CodecInfoURL",type:"String"},438848:{name:"CodecDownloadURL",type:"String"},42:{name:"CodecDecodeAll",type:"Uint"},12203:{name:"TrackOverlay",type:"Uint"},5802:{name:"CodecDelay",type:"Uint"},5819:{name:"SeekPreRoll",type:"Uint"},9764:{name:"TrackTranslate",type:"Container"},9980:{name:"TrackTranslateEditionUID",type:"Uint"},9919:{name:"TrackTranslateCodec",type:"Uint"},9893:{name:"TrackTranslateTrackID",type:"Binary"},96:{name:"Video",type:"Container"},26:{name:"FlagInterlaced",type:"Uint"},5048:{name:"StereoMode",type:"Uint"},5056:{name:"AlphaMode",type:"Uint"},5049:{name:"OldStereoMode",type:"Uint"},48:{name:"PixelWidth",type:"Uint"},58:{name:"PixelHeight",type:"Uint"},5290:{name:"PixelCropBottom",type:"Uint"},5307:{name:"PixelCropTop",type:"Uint"},5324:{name:"PixelCropLeft",type:"Uint"},5341:{name:"PixelCropRight",type:"Uint"},5296:{name:"DisplayWidth",type:"Uint"},5306:{name:"DisplayHeight",type:"Uint"},5298:{name:"DisplayUnit",type:"Uint"},5299:{name:"AspectRatioType",type:"Uint"},963876:{name:"ColourSpace",type:"Binary"},1029411:{name:"GammaValue",type:"Float"},230371:{name:"FrameRate",type:"Float"},97:{name:"Audio",type:"Container"},53:{name:"SamplingFrequency",type:"Float"},14517:{name:"OutputSamplingFrequency",type:"Float"},31:{name:"Channels",type:"Uint"},15739:{name:"ChannelPositions",type:"Binary"},8804:{name:"BitDepth",type:"Uint"},98:{name:"TrackOperation",type:"Container"},99:{name:"TrackCombinePlanes",type:"Container"},100:{name:"TrackPlane",type:"Container"},101:{name:"TrackPlaneUID",type:"Uint"},102:{name:"TrackPlaneType",type:"Uint"},105:{name:"TrackJoinBlocks",type:"Container"},109:{name:"TrackJoinUID",type:"Uint"},64:{name:"TrickTrackUID",type:"Uint"},65:{name:"TrickTrackSegmentUID",type:"Binary"},70:{name:"TrickTrackFlag",type:"Uint"},71:{name:"TrickMasterTrackUID",type:"Uint"},68:{name:"TrickMasterTrackSegmentUID",type:"Binary"},11648:{name:"ContentEncodings",type:"Container"},8768:{name:"ContentEncoding",type:"Container"},4145:{name:"ContentEncodingOrder",type:"Uint"},4146:{name:"ContentEncodingScope",type:"Uint"},4147:{name:"ContentEncodingType",type:"Uint"},4148:{name:"ContentCompression",type:"Container"},596:{name:"ContentCompAlgo",type:"Uint"},597:{name:"ContentCompSettings",type:"Binary"},4149:{name:"ContentEncryption",type:"Container"},2017:{name:"ContentEncAlgo",type:"Uint"},2018:{name:"ContentEncKeyID",type:"Binary"},2019:{name:"ContentSignature",type:"Binary"},2020:{name:"ContentSigKeyID",type:"Binary"},2021:{name:"ContentSigAlgo",type:"Uint"},2022:{name:"ContentSigHashAlgo",type:"Uint"},206814059:{name:"Cues",type:"Container"},59:{name:"CuePoint",type:"Container"},51:{name:"CueTime",type:"Uint"},55:{name:"CueTrackPositions",type:"Container"},119:{name:"CueTrack",type:"Uint"},113:{name:"CueClusterPosition",type:"Uint"},112:{name:"CueRelativePosition",type:"Uint"},50:{name:"CueDuration",type:"Uint"},4984:{name:"CueBlockNumber",type:"Uint"},106:{name:"CueCodecState",type:"Uint"},91:{name:"CueReference",type:"Container"},22:{name:"CueRefTime",type:"Uint"},23:{name:"CueRefCluster",type:"Uint"},4959:{name:"CueRefNumber",type:"Uint"},107:{name:"CueRefCodecState",type:"Uint"},155296873:{name:"Attachments",type:"Container"},8615:{name:"AttachedFile",type:"Container"},1662:{name:"FileDescription",type:"String"},1646:{name:"FileName",type:"String"},1632:{name:"FileMimeType",type:"String"},1628:{name:"FileData",type:"Binary"},1710:{name:"FileUID",type:"Uint"},1653:{name:"FileReferral",type:"Binary"},1633:{name:"FileUsedStartTime",type:"Uint"},1634:{name:"FileUsedEndTime",type:"Uint"},4433776:{name:"Chapters",type:"Container"},1465:{name:"EditionEntry",type:"Container"},1468:{name:"EditionUID",type:"Uint"},1469:{name:"EditionFlagHidden",type:"Uint"},1499:{name:"EditionFlagDefault",type:"Uint"},1501:{name:"EditionFlagOrdered",type:"Uint"},54:{name:"ChapterAtom",type:"Container"},13252:{name:"ChapterUID",type:"Uint"},5716:{name:"ChapterStringUID",type:"String"},17:{name:"ChapterTimeStart",type:"Uint"},18:{name:"ChapterTimeEnd",type:"Uint"},24:{name:"ChapterFlagHidden",type:"Uint"},1432:{name:"ChapterFlagEnabled",type:"Uint"},11879:{name:"ChapterSegmentUID",type:"Binary"},11964:{name:"ChapterSegmentEditionUID",type:"Uint"},9155:{name:"ChapterPhysicalEquiv",type:"Uint"},15:{name:"ChapterTrack",type:"Container"},9:{name:"ChapterTrackNumber",type:"Uint"},0:{name:"ChapterDisplay",type:"Container"},5:{name:"ChapString",type:"String"},892:{name:"ChapLanguage",type:"String"},894:{name:"ChapCountry",type:"String"},10564:{name:"ChapProcess",type:"Container"},10581:{name:"ChapProcessCodecID",type:"Uint"},1293:{name:"ChapProcessPrivate",type:"Binary"},10513:{name:"ChapProcessCommand",type:"Container"},10530:{name:"ChapProcessTime",type:"Uint"},10547:{name:"ChapProcessData",type:"Binary"},39109479:{name:"Tags",type:"Container"},13171:{name:"Tag",type:"Container"},9152:{name:"Targets",type:"Container"},10442:{name:"TargetTypeValue",type:"Uint"},9162:{name:"TargetType",type:"String"},9157:{name:"TagTrackUID",type:"Uint"},9161:{name:"TagEditionUID",type:"Uint"},9156:{name:"TagChapterUID",type:"Uint"},9158:{name:"TagAttachmentUID",type:"Uint"},10184:{name:"SimpleTag",type:"Container"},1443:{name:"TagName",type:"String"},1146:{name:"TagLanguage",type:"String"},1156:{name:"TagDefault",type:"Uint"},1159:{name:"TagString",type:"String"},1157:{name:"TagBinary",type:"Binary"}};function n(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c}function e(c,u){this.name=c||"Unknown",this.type=u||"Unknown"}e.prototype.updateBySource=function(){},e.prototype.setSource=function(c){this.source=c,this.updateBySource()},e.prototype.updateByData=function(){},e.prototype.setData=function(c){this.data=c,this.updateByData()};function i(c,u){e.call(this,c,u||"Uint")}n(i,e);function r(c){return c.length%2===1?"0"+c:c}i.prototype.updateBySource=function(){this.data="";for(var c=0;c<this.source.length;c++){var u=this.source[c].toString(16);this.data+=r(u)}},i.prototype.updateByData=function(){var c=this.data.length/2;this.source=new Uint8Array(c);for(var u=0;u<c;u++){var d=this.data.substr(u*2,2);this.source[u]=parseInt(d,16)}},i.prototype.getValue=function(){return parseInt(this.data,16)},i.prototype.setValue=function(c){this.setData(r(c.toString(16)))};function s(c,u){e.call(this,c,u||"Float")}n(s,e),s.prototype.getFloatArrayType=function(){return this.source&&this.source.length===4?Float32Array:Float64Array},s.prototype.updateBySource=function(){var c=this.source.reverse(),u=this.getFloatArrayType(),d=new u(c.buffer);this.data=d[0]},s.prototype.updateByData=function(){var c=this.getFloatArrayType(),u=new c([this.data]),d=new Uint8Array(u.buffer);this.source=d.reverse()},s.prototype.getValue=function(){return this.data},s.prototype.setValue=function(c){this.setData(c)};function o(c,u){e.call(this,c,u||"Container")}n(o,e),o.prototype.readByte=function(){return this.source[this.offset++]},o.prototype.readUint=function(){for(var c=this.readByte(),u=8-c.toString(2).length,d=c-(1<<7-u),h=0;h<u;h++)d*=256,d+=this.readByte();return d},o.prototype.updateBySource=function(){for(this.data=[],this.offset=0;this.offset<this.source.length;this.offset=d){var c=this.readUint(),u=this.readUint(),d=Math.min(this.offset+u,this.source.length),h=this.source.slice(this.offset,d),f=t[c]||{name:"Unknown",type:"Unknown"},p=e;switch(f.type){case"Container":p=o;break;case"Uint":p=i;break;case"Float":p=s;break}var m=new p(f.name,f.type);m.setSource(h),this.data.push({id:c,idHex:c.toString(16),data:m})}},o.prototype.writeUint=function(c,u){for(var d=1,h=128;c>=h&&d<8;d++,h*=128);if(!u)for(var f=h+c,p=d-1;p>=0;p--){var m=f%256;this.source[this.offset+p]=m,f=(f-m)/256}this.offset+=d},o.prototype.writeSections=function(c){this.offset=0;for(var u=0;u<this.data.length;u++){var d=this.data[u],h=d.data.source,f=h.length;this.writeUint(d.id,c),this.writeUint(f,c),c||this.source.set(h,this.offset),this.offset+=f}return this.offset},o.prototype.updateByData=function(){var c=this.writeSections("draft");this.source=new Uint8Array(c),this.writeSections()},o.prototype.getSectionById=function(c){for(var u=0;u<this.data.length;u++){var d=this.data[u];if(d.id===c)return d.data}return null};function a(c){o.call(this,"File","File"),this.setSource(c)}n(a,o),a.prototype.fixDuration=function(c,u){var d=u&&u.logger;d===void 0?d=function(_){console.log(_)}:d||(d=function(){});var h=this.getSectionById(139690087);if(!h)return d("[fix-webm-duration] Segment section is missing"),!1;var f=h.getSectionById(88713574);if(!f)return d("[fix-webm-duration] Info section is missing"),!1;var p=f.getSectionById(710577);if(!p)return d("[fix-webm-duration] TimecodeScale section is missing"),!1;var m=f.getSectionById(1161);if(m)if(m.getValue()<=0)d(`[fix-webm-duration] Duration section is present, but the value is ${m.getValue()}`),m.setValue(c);else return d(`[fix-webm-duration] Duration section is present, and the value is ${m.getValue()}`),!1;else d("[fix-webm-duration] Duration section is missing"),m=new s("Duration","Float"),m.setValue(c),f.data.push({id:1161,data:m});return p.setValue(1e6),f.updateByData(),h.updateByData(),this.updateByData(),!0},a.prototype.toBlob=function(c){return new Blob([this.source.buffer],{type:c||"video/webm"})};function l(c,u,d,h){if(typeof d=="object"&&(h=d,d=void 0),!d)return new Promise(function(p){l(c,u,p,h)});try{var f=new FileReader;f.onloadend=function(){try{var p=new a(new Uint8Array(f.result));p.fixDuration(u,h)&&(c=p.toBlob(c.type))}catch{}d(c)},f.readAsArrayBuffer(c)}catch{d(c)}}return l.default=l,l})});var ZA=pi((hde,KA)=>{"use strict";var N6=1/0,L6="[object Symbol]",V6=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,j6="\\u0300-\\u036f\\ufe20-\\ufe23",B6="\\u20d0-\\u20f0",U6="["+j6+B6+"]",$6=RegExp(U6,"g"),H6={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},z6=typeof global=="object"&&global&&global.Object===Object&&global,q6=typeof self=="object"&&self&&self.Object===Object&&self,W6=z6||q6||Function("return this")();function G6(t){return function(n){return t?.[n]}}var Q6=G6(H6),Y6=Object.prototype,K6=Y6.toString,GA=W6.Symbol,QA=GA?GA.prototype:void 0,YA=QA?QA.toString:void 0;function Z6(t){if(typeof t=="string")return t;if(J6(t))return YA?YA.call(t):"";var n=t+"";return n=="0"&&1/t==-N6?"-0":n}function X6(t){return!!t&&typeof t=="object"}function J6(t){return typeof t=="symbol"||X6(t)&&K6.call(t)==L6}function ez(t){return t==null?"":Z6(t)}function tz(t){return t=ez(t),t&&t.replace(V6,Q6).replace($6,"")}KA.exports=tz});function $b(t,n){return Object.is(t,n)}var zt=null,rl=!1,_u=1,Zn=Symbol("SIGNAL");function qe(t){let n=zt;return zt=t,n}function Hb(){return zt}function ZO(){return rl}var Eo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Kp(t){if(rl)throw new Error("");if(zt===null)return;zt.consumerOnSignalRead(t);let n=zt.nextProducerIndex++;if(Du(zt),n<zt.producerNode.length&&zt.producerNode[n]!==t&&sl(zt)){let e=zt.producerNode[n];wu(e,zt.producerIndexOfThis[n])}zt.producerNode[n]!==t&&(zt.producerNode[n]=t,zt.producerIndexOfThis[n]=sl(zt)?Qb(t,zt,n):0),zt.producerLastReadVersion[n]=t.version}function XO(){_u++}function zb(t){if(!(sl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===_u)){if(!t.producerMustRecompute(t)&&!bu(t)){t.dirty=!1,t.lastCleanEpoch=_u;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=_u}}function qb(t){if(t.liveConsumerNode===void 0)return;let n=rl;rl=!0;try{for(let e of t.liveConsumerNode)e.dirty||Gb(e)}finally{rl=n}}function Wb(){return zt?.consumerAllowSignalWrites!==!1}function Gb(t){t.dirty=!0,qb(t),t.consumerMarkedDirty?.(t)}function ol(t){return t&&(t.nextProducerIndex=0),qe(t)}function yu(t,n){if(qe(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(sl(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)wu(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function bu(t){Du(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(zb(e),i!==e.version))return!0}return!1}function Cu(t){if(Du(t),sl(t))for(let n=0;n<t.producerNode.length;n++)wu(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Qb(t,n,e){if(Yb(t),t.liveConsumerNode.length===0&&Kb(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=Qb(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function wu(t,n){if(Yb(t),t.liveConsumerNode.length===1&&Kb(t))for(let i=0;i<t.producerNode.length;i++)wu(t.producerNode[i],t.producerIndexOfThis[i]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[n],r=t.liveConsumerNode[n];Du(r),r.producerIndexOfThis[i]=n}}function sl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Du(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Yb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Kb(t){return t.producerNode!==void 0}function Zp(t){let n=Object.create(JO);n.computation=t;let e=()=>{if(zb(n),Kp(n),n.value===vu)throw n.error;return n.value};return e[Zn]=n,e}var Gp=Symbol("UNSET"),Qp=Symbol("COMPUTING"),vu=Symbol("ERRORED"),JO=Se(V({},Eo),{value:Gp,dirty:!0,error:null,equal:$b,producerMustRecompute(t){return t.value===Gp||t.value===Qp},producerRecomputeValue(t){if(t.value===Qp)throw new Error("Detected cycle in computations.");let n=t.value;t.value=Qp;let e=ol(t),i;try{i=t.computation()}catch(r){i=vu,t.error=r}finally{yu(t,e)}if(n!==Gp&&n!==vu&&i!==vu&&t.equal(n,i)){t.value=n;return}t.value=i,t.version++}});function ek(){throw new Error}var Zb=ek;function Xb(){Zb()}function Jb(t){Zb=t}var tk=null;function eC(t){let n=Object.create(nC);n.value=t;let e=()=>(Kp(n),n.value);return e[Zn]=n,e}function Xp(t,n){Wb()||Xb(),t.equal(t.value,n)||(t.value=n,nk(t))}function tC(t,n){Wb()||Xb(),Xp(t,n(t.value))}var nC=Se(V({},Eo),{equal:$b,value:void 0});function nk(t){t.version++,XO(),qb(t),tk?.()}function iC(t,n,e){let i=Object.create(ik);e&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=n;let r=l=>{i.cleanupFn=l};function s(l){return l.fn===null&&l.schedule===null}function o(l){s(l)||(Cu(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=Yp)}let a=()=>{if(i.fn===null)return;if(ZO())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!bu(i))return;i.hasRun=!0;let l=ol(i);try{i.cleanupFn(),i.cleanupFn=Yp,i.fn(r)}finally{yu(i,l)}};return i.ref={notify:()=>Gb(i),run:a,cleanup:()=>i.cleanupFn(),destroy:()=>o(i),[Zn]:i},i.ref}var Yp=()=>{},ik=Se(V({},Eo),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Yp});function Re(t){return typeof t=="function"}function So(t){let e=t(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Eu=So(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Cs(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var lt=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let s of e)s.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(Re(i))try{i()}catch(s){n=s instanceof Eu?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{rC(s)}catch(o){n=n??[],o instanceof Eu?n=[...n,...o.errors]:n.push(o)}}if(n)throw new Eu(n)}}add(n){var e;if(n&&n!==this)if(this.closed)rC(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Cs(e,n)}remove(n){let{_finalizers:e}=this;e&&Cs(e,n),n instanceof t&&n._removeParent(this)}};lt.EMPTY=(()=>{let t=new lt;return t.closed=!0,t})();var Jp=lt.EMPTY;function Su(t){return t instanceof lt||t&&"closed"in t&&Re(t.remove)&&Re(t.add)&&Re(t.unsubscribe)}function rC(t){Re(t)?t():t.unsubscribe()}var mi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xo={setTimeout(t,n,...e){let{delegate:i}=xo;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=xo;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function xu(t){xo.setTimeout(()=>{let{onUnhandledError:n}=mi;if(n)n(t);else throw t})}function ws(){}var sC=em("C",void 0,void 0);function oC(t){return em("E",void 0,t)}function aC(t){return em("N",t,void 0)}function em(t,n,e){return{kind:t,value:n,error:e}}var Ds=null;function To(t){if(mi.useDeprecatedSynchronousErrorHandling){let n=!Ds;if(n&&(Ds={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:i}=Ds;if(Ds=null,e)throw i}}else t()}function lC(t){mi.useDeprecatedSynchronousErrorHandling&&Ds&&(Ds.errorThrown=!0,Ds.error=t)}var Es=class extends lt{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Su(n)&&n.add(this)):this.destination=ok}static create(n,e,i){return new lr(n,e,i)}next(n){this.isStopped?nm(aC(n),this):this._next(n)}error(n){this.isStopped?nm(oC(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?nm(sC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},rk=Function.prototype.bind;function tm(t,n){return rk.call(t,n)}var im=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){Tu(i)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){Tu(i)}else Tu(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Tu(e)}}},lr=class extends Es{constructor(n,e,i){super();let r;if(Re(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&mi.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&tm(n.next,s),error:n.error&&tm(n.error,s),complete:n.complete&&tm(n.complete,s)}):r=n}this.destination=new im(r)}};function Tu(t){mi.useDeprecatedSynchronousErrorHandling?lC(t):xu(t)}function sk(t){throw t}function nm(t,n){let{onStoppedNotification:e}=mi;e&&xo.setTimeout(()=>e(t,n))}var ok={closed:!0,next:ws,error:sk,complete:ws};var Io=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pn(t){return t}function cC(t){return t.length===0?Pn:t.length===1?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}var je=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){let s=lk(e)?e:new lr(e,i,r);return To(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=uC(i),new i((r,s)=>{let o=new lr({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[Io](){return this}pipe(...e){return cC(e)(this)}toPromise(e){return e=uC(e),new e((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=n=>new t(n),t})();function uC(t){var n;return(n=t??mi.Promise)!==null&&n!==void 0?n:Promise}function ak(t){return t&&Re(t.next)&&Re(t.error)&&Re(t.complete)}function lk(t){return t&&t instanceof Es||ak(t)&&Su(t)}function ck(t){return Re(t?.lift)}function $e(t){return n=>{if(ck(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function He(t,n,e,i,r){return new rm(t,n,e,i,r)}var rm=class extends Es{constructor(n,e,i,r,s,o){super(n),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};var dC=So(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=(()=>{class t extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new Iu(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new dC}next(e){To(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){To(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){To(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Jp:(this.currentObservers=null,s.push(e),new lt(()=>{this.currentObservers=null,Cs(s,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){let e=new je;return e.source=this,e}}return t.create=(n,e)=>new Iu(n,e),t})(),Iu=class extends ye{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,n)}error(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&i!==void 0?i:Jp}};var ie=class extends ye{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var al={now(){return(al.delegate||Date).now()},delegate:void 0};var Fi=class extends ye{constructor(n=1/0,e=1/0,i=al){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){let{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;e||(i.push(n),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!n.closed;o+=i?1:2)n.next(s[o]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){let{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*n;if(n<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=e.now(),a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}};var Mu=class extends lt{constructor(n,e){super()}schedule(n,e=0){return this}};var ll={setInterval(t,n,...e){let{delegate:i}=ll;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){let{delegate:n}=ll;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};var Au=class extends Mu{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(n,e,i=0){return ll.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&ll.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i=!1,r;try{this.work(n)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Cs(i,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var Mo=class t{constructor(n,e=t.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}};Mo.now=al.now;var Ru=class extends Mo{constructor(n,e=Mo.now){super(n,e),this.actions=[],this._active=!1}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}};var cr=new Ru(Au),hC=cr;var Ss=new je(t=>t.complete());function Ou(t){return t&&Re(t.schedule)}function sm(t){return t[t.length-1]}function ku(t){return Re(sm(t))?t.pop():void 0}function Pi(t){return Ou(sm(t))?t.pop():void 0}function fC(t,n){return typeof sm(t)=="number"?t.pop():n}function mC(t,n,e,i){function r(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,n||[])).next())})}function pC(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function xs(t){return this instanceof xs?(this.v=t,this):new xs(t)}function gC(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(t,n||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){i[f]&&(r[f]=function(m){return new Promise(function(_,D){s.push([f,m,_,D])>1||l(f,m)})},p&&(r[f]=p(r[f])))}function l(f,p){try{c(i[f](p))}catch(m){h(s[0][3],m)}}function c(f){f.value instanceof xs?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function _C(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof pC=="function"?pC(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var Ao=t=>t&&typeof t.length=="number"&&typeof t!="function";function Fu(t){return Re(t?.then)}function Pu(t){return Re(t[Io])}function Nu(t){return Symbol.asyncIterator&&Re(t?.[Symbol.asyncIterator])}function Lu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function uk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vu=uk();function ju(t){return Re(t?.[Vu])}function Bu(t){return gC(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:i,done:r}=yield xs(e.read());if(r)return yield xs(void 0);yield yield xs(i)}}finally{e.releaseLock()}})}function Uu(t){return Re(t?.getReader)}function et(t){if(t instanceof je)return t;if(t!=null){if(Pu(t))return dk(t);if(Ao(t))return hk(t);if(Fu(t))return fk(t);if(Nu(t))return vC(t);if(ju(t))return pk(t);if(Uu(t))return mk(t)}throw Lu(t)}function dk(t){return new je(n=>{let e=t[Io]();if(Re(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hk(t){return new je(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function fk(t){return new je(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,xu)})}function pk(t){return new je(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function vC(t){return new je(n=>{gk(t,n).catch(e=>n.error(e))})}function mk(t){return vC(Bu(t))}function gk(t,n){var e,i,r,s;return mC(this,void 0,void 0,function*(){try{for(e=_C(t);i=yield e.next(),!i.done;){let o=i.value;if(n.next(o),n.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}n.complete()})}function xn(t,n,e,i=0,r=!1){let s=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function $u(t,n=0){return $e((e,i)=>{e.subscribe(He(i,r=>xn(i,t,()=>i.next(r),n),()=>xn(i,t,()=>i.complete(),n),r=>xn(i,t,()=>i.error(r),n)))})}function Hu(t,n=0){return $e((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function yC(t,n){return et(t).pipe(Hu(n),$u(n))}function bC(t,n){return et(t).pipe(Hu(n),$u(n))}function CC(t,n){return new je(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}function wC(t,n){return new je(e=>{let i;return xn(e,n,()=>{i=t[Vu](),xn(e,n,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){e.error(o);return}s?e.complete():e.next(r)},0,!0)}),()=>Re(i?.return)&&i.return()})}function zu(t,n){if(!t)throw new Error("Iterable cannot be null");return new je(e=>{xn(e,n,()=>{let i=t[Symbol.asyncIterator]();xn(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function DC(t,n){return zu(Bu(t),n)}function EC(t,n){if(t!=null){if(Pu(t))return yC(t,n);if(Ao(t))return CC(t,n);if(Fu(t))return bC(t,n);if(Nu(t))return zu(t,n);if(ju(t))return wC(t,n);if(Uu(t))return DC(t,n)}throw Lu(t)}function Jt(t,n){return n?EC(t,n):et(t)}function st(...t){let n=Pi(t);return Jt(t,n)}function Xn(t){return!!t&&(t instanceof je||Re(t.lift)&&Re(t.subscribe))}var qu=So(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function SC(t){return t instanceof Date&&!isNaN(t)}function xe(t,n){return $e((e,i)=>{let r=0;e.subscribe(He(i,s=>{i.next(t.call(n,s,r++))}))})}var{isArray:_k}=Array;function vk(t,n){return _k(n)?t(...n):t(n)}function Ro(t){return xe(n=>vk(t,n))}var{isArray:yk}=Array,{getPrototypeOf:bk,prototype:Ck,keys:wk}=Object;function Wu(t){if(t.length===1){let n=t[0];if(yk(n))return{args:n,keys:null};if(Dk(n)){let e=wk(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}function Dk(t){return t&&typeof t=="object"&&bk(t)===Ck}function Gu(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function Nn(...t){let n=Pi(t),e=ku(t),{args:i,keys:r}=Wu(t);if(i.length===0)return Jt([],n);let s=new je(Ek(i,n,r?o=>Gu(r,o):Pn));return e?s.pipe(Ro(e)):s}function Ek(t,n,e=Pn){return i=>{xC(n,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)xC(n,()=>{let c=Jt(t[l],n),u=!1;c.subscribe(He(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function xC(t,n,e){t?xn(e,t,n):n()}function TC(t,n,e,i,r,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&n.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{s&&n.next(m),c++;let _=!1;et(e(m,u++)).subscribe(He(n,D=>{r?.(D),s?f(D):n.next(D)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<i;){let D=l.shift();o?xn(n,o,()=>p(D)):p(D)}h()}catch(D){n.error(D)}}))};return t.subscribe(He(n,f,()=>{d=!0,h()})),()=>{a?.()}}function Ni(t,n,e=1/0){return Re(n)?Ni((i,r)=>xe((s,o)=>n(i,s,r,o))(et(t(i,r))),e):(typeof n=="number"&&(e=n),$e((i,r)=>TC(i,r,t,e)))}function Qu(t=1/0){return Ni(Pn,t)}function IC(){return Qu(1)}function gi(...t){return IC()(Jt(t,Pi(t)))}function Oo(t){return new je(n=>{et(t()).subscribe(n)})}function cl(...t){let n=ku(t),{args:e,keys:i}=Wu(t),r=new je(s=>{let{length:o}=e;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;et(e[u]).subscribe(He(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?Gu(i,a):a),s.complete())}))}});return n?r.pipe(Ro(n)):r}var Sk=["addListener","removeListener"],xk=["addEventListener","removeEventListener"],Tk=["on","off"];function mn(t,n,e,i){if(Re(e)&&(i=e,e=void 0),i)return mn(t,n,e).pipe(Ro(i));let[r,s]=Ak(t)?xk.map(o=>a=>t[o](n,a,e)):Ik(t)?Sk.map(MC(t,n)):Mk(t)?Tk.map(MC(t,n)):[];if(!r&&Ao(t))return Ni(o=>mn(o,n,e))(et(t));if(!r)throw new TypeError("Invalid event target");return new je(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function MC(t,n){return e=>i=>t[e](n,i)}function Ik(t){return Re(t.addListener)&&Re(t.removeListener)}function Mk(t){return Re(t.on)&&Re(t.off)}function Ak(t){return Re(t.addEventListener)&&Re(t.removeEventListener)}function Jn(t=0,n,e=hC){let i=-1;return n!=null&&(Ou(n)?e=n:i=n),new je(r=>{let s=SC(t)?+t-e.now():t;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function ei(...t){let n=Pi(t),e=fC(t,1/0),i=t;return i.length?i.length===1?et(i[0]):Qu(e)(Jt(i,n)):Ss}function ut(t,n){return $e((e,i)=>{let r=0;e.subscribe(He(i,s=>t.call(n,s,r++)&&i.next(s)))})}function AC(t){return $e((n,e)=>{let i=!1,r=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;let c=r;r=null,e.next(c)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};n.subscribe(He(e,c=>{i=!0,r=c,s||et(t(c)).subscribe(s=He(e,a,l))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}function Yu(t,n=cr){return AC(()=>Jn(t,n))}function Li(t){return $e((n,e)=>{let i=null,r=!1,s;i=n.subscribe(He(e,void 0,void 0,o=>{s=et(t(o,Li(t)(n))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function ul(t,n){return Re(n)?Ni(t,n,1):Ni(t,1)}function Vi(t,n=cr){return $e((e,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=s;s=null,i.next(c)}};function l(){let c=o+t,u=n.now();if(u<c){r=this.schedule(void 0,c-u),i.add(r);return}a()}e.subscribe(He(i,c=>{s=c,o=n.now(),r||(r=n.schedule(l,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function RC(t){return $e((n,e)=>{let i=!1;n.subscribe(He(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function Xe(t){return t<=0?()=>Ss:$e((n,e)=>{let i=0;n.subscribe(He(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function OC(){return $e((t,n)=>{t.subscribe(He(n,ws))})}function kC(t){return xe(()=>t)}function om(t,n){return n?e=>gi(n.pipe(Xe(1),OC()),e.pipe(om(t))):Ni((e,i)=>et(t(e,i)).pipe(Xe(1),kC(e)))}function am(t,n=cr){let e=Jn(t,n);return om(()=>e)}function dl(t,n=Pn){return t=t??Rk,$e((e,i)=>{let r,s=!0;e.subscribe(He(i,o=>{let a=n(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function Rk(t,n){return t===n}function FC(t=Ok){return $e((n,e)=>{let i=!1;n.subscribe(He(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function Ok(){return new qu}function Ku(t){return $e((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function Nr(t,n){let e=arguments.length>=2;return i=>i.pipe(t?ut((r,s)=>t(r,s,i)):Pn,Xe(1),e?RC(n):FC(()=>new qu))}function Zu(){return $e((t,n)=>{let e,i=!1;t.subscribe(He(n,r=>{let s=e;e=r,i&&n.next([s,r]),i=!0}))})}function lm(...t){let n=t.length;if(n===0)throw new Error("list of properties cannot be empty.");return xe(e=>{let i=e;for(let r=0;r<n;r++){let s=i?.[t[r]];if(typeof s<"u")i=s;else return}return i})}function PC(t={}){let{connector:n=()=>new ye,resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{let m=o;f(),m?.unsubscribe()};return $e((m,_)=>{c++,!d&&!u&&h();let D=l=l??n();_.add(()=>{c--,c===0&&!d&&!u&&(a=cm(p,r))}),D.subscribe(_),!o&&c>0&&(o=new lr({next:w=>D.next(w),error:w=>{d=!0,h(),a=cm(f,e,w),D.error(w)},complete:()=>{u=!0,h(),a=cm(f,i),D.complete()}}),et(m).subscribe(o))})(s)}}function cm(t,n,...e){if(n===!0){t();return}if(n===!1)return;let i=new lr({next:()=>{i.unsubscribe(),t()}});return et(n(...e)).subscribe(i)}function gt(t,n,e){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:e}=t:i=t??1/0,PC({connector:()=>new Fi(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Xu(t){return ut((n,e)=>t<=e)}function ur(...t){let n=Pi(t);return $e((e,i)=>{(n?gi(t,e,n):gi(t,e)).subscribe(i)})}function Lt(t,n){return $e((e,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();e.subscribe(He(i,l=>{r?.unsubscribe();let c=0,u=s++;et(t(l,u)).subscribe(r=He(i,d=>i.next(n?n(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function _t(t){return $e((n,e)=>{et(t).subscribe(He(e,()=>e.complete(),ws)),!e.closed&&n.subscribe(e)})}function dn(t,n,e){let i=Re(t)||n||e?{next:t,error:n,complete:e}:t;return i?$e((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(He(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Pn}function NC(t,n){return $e((e,i)=>{let{leading:r=!0,trailing:s=!1}=n??{},o=!1,a=null,l=null,c=!1,u=()=>{l?.unsubscribe(),l=null,s&&(f(),c&&i.complete())},d=()=>{l=null,c&&i.complete()},h=p=>l=et(t(p)).subscribe(He(i,u,d)),f=()=>{if(o){o=!1;let p=a;a=null,i.next(p),!c&&h(p)}};e.subscribe(He(i,p=>{o=!0,a=p,!(l&&!l.closed)&&(r?f():h(p))},()=>{c=!0,!(s&&o&&l&&!l.closed)&&i.complete()}))})}function um(t,n=cr,e){let i=Jn(t,n);return NC(()=>i,e)}var qw="https://g.co/ng/security#xss",re=class extends Error{constructor(n,e){super(Wd(n,e)),this.code=n}};function Wd(t,n){return`${`NG0${Math.abs(t)}`}${n?": "+n:""}`}function $s(t){return{toString:t}.toString()}var Po="__annotations__",No="__parameters__",LC="__prop__metadata__";function kk(t,n,e,i,r){return $s(()=>{let s=Ww(n);function o(...a){if(this instanceof o)return s.call(this,...a),this;let l=new o(...a);return function(u){return r&&r(u,...a),(u.hasOwnProperty(Po)?u[Po]:Object.defineProperty(u,Po,{value:[]})[Po]).push(l),i&&i(u),u}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function Ww(t){return function(...e){if(t){let i=t(...e);for(let r in i)this[r]=i[r]}}}function Jo(t,n,e){return $s(()=>{let i=Ww(n);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(No)?l[No]:Object.defineProperty(l,No,{value:[]})[No];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var en=globalThis;function ht(t){for(let n in t)if(t[n]===ht)return n;throw Error("Could not find renamed property on target object.")}function Fk(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function hn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(hn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let n=t.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function Fm(t,n){return t==null||t===""?n===null?"":n:n==null||n===""?t:t+" "+n}var Pk=ht({__forward_ref__:ht});function oi(t){return t.__forward_ref__=oi,t.toString=function(){return hn(this())},t}function dt(t){return Gd(t)?t():t}function Gd(t){return typeof t=="function"&&t.hasOwnProperty(Pk)&&t.__forward_ref__===oi}function Nk(t,n,e){t!=n&&Lk(e,t,n,"==")}function Lk(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(i==null?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function De(t){return{providers:t.providers||[],imports:t.imports||[]}}function t_(t){return VC(t,Gw)||VC(t,Qw)}function VC(t,n){return t.hasOwnProperty(n)?t[n]:null}function Vk(t){let n=t&&(t[Gw]||t[Qw]);return n||null}function jC(t){return t&&(t.hasOwnProperty(Pm)||t.hasOwnProperty(jk))?t[Pm]:null}var Gw=ht({\u0275prov:ht}),Pm=ht({\u0275inj:ht}),Qw=ht({ngInjectableDef:ht}),jk=ht({ngInjectorDef:ht}),le=class{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=G({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Yw(t){return t&&!!t.\u0275providers}var Bk=ht({\u0275cmp:ht}),Uk=ht({\u0275dir:ht}),$k=ht({\u0275pipe:ht}),Kw=ht({\u0275mod:ht}),Cl=ht({\u0275fac:ht}),gl=ht({__NG_ELEMENT_ID__:ht}),BC=ht({__NG_ENV_ID__:ht});function Be(t){return typeof t=="string"?t:t==null?"":String(t)}function Vr(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Be(t)}function Hk(t,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new re(-200,t)}function n_(t,n){throw new re(-201,!1)}var Ze=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ze||{}),Nm;function Zw(){return Nm}function Tn(t){let n=Nm;return Nm=t,n}function Xw(t,n,e){let i=t_(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&Ze.Optional)return null;if(n!==void 0)return n;n_(t,"Injector")}var zk={},wl=zk,Lm="__NG_DI_FLAG__",yd="ngTempTokenPath",qk="ngTokenPath",Wk=/\n/gm,Gk="\u0275",UC="__source",Uo;function Qk(){return Uo}function jr(t){let n=Uo;return Uo=t,n}function Yk(t,n=Ze.Default){if(Uo===void 0)throw new re(-203,!1);return Uo===null?Xw(t,void 0,n):Uo.get(t,n&Ze.Optional?null:void 0,n)}function P(t,n=Ze.Default){return(Zw()||Yk)(dt(t),n)}function Kk(t){throw new re(202,!1)}function he(t,n=Ze.Default){return P(t,Qd(n))}function Qd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Vm(t){let n=[];for(let e=0;e<t.length;e++){let i=dt(t[e]);if(Array.isArray(i)){if(i.length===0)throw new re(900,!1);let r,s=Ze.Default;for(let o=0;o<i.length;o++){let a=i[o],l=Zk(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}n.push(P(r,s))}else n.push(P(i))}return n}function Pl(t,n){return t[Lm]=n,t.prototype[Lm]=n,t}function Zk(t){return t[Lm]}function Xk(t,n,e,i){let r=t[yd];throw n[UC]&&r.unshift(n[UC]),t.message=Jk(`
`+t.message,r,e,i),t[qk]=r,t[yd]=null,t}function Jk(t,n,e,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Gk?t.slice(2):t;let r=hn(n);if(Array.isArray(n))r=n.map(hn).join(" -> ");else if(typeof n=="object"){let s=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):hn(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(Wk,`
  `)}`}var eF=Pl(Jo("Inject",t=>({token:t})),-1),Yd=Pl(Jo("Optional"),8),tF=Pl(Jo("Self"),2),i_=Pl(Jo("SkipSelf"),4),nF=Pl(Jo("Host"),1);function Ms(t,n){let e=t.hasOwnProperty(Cl);return e?t[Cl]:null}function iF(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=n[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}function Br(t){return t.flat(Number.POSITIVE_INFINITY)}function r_(t,n){t.forEach(e=>Array.isArray(e)?r_(e,n):n(e))}function Jw(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function bd(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ud(t,n){let e=[];for(let i=0;i<t;i++)e.push(n);return e}function $C(t,n,e){let i=t.length-e;for(;n<i;)t[n]=t[n+e],n++;for(;e--;)t.pop()}function eD(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(r===1)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;){let s=r-2;t[r]=t[s],r--}t[n]=e,t[n+1]=i}}function jn(t,n,e){let i=Nl(t,n);return i>=0?t[i|1]=e:(i=~i,eD(t,i,n,e)),i}function dm(t,n){let e=Nl(t,n);if(e>=0)return t[e|1]}function Nl(t,n){return rF(t,n,1)}function rF(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<e];if(n===o)return s<<e;o>n?r=s:i=s+1}return~(r<<e)}var hr={},vt=[],Dl=new le(""),tD=new le("",-1),nD=new le(""),Cd=class{get(n,e=wl){if(e===wl){let i=new Error(`NullInjectorError: No provider for ${hn(n)}!`);throw i.name="NullInjectorError",i}return e}},iD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(iD||{}),Ui=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ui||{}),zr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(zr||{});function sF(t,n,e){let i=t.length;for(;;){let r=t.indexOf(n,e);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=n.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}e=r+1}}function jm(t,n,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let s=e[i++],o=e[i++],a=e[i++];t.setAttribute(n,o,a,s)}else{let s=r,o=e[++i];oF(s)?t.setProperty(n,s,o):t.setAttribute(n,s,o),i++}}return i}function rD(t){return t===3||t===4||t===6}function oF(t){return t.charCodeAt(0)===64}function El(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?HC(t,e,r,null,n[++i]):HC(t,e,r,null,null))}}return t}function HC(t,n,e,i,r){let s=0,o=t.length;if(n===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===n){o=-1;break}else if(a>n){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===e){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,n),s=o+1),t.splice(s++,0,e),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var sD="ng-template";function aF(t,n,e,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&sF(n[r+1].toLowerCase(),e,0)!==-1)return!0}else if(s_(t))return!1;if(r=n.indexOf(1,r),r>-1){let s;for(;++r<n.length&&typeof(s=n[r])=="string";)if(s.toLowerCase()===e)return!0}return!1}function s_(t){return t.type===4&&t.value!==sD}function lF(t,n,e){let i=t.type===4&&!e?sD:t.value;return n===i}function cF(t,n,e){let i=4,r=t.attrs,s=r!==null?hF(r):0,o=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!o&&!_i(i)&&!_i(l))return!1;if(o&&_i(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!lF(t,l,e)||l===""&&n.length===1){if(_i(i))return!1;o=!0}}else if(i&8){if(r===null||!aF(t,r,l,e)){if(_i(i))return!1;o=!0}}else{let c=n[++a],u=uF(l,r,s_(t),e);if(u===-1){if(_i(i))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(_i(i))return!1;o=!0}}}}return _i(i)||o}function _i(t){return(t&1)===0}function uF(t,n,e,i){if(n===null)return-1;let r=0;if(i||!e){let s=!1;for(;r<n.length;){let o=n[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return fF(n,t)}function oD(t,n,e=!1){for(let i=0;i<n.length;i++)if(cF(t,n[i],e))return!0;return!1}function dF(t){let n=t.attrs;if(n!=null){let e=n.indexOf(5);if(!(e&1))return n[e+1]}return null}function hF(t){for(let n=0;n<t.length;n++){let e=t[n];if(rD(e))return n}return t.length}function fF(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let i=t[e];if(typeof i=="number")return-1;if(i===n)return e;e++}return-1}function pF(t,n){e:for(let e=0;e<n.length;e++){let i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function zC(t,n){return t?":not("+n.trim()+")":n}function mF(t){let n=t[0],e=1,i=2,r="",s=!1;for(;e<t.length;){let o=t[e];if(typeof o=="string")if(i&2){let a=t[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!_i(o)&&(n+=zC(s,r),r=""),i=o,s=s||!_i(i);e++}return r!==""&&(n+=zC(s,r)),n}function gF(t){return t.map(mF).join(",")}function _F(t){let n=[],e=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&n.push(s,t[++i]):r===8&&e.push(s);else{if(!_i(r))break;r=s}i++}return{attrs:n,classes:e}}function Ie(t){return $s(()=>{let n=aD(t),e=Se(V({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===iD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ui.Emulated,styles:t.styles||vt,_:null,schemas:t.schemas||null,tView:null,id:""});lD(e);let i=t.dependencies;return e.directiveDefs=wd(i,!1),e.pipeDefs=wd(i,!0),e.id=bF(e),e})}function vF(t){return Ln(t)||Hs(t)}function yF(t){return t!==null}function Ee(t){return $s(()=>({type:t.type,bootstrap:t.bootstrap||vt,declarations:t.declarations||vt,imports:t.imports||vt,exports:t.exports||vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qC(t,n){if(t==null)return hr;let e={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,o,a=zr.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),n?(e[s]=a!==zr.None?[i,a]:i,n[s]=o):e[s]=i}return e}function Me(t){return $s(()=>{let n=aD(t);return lD(n),n})}function ea(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ln(t){return t[Bk]||null}function Hs(t){return t[Uk]||null}function ta(t){return t[$k]||null}function Bm(t){let n=Ln(t)||Hs(t)||ta(t);return n!==null?n.standalone:!1}function Sl(t,n){let e=t[Kw]||null;if(!e&&n===!0)throw new Error(`Type ${hn(t)} does not have '\u0275mod' property.`);return e}function aD(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||hr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qC(t.inputs,n),outputs:qC(t.outputs),debugInfo:null}}function lD(t){t.features?.forEach(n=>n(t))}function wd(t,n){if(!t)return null;let e=n?ta:vF;return()=>(typeof t=="function"?t():t).map(i=>e(i)).filter(yF)}function bF(t){let n=0,e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of e)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Kd(t){return{\u0275providers:t}}function o_(...t){return{\u0275providers:a_(!0,t),\u0275fromNgModule:!0}}function a_(t,...n){let e=[],i=new Set,r,s=o=>{e.push(o)};return r_(n,o=>{let a=o;Um(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&cD(r,s),e}function cD(t,n){for(let e=0;e<t.length;e++){let{ngModule:i,providers:r}=t[e];l_(r,s=>{n(s,i)})}}function Um(t,n,e,i){if(t=dt(t),!t)return!1;let r=null,s=jC(t),o=!s&&Ln(t);if(!s&&!o){let l=t.ngModule;if(s=jC(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Um(c,n,e,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{r_(s.imports,u=>{Um(u,n,e,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&cD(c,n)}if(!a){let c=Ms(r)||(()=>new r);n({provide:r,useFactory:c,deps:vt},r),n({provide:nD,useValue:r,multi:!0},r),n({provide:Dl,useValue:()=>P(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=t;l_(l,u=>{n(u,c)})}}else return!1;return r!==t&&t.providers!==void 0}function l_(t,n){for(let e of t)Yw(e)&&(e=e.\u0275providers),Array.isArray(e)?l_(e,n):n(e)}var CF=ht({provide:String,useValue:ht});function uD(t){return t!==null&&typeof t=="object"&&CF in t}function wF(t){return!!(t&&t.useExisting)}function DF(t){return!!(t&&t.useFactory)}function qo(t){return typeof t=="function"}function EF(t){return!!t.useClass}var Zd=new le(""),dd={},SF={},hm;function c_(){return hm===void 0&&(hm=new Cd),hm}var Vn=class{},xl=class extends Vn{get destroyed(){return this._destroyed}constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hm(n,o=>this.processProvider(o)),this.records.set(tD,Lo(void 0,this)),r.has("environment")&&this.records.set(Vn,Lo(void 0,this));let s=this.records.get(Zd);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(nD,vt,Ze.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=qe(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),qe(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let e=jr(this),i=Tn(void 0),r;try{return n()}finally{jr(e),Tn(i)}}get(n,e=wl,i=Ze.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(BC))return n[BC](this);i=Qd(i);let r,s=jr(this),o=Tn(void 0);try{if(!(i&Ze.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=AF(n)&&t_(n);c&&this.injectableDefInScope(c)?l=Lo($m(n),dd):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=i&Ze.Self?c_():this.parent;return e=i&Ze.Optional&&e===wl?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[yd]=a[yd]||[]).unshift(hn(n)),s)throw a;return Xk(a,n,"R3InjectorError",this.source)}else throw a}finally{Tn(o),jr(s)}}resolveInjectorInitializers(){let n=qe(null),e=jr(this),i=Tn(void 0),r;try{let s=this.get(Dl,vt,Ze.Self);for(let o of s)o()}finally{jr(e),Tn(i),qe(n)}}toString(){let n=[],e=this.records;for(let i of e.keys())n.push(hn(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(n){n=dt(n);let e=qo(n)?n:dt(n&&n.provide),i=TF(n);if(!qo(n)&&n.multi===!0){let r=this.records.get(e);r||(r=Lo(void 0,dd,!0),r.factory=()=>Vm(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){let i=qe(null);try{return e.value===dd&&(e.value=SF,e.value=e.factory()),typeof e.value=="object"&&e.value&&MF(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{qe(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=dt(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function $m(t){let n=t_(t),e=n!==null?n.factory:Ms(t);if(e!==null)return e;if(t instanceof le)throw new re(204,!1);if(t instanceof Function)return xF(t);throw new re(204,!1)}function xF(t){if(t.length>0)throw new re(204,!1);let e=Vk(t);return e!==null?()=>e.factory(t):()=>new t}function TF(t){if(uD(t))return Lo(void 0,t.useValue);{let n=dD(t);return Lo(n,dd)}}function dD(t,n,e){let i;if(qo(t)){let r=dt(t);return Ms(r)||$m(r)}else if(uD(t))i=()=>dt(t.useValue);else if(DF(t))i=()=>t.useFactory(...Vm(t.deps||[]));else if(wF(t))i=()=>P(dt(t.useExisting));else{let r=dt(t&&(t.useClass||t.provide));if(IF(t))i=()=>new r(...Vm(t.deps));else return Ms(r)||$m(r)}return i}function Lo(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function IF(t){return!!t.deps}function MF(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function AF(t){return typeof t=="function"||typeof t=="object"&&t instanceof le}function Hm(t,n){for(let e of t)Array.isArray(e)?Hm(e,n):e&&Yw(e)?Hm(e.\u0275providers,n):n(e)}function hD(t,n){t instanceof xl&&t.assertNotDestroyed();let e,i=jr(t),r=Tn(void 0);try{return n()}finally{jr(i),Tn(r)}}function fD(){return Zw()!==void 0||Qk()!=null}function u_(t){if(!fD())throw new re(-203,!1)}function fm(t){let n=en.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}var RF=Function;function fl(t){return typeof t=="function"}var OF=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,kF=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,FF=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,PF=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;function NF(t){return OF.test(t)||PF.test(t)||kF.test(t)&&!FF.test(t)}var zm=class{constructor(n){this._reflect=n||en.Reflect}factory(n){return(...e)=>new n(...e)}_zipTypesAndAnnotations(n,e){let i;typeof n>"u"?i=ud(e.length):i=ud(n.length);for(let r=0;r<i.length;r++)typeof n>"u"?i[r]=[]:n[r]&&n[r]!=Object?i[r]=[n[r]]:i[r]=[],e&&e[r]!=null&&(i[r]=i[r].concat(e[r]));return i}_ownParameters(n,e){let i=n.toString();if(NF(i))return null;if(n.parameters&&n.parameters!==e.parameters)return n.parameters;let r=n.ctorParameters;if(r&&r!==e.ctorParameters){let a=typeof r=="function"?r():r,l=a.map(u=>u&&u.type),c=a.map(u=>u&&pm(u.decorators));return this._zipTypesAndAnnotations(l,c)}let s=n.hasOwnProperty(No)&&n[No],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",n);return o||s?this._zipTypesAndAnnotations(o,s):ud(n.length)}parameters(n){if(!fl(n))return[];let e=Ju(n),i=this._ownParameters(n,e);return!i&&e!==Object&&(i=this.parameters(e)),i||[]}_ownAnnotations(n,e){if(n.annotations&&n.annotations!==e.annotations){let i=n.annotations;return typeof i=="function"&&i.annotations&&(i=i.annotations),i}return n.decorators&&n.decorators!==e.decorators?pm(n.decorators):n.hasOwnProperty(Po)?n[Po]:null}annotations(n){if(!fl(n))return[];let e=Ju(n),i=this._ownAnnotations(n,e)||[];return(e!==Object?this.annotations(e):[]).concat(i)}_ownPropMetadata(n,e){if(n.propMetadata&&n.propMetadata!==e.propMetadata){let i=n.propMetadata;return typeof i=="function"&&i.propMetadata&&(i=i.propMetadata),i}if(n.propDecorators&&n.propDecorators!==e.propDecorators){let i=n.propDecorators,r={};return Object.keys(i).forEach(s=>{r[s]=pm(i[s])}),r}return n.hasOwnProperty(LC)?n[LC]:null}propMetadata(n){if(!fl(n))return{};let e=Ju(n),i={};if(e!==Object){let s=this.propMetadata(e);Object.keys(s).forEach(o=>{i[o]=s[o]})}let r=this._ownPropMetadata(n,e);return r&&Object.keys(r).forEach(s=>{let o=[];i.hasOwnProperty(s)&&o.push(...i[s]),o.push(...r[s]),i[s]=o}),i}ownPropMetadata(n){return fl(n)?this._ownPropMetadata(n,Ju(n))||{}:{}}hasLifecycleHook(n,e){return n instanceof RF&&e in n.prototype}};function pm(t){return t?t.map(n=>{let i=n.type.annotationCls,r=n.args?n.args:[];return new i(...r)}):[]}function Ju(t){let n=t.prototype?Object.getPrototypeOf(t.prototype):null;return(n?n.constructor:null)||Object}var Wi=0,ve=1,Te=2,an=3,vi=4,_n=5,Wo=6,Dd=7,sn=8,tn=9,$i=10,We=11,Tl=12,WC=13,na=14,gn=15,As=16,Vo=17,fr=18,Xd=19,pD=20,$r=21,hd=22,ti=23,ot=25,d_=1;var Rs=7,Ed=8,Go=9,on=10,Sd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Sd||{});function Hr(t){return Array.isArray(t)&&typeof t[d_]=="object"}function pr(t){return Array.isArray(t)&&t[d_]===!0}function h_(t){return(t.flags&4)!==0}function Jd(t){return t.componentOffset>-1}function eh(t){return(t.flags&1)===1}function yi(t){return!!t.template}function qm(t){return(t[Te]&512)!==0}function Wm(t){return(t[Te]&256)===256}var Gm=class{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function mD(t,n,e,i){n!==null?n.applyValueToInputSignal(n,i):t[e]=i}function tt(){return gD}function gD(t){return t.type.prototype.ngOnChanges&&(t.setInput=VF),LF}tt.ngInherit=!0;function LF(){let t=vD(this),n=t?.current;if(n){let e=t.previous;if(e===hr)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function VF(t,n,e,i,r){let s=this.declaredInputs[i],o=vD(t)||jF(t,{previous:hr,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Gm(c&&c.currentValue,e,l===hr),mD(t,n,r,e)}var _D="__ngSimpleChanges__";function vD(t){return t[_D]||null}function jF(t,n){return t[_D]=n}var GC=null;var ji=function(t,n,e){GC?.(t,n,e)},yD="svg",bD="math";function ni(t){for(;Array.isArray(t);)t=t[Wi];return t}function BF(t){for(;Array.isArray(t);){if(typeof t[d_]=="object")return t;t=t[Wi]}return null}function Ll(t,n){return ni(n[t])}function Bn(t,n){return ni(n[t.index])}function Vl(t,n){return t.data[n]}function zs(t,n){return t[n]}function Gr(t,n){let e=n[t];return Hr(e)?e:e[Wi]}function UF(t){return(t[Te]&4)===4}function f_(t){return(t[Te]&128)===128}function $F(t){return pr(t[an])}function ii(t,n){return n==null?null:t[n]}function CD(t){t[Vo]=0}function wD(t){t[Te]&1024||(t[Te]|=1024,f_(t)&&nh(t))}function DD(t,n){for(;t>0;)n=n[na],t--;return n}function th(t){return!!(t[Te]&9216||t[ti]?.dirty)}function Qm(t){t[$i].changeDetectionScheduler?.notify(8),t[Te]&64&&(t[Te]|=1024),th(t)&&nh(t)}function nh(t){t[$i].changeDetectionScheduler?.notify(0);let n=Os(t);for(;n!==null&&!(n[Te]&8192||(n[Te]|=8192,!f_(n)));)n=Os(n)}function ih(t,n){if((t[Te]&256)===256)throw new re(911,!1);t[$r]===null&&(t[$r]=[]),t[$r].push(n)}function p_(t,n){if(t[$r]===null)return;let e=t[$r].indexOf(n);e!==-1&&t[$r].splice(e,1)}function Os(t){let n=t[an];return pr(n)?n[an]:n}var Ne={lFrame:FD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ED=!1;function HF(){return Ne.lFrame.elementDepthCount}function zF(){Ne.lFrame.elementDepthCount++}function qF(){Ne.lFrame.elementDepthCount--}function SD(){return Ne.bindingsEnabled}function xD(){return Ne.skipHydrationRootTNode!==null}function WF(t){return Ne.skipHydrationRootTNode===t}function GF(){Ne.bindingsEnabled=!0}function QF(){Ne.bindingsEnabled=!1}function YF(){Ne.skipHydrationRootTNode=null}function N(){return Ne.lFrame.lView}function Ge(){return Ne.lFrame.tView}function $(t){return Ne.lFrame.contextLView=t,t[sn]}function H(t){return Ne.lFrame.contextLView=null,t}function ct(){let t=TD();for(;t!==null&&t.type===64;)t=t.parent;return t}function TD(){return Ne.lFrame.currentTNode}function Il(){let t=Ne.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function bi(t,n){let e=Ne.lFrame;e.currentTNode=t,e.isParent=n}function m_(){return Ne.lFrame.isParent}function g_(){Ne.lFrame.isParent=!1}function ID(){return Ne.lFrame.contextLView}function MD(){return ED}function QC(t){ED=t}function vn(){let t=Ne.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function mr(){return Ne.lFrame.bindingIndex}function AD(t){return Ne.lFrame.bindingIndex=t}function Ci(){return Ne.lFrame.bindingIndex++}function gr(t){let n=Ne.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function KF(){return Ne.lFrame.inI18n}function RD(t){Ne.lFrame.inI18n=t}function ZF(t,n){let e=Ne.lFrame;e.bindingIndex=e.bindingRootIndex=t,Ym(n)}function XF(){return Ne.lFrame.currentDirectiveIndex}function Ym(t){Ne.lFrame.currentDirectiveIndex=t}function __(t){let n=Ne.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function v_(){return Ne.lFrame.currentQueryIndex}function rh(t){Ne.lFrame.currentQueryIndex=t}function JF(t){let n=t[ve];return n.type===2?n.declTNode:n.type===1?t[_n]:null}function OD(t,n,e){if(e&Ze.SkipSelf){let r=n,s=t;for(;r=r.parent,r===null&&!(e&Ze.Host);)if(r=JF(s),r===null||(s=s[na],r.type&10))break;if(r===null)return!1;n=r,t=s}let i=Ne.lFrame=kD();return i.currentTNode=n,i.lView=t,!0}function y_(t){let n=kD(),e=t[ve];Ne.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function kD(){let t=Ne.lFrame,n=t===null?null:t.child;return n===null?FD(t):n}function FD(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function PD(){let t=Ne.lFrame;return Ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ND=PD;function b_(){let t=PD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function eP(t){return(Ne.lFrame.contextLView=DD(t,Ne.lFrame.contextLView))[sn]}function cn(){return Ne.lFrame.selectedIndex}function ks(t){Ne.lFrame.selectedIndex=t}function yt(){let t=Ne.lFrame;return Vl(t.tView,t.selectedIndex)}function C_(){Ne.lFrame.currentNamespace=yD}function tP(){Ne.lFrame.currentNamespace=bD}function nP(){iP()}function iP(){Ne.lFrame.currentNamespace=null}function rP(){return Ne.lFrame.currentNamespace}var LD=!0;function jl(){return LD}function Bl(t){LD=t}function sP(t,n,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=n.type.prototype;if(i){let o=gD(n);(e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o)}r&&(e.preOrderHooks??=[]).push(0-t,r),s&&((e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s))}function sh(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){let s=t.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-e,o),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),u!=null&&(t.destroyHooks??=[]).push(e,u)}}function fd(t,n,e){VD(t,n,3,e)}function pd(t,n,e,i){(t[Te]&3)===e&&VD(t,n,e,i)}function mm(t,n){let e=t[Te];(e&3)===n&&(e&=16383,e+=1,t[Te]=e)}function VD(t,n,e,i){let r=i!==void 0?t[Vo]&65535:0,s=i??-1,o=n.length-1,a=0;for(let l=r;l<o;l++)if(typeof n[l+1]=="number"){if(a=n[l],i!=null&&a>=i)break}else n[l]<0&&(t[Vo]+=65536),(a<s||s==-1)&&(oP(t,e,n,l),t[Vo]=(t[Vo]&4294901760)+l+2),l++}function YC(t,n){ji(4,t,n);let e=qe(null);try{n.call(t)}finally{qe(e),ji(5,t,n)}}function oP(t,n,e,i){let r=e[i]<0,s=e[i+1],o=r?-e[i]:e[i],a=t[o];r?t[Te]>>14<t[Vo]>>16&&(t[Te]&3)===n&&(t[Te]+=16384,YC(a,s)):YC(a,s)}var $o=-1,Fs=class{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}};function aP(t){return t instanceof Fs}function lP(t){return(t.flags&8)!==0}function cP(t){return(t.flags&16)!==0}var gm={},Ho=class{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=Qd(i);let r=this.injector.get(n,gm,i);return r!==gm||e===gm?r:this.parentInjector.get(n,e,i)}};function jD(t){return t!==$o}function xd(t){return t&32767}function uP(t){return t>>16}function Td(t,n){let e=uP(t),i=n;for(;e>0;)i=i[na],e--;return i}var Km=!0;function Id(t){let n=Km;return Km=t,n}var dP=256,BD=dP-1,UD=5,hP=0,Bi={};function fP(t,n,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(gl)&&(i=e[gl]),i==null&&(i=e[gl]=hP++);let r=i&BD,s=1<<r;n.data[t+(r>>UD)]|=s}function Md(t,n){let e=$D(t,n);if(e!==-1)return e;let i=n[ve];i.firstCreatePass&&(t.injectorIndex=n.length,_m(i.data,t),_m(n,null),_m(i.blueprint,null));let r=w_(t,n),s=t.injectorIndex;if(jD(r)){let o=xd(r),a=Td(r,n),l=a[ve].data;for(let c=0;c<8;c++)n[s+c]=a[o+c]|l[o+c]}return n[s+8]=r,s}function _m(t,n){t.push(0,0,0,0,0,0,0,0,n)}function $D(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function w_(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;r!==null;){if(i=GD(r),i===null)return $o;if(e++,r=r[na],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return $o}function Zm(t,n,e){fP(t,n,e)}function pP(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let i=e.length,r=0;for(;r<i;){let s=e[r];if(rD(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(s===n)return e[r+1];r=r+2}}}return null}function HD(t,n,e){if(e&Ze.Optional||t!==void 0)return t;n_(n,"NodeInjector")}function zD(t,n,e,i){if(e&Ze.Optional&&i===void 0&&(i=null),!(e&(Ze.Self|Ze.Host))){let r=t[tn],s=Tn(void 0);try{return r?r.get(n,i,e&Ze.Optional):Xw(n,i,e&Ze.Optional)}finally{Tn(s)}}return HD(i,n,e)}function qD(t,n,e,i=Ze.Default,r){if(t!==null){if(n[Te]&2048&&!(i&Ze.Self)){let o=vP(t,n,e,i,Bi);if(o!==Bi)return o}let s=WD(t,n,e,i,Bi);if(s!==Bi)return s}return zD(n,e,i,r)}function WD(t,n,e,i,r){let s=gP(e);if(typeof s=="function"){if(!OD(n,t,i))return i&Ze.Host?HD(r,e,i):zD(n,e,i,r);try{let o;if(o=s(i),o==null&&!(i&Ze.Optional))n_(e);else return o}finally{ND()}}else if(typeof s=="number"){let o=null,a=$D(t,n),l=$o,c=i&Ze.Host?n[gn][_n]:null;for((a===-1||i&Ze.SkipSelf)&&(l=a===-1?w_(t,n):n[a+8],l===$o||!ZC(i,!1)?a=-1:(o=n[ve],a=xd(l),n=Td(l,n)));a!==-1;){let u=n[ve];if(KC(s,a,u.data)){let d=mP(a,n,e,o,i,c);if(d!==Bi)return d}l=n[a+8],l!==$o&&ZC(i,n[ve].data[a+8]===c)&&KC(s,a,n)?(o=u,a=xd(l),n=Td(l,n)):a=-1}}return r}function mP(t,n,e,i,r,s){let o=n[ve],a=o.data[t+8],l=i==null?Jd(a)&&Km:i!=o&&(a.type&3)!==0,c=r&Ze.Host&&s===a,u=md(a,o,e,l,c);return u!==null?Ps(n,o,u,a):Bi}function md(t,n,e,i,r){let s=t.providerIndexes,o=n.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=o[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){let f=o[l];if(f&&yi(f)&&f.type===e)return l}return null}function Ps(t,n,e,i){let r=t[e],s=n.data;if(aP(r)){let o=r;o.resolving&&Hk(Vr(s[e]));let a=Id(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Tn(o.injectImpl):null,u=OD(t,i,Ze.Default);try{r=t[e]=o.factory(void 0,s,t,i),n.firstCreatePass&&e>=i.directiveStart&&sP(e,s[e],n)}finally{c!==null&&Tn(c),Id(a),o.resolving=!1,ND()}}return r}function gP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(gl)?t[gl]:void 0;return typeof n=="number"?n>=0?n&BD:_P:n}function KC(t,n,e){let i=1<<t;return!!(e[n+(t>>UD)]&i)}function ZC(t,n){return!(t&Ze.Self)&&!(t&Ze.Host&&n)}var Is=class{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return qD(this._tNode,this._lView,n,Qd(i),e)}};function _P(){return new Is(ct(),N())}function _r(t){return $s(()=>{let n=t.prototype.constructor,e=n[Cl]||Xm(n),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[Cl]||Xm(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Xm(t){return Gd(t)?()=>{let n=Xm(dt(t));return n&&n()}:Ms(t)}function vP(t,n,e,i,r){let s=t,o=n;for(;s!==null&&o!==null&&o[Te]&2048&&!(o[Te]&512);){let a=WD(s,o,e,i|Ze.Self,Bi);if(a!==Bi)return a;let l=s.parent;if(!l){let c=o[pD];if(c){let u=c.get(e,Bi,i);if(u!==Bi)return u}l=GD(o),o=o[na]}s=l}return r}function GD(t){let n=t[ve],e=n.type;return e===2?n.declTNode:e===1?t[_n]:null}function oh(t){return pP(ct(),t)}var yP=Jo("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>oh(t)})),XC=null;function bP(){return XC=XC||new zm}function CP(t){return wP(bP().parameters(t))}function wP(t){return t.map(n=>DP(n))}function DP(t){let n={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let e=0;e<t.length;e++){let i=t[e];if(i===void 0)continue;let r=Object.getPrototypeOf(i);if(i instanceof Yd||r.ngMetadataName==="Optional")n.optional=!0;else if(i instanceof i_||r.ngMetadataName==="SkipSelf")n.skipSelf=!0;else if(i instanceof tF||r.ngMetadataName==="Self")n.self=!0;else if(i instanceof nF||r.ngMetadataName==="Host")n.host=!0;else if(i instanceof eF)n.token=i.token;else if(i instanceof yP){if(i.attributeName===void 0)throw new re(204,!1);n.attribute=i.attributeName}else n.token=i}else t===void 0||Array.isArray(t)&&t.length===0?n.token=null:n.token=t;return n}function JC(t,n=null,e=null,i){let r=EP(t,n,e,i);return r.resolveInjectorInitializers(),r}function EP(t,n=null,e=null,i,r=new Set){let s=[e||vt,o_(t)];return i=i||(typeof t=="object"?void 0:hn(t)),new xl(s,n||c_(),i||null,r)}var Wt=class t{static{this.THROW_IF_NOT_FOUND=wl}static{this.NULL=new Cd}static create(n,e){if(Array.isArray(n))return JC({name:""},e,n,"");{let i=n.name??"";return JC({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=G({token:t,providedIn:"any",factory:()=>P(tD)})}static{this.__NG_ELEMENT_ID__=-1}};var SP=new le("");SP.__NG_ELEMENT_ID__=t=>{let n=ct();if(n===null)throw new re(204,!1);if(n.type&2)return n.value;if(t&Ze.Optional)return null;throw new re(204,!1)};var xP="ngOriginalError";function vm(t){return t[xP]}var QD=!0,ah=(()=>{class t{static{this.__NG_ELEMENT_ID__=TP}static{this.__NG_ENV_ID__=e=>e}}return t})(),Jm=class extends ah{constructor(n){super(),this._lView=n}onDestroy(n){return ih(this._lView,n),()=>p_(this._lView,n)}};function TP(){return new Jm(N())}var vr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ie(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}}return t})();var eg=class extends ye{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,fD()&&(this.destroyRef=he(ah,{optional:!0})??void 0,this.pendingTasks=he(vr,{optional:!0})??void 0)}emit(n){let e=qe(null);try{super.next(n)}finally{qe(e)}}subscribe(n,e,i){let r=n,s=e||(()=>null),o=i;if(n&&typeof n=="object"){let l=n;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return n instanceof lt&&n.add(a),a}wrapInTimeout(n){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{n(e),i!==void 0&&this.pendingTasks?.remove(i)})}}},fe=eg;function Ad(...t){}function YD(t){let n,e;function i(){t=Ad;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),i()})),()=>i()}function ew(t){return queueMicrotask(()=>t()),()=>{t=Ad}}var D_="isAngularZone",Rd=D_+"_ID",IP=0,pe=class t{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fe(!1),this.onMicrotaskEmpty=new fe(!1),this.onStable=new fe(!1),this.onError=new fe(!1);let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=QD}=n;if(typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,RP(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(D_)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new re(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,n,MP,Ad,Ad);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}},MP={};function E_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function AP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){YD(()=>{t.callbackScheduled=!1,tg(t),t.isCheckStableRunning=!0,E_(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),tg(t)}function RP(t){let n=()=>{AP(t)},e=IP++;t._inner=t._inner.fork({name:"angular",properties:{[D_]:!0,[Rd]:e,[Rd+e]:!0},onInvokeTask:(i,r,s,o,a,l)=>{if(OP(l))return i.invokeTask(s,o,a,l);try{return tw(t),i.invokeTask(s,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),nw(t)}},onInvoke:(i,r,s,o,a,l,c)=>{try{return tw(t),i.invoke(s,o,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!kP(l)&&n(),nw(t)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,tg(t),E_(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function tg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function tw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nw(t){t._nesting--,E_(t)}var ng=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fe,this.onMicrotaskEmpty=new fe,this.onStable=new fe,this.onError=new fe}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}};function OP(t){return KD(t,"__ignore_ng_zone__")}function kP(t){return KD(t,"__scheduler_tick__")}function KD(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var Hi=class{constructor(){this._console=console}handleError(n){let e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&vm(n);for(;e&&vm(e);)e=vm(e);return e||null}},FP=new le("",{providedIn:"root",factory:()=>{let t=he(pe),n=he(Hi);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function PP(){return ia(ct(),N())}function ia(t,n){return new Le(Bn(t,n))}var Le=(()=>{class t{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=PP}}return t})();function ZD(t){return t instanceof Le?t.nativeElement:t}function NP(){return this._results[Symbol.iterator]()}var Qo=class t{get changes(){return this._changes??=new fe}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=t.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=NP)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let i=Br(n);(this._changesDetected=!iF(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function XD(t){return(t.flags&128)===128}var JD=new Map,LP=0;function VP(){return LP++}function jP(t){JD.set(t[Xd],t)}function ig(t){JD.delete(t[Xd])}var iw="__ngContext__";function zi(t,n){Hr(n)?(t[iw]=n[Xd],jP(n)):t[iw]=n}function eE(t){return nE(t[Tl])}function tE(t){return nE(t[vi])}function nE(t){for(;t!==null&&!pr(t);)t=t[vi];return t}var rg;function iE(t){rg=t}function S_(){if(rg!==void 0)return rg;if(typeof document<"u")return document;throw new re(210,!1)}var Ul=new le("",{providedIn:"root",factory:()=>BP}),BP="ng",x_=new le(""),wi=new le("",{providedIn:"platform",factory:()=>"unknown"});var Gi=new le(""),$l=new le("",{providedIn:"root",factory:()=>S_().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var UP="h",$P="b";var HP=()=>null;function T_(t,n,e=!1){return HP(t,n,e)}var rE=!1,zP=new le("",{providedIn:"root",factory:()=>rE});var ed;function sE(){if(ed===void 0&&(ed=null,en.trustedTypes))try{ed=en.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ed}function ra(t){return sE()?.createHTML(t)||t}function qP(t){return sE()?.createScriptURL(t)||t}var td;function I_(){if(td===void 0&&(td=null,en.trustedTypes))try{td=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return td}function rw(t){return I_()?.createHTML(t)||t}function sw(t){return I_()?.createScript(t)||t}function ow(t){return I_()?.createScriptURL(t)||t}var Od=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qw})`}};function Qi(t){return t instanceof Od?t.changingThisBreaksApplicationSecurity:t}function sa(t,n){let e=WP(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${qw})`)}return e===n}function WP(t){return t instanceof Od&&t.getTypeName()||null}function oE(t){let n=new og(t);return GP()?new sg(n):n}var sg=class{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(ra(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.firstChild?.remove(),e)}catch{return null}}},og=class{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=ra(n),e}};function GP(){try{return!!new window.DOMParser().parseFromString(ra(""),"text/html")}catch{return!1}}var QP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function lh(t){return t=String(t),t.match(QP)?t:"unsafe:"+t}function yr(t){let n={};for(let e of t.split(","))n[e]=!0;return n}function Hl(...t){let n={};for(let e of t)for(let i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}var aE=yr("area,br,col,hr,img,wbr"),lE=yr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cE=yr("rp,rt"),YP=Hl(cE,lE),KP=Hl(lE,yr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ZP=Hl(cE,yr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ag=Hl(aE,KP,ZP,YP),M_=yr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),XP=yr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),JP=yr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),uE=Hl(M_,XP,JP),eN=yr("script,style,template"),lg=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){r.push(e),e=iN(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=nN(e);if(s){e=s;break}e=r.pop()}}return this.buf.join("")}startElement(n){let e=aw(n).toLowerCase();if(!ag.hasOwnProperty(e))return this.sanitizedSomething=!0,!eN.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=n.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!uE.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;M_[a]&&(l=lh(l)),this.buf.push(" ",o,'="',lw(l),'"')}return this.buf.push(">"),!0}endElement(n){let e=aw(n).toLowerCase();ag.hasOwnProperty(e)&&!aE.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(lw(n))}};function tN(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function nN(t){let n=t.nextSibling;if(n&&t!==n.previousSibling)throw dE(n);return n}function iN(t){let n=t.firstChild;if(n&&tN(t,n))throw dE(n);return n}function aw(t){let n=t.nodeName;return typeof n=="string"?n:"FORM"}function dE(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var rN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sN=/([^\#-~ |!])/g;function lw(t){return t.replace(/&/g,"&amp;").replace(rN,function(n){let e=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(sN,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var nd;function hE(t,n){let e=null;try{nd=nd||oE(t);let i=n?String(n):"";e=nd.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=nd.getInertBodyElement(i)}while(i!==s);let a=new lg().sanitizeChildren(cg(e)||e);return ra(a)}finally{if(e){let i=cg(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function cg(t){return"content"in t&&oN(t)?t.content:null}function oN(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var qs=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(qs||{});function Qr(t){let n=zl();return n?rw(n.sanitize(qs.HTML,t)||""):sa(t,"HTML")?rw(Qi(t)):hE(S_(),Be(t))}function aN(t){let n=zl();return n?n.sanitize(qs.STYLE,t)||"":sa(t,"Style")?Qi(t):Be(t)}function fn(t){let n=zl();return n?n.sanitize(qs.URL,t)||"":sa(t,"URL")?Qi(t):lh(Be(t))}function fE(t){let n=zl();if(n)return ow(n.sanitize(qs.RESOURCE_URL,t)||"");if(sa(t,"ResourceURL"))return ow(Qi(t));throw new re(904,!1)}function lN(t){let n=zl();if(n)return sw(n.sanitize(qs.SCRIPT,t)||"");if(sa(t,"Script"))return sw(Qi(t));throw new re(905,!1)}function cN(t){return ra(t[0])}function uN(t){return qP(t[0])}function dN(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?fE:fn}function hN(t,n,e){return dN(n,e)(t)}function zl(){let t=N();return t&&t[$i].sanitizer}var fN=/^>|^->|<!--|-->|--!>|<!-$/g,pN=/(<|>)/g,mN="\u200B$1\u200B";function gN(t){return t.replace(fN,n=>n.replace(pN,mN))}function _N(t){return t.ownerDocument.defaultView}function vN(t){return t.ownerDocument}function yN(t){return t.ownerDocument.body}function id(t){return t instanceof Function?t():t}function oa(t){return(t??he(Wt)).get(wi)==="browser"}var qi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qi||{}),ug;function A_(t,n){return ug(t,n)}function bN(t){ug===void 0&&(ug=t())}function jo(t,n,e,i,r){if(i!=null){let s,o=!1;pr(i)?s=i:Hr(i)&&(o=!0,i=i[Wi]);let a=ni(i);t===0&&e!==null?r==null?CE(n,e,a):Ns(n,e,a,r||null,!0):t===1&&e!==null?Ns(n,e,a,r||null,!0):t===2?F_(n,a,o):t===3&&n.destroyNode(a),s!=null&&MN(n,t,s,e,r)}}function pE(t,n){return t.createText(n)}function mE(t,n,e){t.setValue(n,e)}function gE(t,n){return t.createComment(gN(n))}function R_(t,n,e){return t.createElement(n,e)}function CN(t,n){_E(t,n),n[Wi]=null,n[_n]=null}function wN(t,n,e,i,r,s){i[Wi]=r,i[_n]=n,dh(t,i,e,1,r,s)}function _E(t,n){n[$i].changeDetectionScheduler?.notify(9),dh(t,n,n[We],2,null,null)}function DN(t){let n=t[Tl];if(!n)return ym(t[ve],t);for(;n;){let e=null;if(Hr(n))e=n[Tl];else{let i=n[on];i&&(e=i)}if(!e){for(;n&&!n[vi]&&n!==t;)Hr(n)&&ym(n[ve],n),n=n[an];n===null&&(n=t),Hr(n)&&ym(n[ve],n),e=n&&n[vi]}n=e}}function EN(t,n,e,i){let r=on+i,s=e.length;i>0&&(e[r-1][vi]=n),i<s-on?(n[vi]=e[r],Jw(e,on+i,n)):(e.push(n),n[vi]=null),n[an]=e;let o=n[As];o!==null&&e!==o&&vE(o,n);let a=n[fr];a!==null&&a.insertView(t),Qm(n),n[Te]|=128}function vE(t,n){let e=t[Go],i=n[an];if(Hr(i))t[Te]|=Sd.HasTransplantedViews;else{let r=i[an][gn];n[gn]!==r&&(t[Te]|=Sd.HasTransplantedViews)}e===null?t[Go]=[n]:e.push(n)}function O_(t,n){let e=t[Go],i=e.indexOf(n);e.splice(i,1)}function Ml(t,n){if(t.length<=on)return;let e=on+n,i=t[e];if(i){let r=i[As];r!==null&&r!==t&&O_(r,i),n>0&&(t[e-1][vi]=i[vi]);let s=bd(t,on+n);CN(i[ve],i);let o=s[fr];o!==null&&o.detachView(s[ve]),i[an]=null,i[vi]=null,i[Te]&=-129}return i}function ch(t,n){if(!(n[Te]&256)){let e=n[We];e.destroyNode&&dh(t,n,e,3,null,null),DN(n)}}function ym(t,n){if(n[Te]&256)return;let e=qe(null);try{n[Te]&=-129,n[Te]|=256,n[ti]&&Cu(n[ti]),xN(t,n),SN(t,n),n[ve].type===1&&n[We].destroy();let i=n[As];if(i!==null&&pr(n[an])){i!==n[an]&&O_(i,n);let r=n[fr];r!==null&&r.detachView(t)}ig(n)}finally{qe(e)}}function SN(t,n){let e=t.cleanup,i=n[Dd];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[e[s+1]];e[s].call(o)}i!==null&&(n[Dd]=null);let r=n[$r];if(r!==null){n[$r]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function xN(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=n[e[i]];if(!(r instanceof Fs)){let s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];ji(4,a,l);try{l.call(a)}finally{ji(5,a,l)}}else{ji(4,r,s);try{s.call(r)}finally{ji(5,r,s)}}}}}function yE(t,n,e){return bE(t,n.parent,e)}function bE(t,n,e){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return e[Wi];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===Ui.None||s===Ui.Emulated)return null}return Bn(i,e)}}function Ns(t,n,e,i,r){t.insertBefore(n,e,i,r)}function CE(t,n,e){t.appendChild(n,e)}function cw(t,n,e,i,r){i!==null?Ns(t,n,e,i,r):CE(t,n,e)}function k_(t,n){return t.parentNode(n)}function TN(t,n){return t.nextSibling(n)}function wE(t,n,e){return EE(t,n,e)}function DE(t,n,e){return t.type&40?Bn(t,e):null}var EE=DE,dg;function SE(t,n){EE=t,dg=n}function uh(t,n,e,i){let r=yE(t,i,n),s=n[We],o=i.parent||n[_n],a=wE(o,i,n);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)cw(s,r,e[l],a,!1);else cw(s,r,e,a,!1);dg!==void 0&&dg(s,i,n,e,r)}function pl(t,n){if(n!==null){let e=n.type;if(e&3)return Bn(n,t);if(e&4)return hg(-1,t[n.index]);if(e&8){let i=n.child;if(i!==null)return pl(t,i);{let r=t[n.index];return pr(r)?hg(-1,r):ni(r)}}else{if(e&128)return pl(t,n.next);if(e&32)return A_(n,t)()||ni(t[n.index]);{let i=xE(t,n);if(i!==null){if(Array.isArray(i))return i[0];let r=Os(t[gn]);return pl(r,i)}else return pl(t,n.next)}}}return null}function xE(t,n){if(n!==null){let i=t[gn][_n],r=n.projection;return i.projection[r]}return null}function hg(t,n){let e=on+t+1;if(e<n.length){let i=n[e],r=i[ve].firstChild;if(r!==null)return pl(i,r)}return n[Rs]}function F_(t,n,e){t.removeChild(null,n,e)}function P_(t,n,e,i,r,s,o){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=i[e.index],l=e.type;if(o&&n===0&&(a&&zi(ni(a),i),e.flags|=2),(e.flags&32)!==32)if(l&8)P_(t,n,e.child,i,r,s,!1),jo(n,t,r,a,s);else if(l&32){let c=A_(e,i),u;for(;u=c();)jo(n,t,r,u,s);jo(n,t,r,a,s)}else l&16?TE(t,n,i,e,r,s):jo(n,t,r,a,s);e=o?e.projectionNext:e.next}}function dh(t,n,e,i,r,s){P_(e,i,t.firstChild,n,r,s,!1)}function IN(t,n,e){let i=n[We],r=yE(t,e,n),s=e.parent||n[_n],o=wE(s,e,n);TE(i,0,n,e,r,o)}function TE(t,n,e,i,r,s){let o=e[gn],l=o[_n].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];jo(n,t,r,u,s)}else{let c=l,u=o[an];XD(i)&&(c.flags|=128),P_(t,n,c,u,r,s,!0)}}function MN(t,n,e,i,r){let s=e[Rs],o=ni(e);s!==o&&jo(n,t,i,s,r);for(let a=on;a<e.length;a++){let l=e[a];dh(l[ve],l,t,n,i,s)}}function AN(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let s=i.indexOf("-")===-1?void 0:qi.DashCase;r==null?t.removeStyle(e,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=qi.Important),t.setStyle(e,i,r,s))}}function RN(t,n,e){t.setAttribute(n,"style",e)}function IE(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function ME(t,n,e){let{mergedAttrs:i,classes:r,styles:s}=e;i!==null&&jm(t,n,i),r!==null&&IE(t,n,r),s!==null&&RN(t,n,s)}var Ve={};function v(t=1){AE(Ge(),N(),cn()+t,!1)}function AE(t,n,e,i){if(!i)if((n[Te]&3)===3){let s=t.preOrderCheckHooks;s!==null&&fd(n,s,e)}else{let s=t.preOrderHooks;s!==null&&pd(n,s,0,e)}ks(e)}function M(t,n=Ze.Default){let e=N();if(e===null)return P(t,n);let i=ct();return qD(i,e,dt(t),n)}function ON(){let t="invalid";throw new Error(t)}function RE(t,n,e,i,r,s){let o=qe(null);try{let a=null;r&zr.SignalBased&&(a=n[i][Zn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&zr.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(n,s)),t.setInput!==null?t.setInput(n,a,s,e,i):mD(n,a,i,s)}finally{qe(o)}}function kN(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)ks(~r);else{let s=r,o=e[++i],a=e[++i];ZF(o,s);let l=n[s];a(2,l)}}}finally{ks(-1)}}function hh(t,n,e,i,r,s,o,a,l,c,u){let d=n.blueprint.slice();return d[Wi]=r,d[Te]=i|4|128|8|64,(c!==null||t&&t[Te]&2048)&&(d[Te]|=2048),CD(d),d[an]=d[na]=t,d[sn]=e,d[$i]=o||t&&t[$i],d[We]=a||t&&t[We],d[tn]=l||t&&t[tn]||null,d[_n]=s,d[Xd]=VP(),d[Wo]=u,d[pD]=c,d[gn]=n.type==2?t[gn]:d,d}function Ws(t,n,e,i,r){let s=t.data[n];if(s===null)s=N_(t,n,e,i,r),KF()&&(s.flags|=32);else if(s.type&64){s.type=e,s.value=i,s.attrs=r;let o=Il();s.injectorIndex=o===null?-1:o.injectorIndex}return bi(s,!0),s}function N_(t,n,e,i,r){let s=TD(),o=m_(),a=o?s:s&&s.parent,l=t.data[n]=jN(t,a,e,n,i,r);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function ql(t,n,e,i){if(e===0)return-1;let r=n.length;for(let s=0;s<e;s++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function OE(t,n,e,i,r){let s=cn(),o=i&2;try{ks(-1),o&&n.length>ot&&AE(t,n,ot,!1),ji(o?2:0,r),e(i,r)}finally{ks(s),ji(o?3:1,r)}}function L_(t,n,e){if(h_(n)){let i=qe(null);try{let r=n.directiveStart,s=n.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=e[o];a.contentQueries(1,l,o)}}}finally{qe(i)}}}function V_(t,n,e){SD()&&(qN(t,n,e,Bn(e,n)),(e.flags&64)===64&&PE(t,n,e))}function j_(t,n,e=Bn){let i=n.localNames;if(i!==null){let r=n.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?e(n,t):t[o];t[r++]=a}}}function kE(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=B_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function B_(t,n,e,i,r,s,o,a,l,c,u){let d=ot+i,h=d+r,f=FN(d,h),p=typeof c=="function"?c():c;return f[ve]={type:t,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function FN(t,n){let e=[];for(let i=0;i<n;i++)e.push(i<t?null:Ve);return e}function PN(t,n,e,i){let s=i.get(zP,rE)||e===Ui.ShadowDom,o=t.selectRootElement(n,s);return NN(o),o}function NN(t){LN(t)}var LN=()=>null;function VN(t,n,e,i){let r=VE(n);r.push(e),t.firstCreatePass&&jE(t).push(i,r.length-1)}function jN(t,n,e,i,r,s){let o=n?n.injectorIndex:-1,a=0;return xD()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function uw(t,n,e,i,r){for(let s in n){if(!n.hasOwnProperty(s))continue;let o=n[s];if(o===void 0)continue;i??={};let a,l=zr.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}t===0?dw(i,e,c,a,l):dw(i,e,c,a)}return i}function dw(t,n,e,i,r){let s;t.hasOwnProperty(e)?(s=t[e]).push(n,i):s=t[e]=[n,i],r!==void 0&&s.push(r)}function BN(t,n,e){let i=n.directiveStart,r=n.directiveEnd,s=t.data,o=n.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=s[u],h=e?e.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=uw(0,d.inputs,u,l,f),c=uw(1,d.outputs,u,c,p);let m=l!==null&&o!==null&&!s_(n)?e2(l,u,o):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function UN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function In(t,n,e,i,r,s,o,a){let l=Bn(n,e),c=n.inputs,u;!a&&c!=null&&(u=c[i])?(H_(t,e,u,i,r),Jd(n)&&$N(e,n.index)):n.type&3?(i=UN(i),r=o!=null?o(r,n.value||"",i):r,s.setProperty(l,i,r)):n.type&12}function $N(t,n){let e=Gr(n,t);e[Te]&16||(e[Te]|=64)}function U_(t,n,e,i){if(SD()){let r=i===null?null:{"":-1},s=GN(t,e),o,a;s===null?o=a=null:[o,a]=s,o!==null&&FE(t,n,e,o,r,a),r&&QN(e,i,r)}e.mergedAttrs=El(e.mergedAttrs,e.attrs)}function FE(t,n,e,i,r,s){for(let c=0;c<i.length;c++)Zm(Md(e,n),t,i[c].type);KN(e,t.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=ql(t,n,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];e.mergedAttrs=El(e.mergedAttrs,u.hostAttrs),ZN(t,e,n,l,u),YN(l,u,r),u.contentQueries!==null&&(e.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(e.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}BN(t,e,s)}function HN(t,n,e,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~n.index;zN(o)!=a&&o.push(a),o.push(e,i,s)}}function zN(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function qN(t,n,e,i){let r=e.directiveStart,s=e.directiveEnd;Jd(e)&&XN(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||Md(e,n),zi(i,n);let o=e.initialInputs;for(let a=r;a<s;a++){let l=t.data[a],c=Ps(n,t,a,e);if(zi(c,n),o!==null&&JN(n,a-r,c,l,e,o),yi(l)){let u=Gr(e.index,n);u[sn]=Ps(n,t,a,e)}}}function PE(t,n,e){let i=e.directiveStart,r=e.directiveEnd,s=e.index,o=XF();try{ks(s);for(let a=i;a<r;a++){let l=t.data[a],c=n[a];Ym(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&WN(l,c)}}finally{ks(-1),Ym(o)}}function WN(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function GN(t,n){let e=t.directiveRegistry,i=null,r=null;if(e)for(let s=0;s<e.length;s++){let o=e[s];if(oD(n,o.selectors,!1))if(i||(i=[]),yi(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;fg(t,n,l)}else i.unshift(o),fg(t,n,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function fg(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function QN(t,n,e){if(n){let i=t.localNames=[];for(let r=0;r<n.length;r+=2){let s=e[n[r+1]];if(s==null)throw new re(-301,!1);i.push(n[r],s)}}}function YN(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;yi(n)&&(e[""]=t)}}function KN(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function ZN(t,n,e,i,r){t.data[i]=r;let s=r.factory||(r.factory=Ms(r.type,!0)),o=new Fs(s,yi(r),M);t.blueprint[i]=o,e[i]=o,HN(t,n,i,ql(t,e,r.hostVars,Ve),r)}function XN(t,n,e){let i=Bn(n,t),r=kE(e),s=t[$i].rendererFactory,o=16;e.signals?o=4096:e.onPush&&(o=64);let a=fh(t,hh(t,r,null,o,i,n,null,s.createRenderer(i,e),null,null,null));t[n.index]=a}function Yi(t,n,e,i,r,s){let o=Bn(t,n);$_(n[We],o,s,t.value,e,i,r)}function $_(t,n,e,i,r,s,o){if(s==null)t.removeAttribute(n,r,e);else{let a=o==null?Be(s):o(s,i||"",r);t.setAttribute(n,r,a,e)}}function JN(t,n,e,i,r,s){let o=s[n];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];RE(i,e,l,c,u,d)}}function e2(t,n,e){let i=null,r=0;for(;r<e.length;){let s=e[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===n){i.push(s,o[a+1],o[a+2],e[r+1]);break}}r+=2}return i}function NE(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function LE(t,n){let e=t.contentQueries;if(e!==null){let i=qe(null);try{for(let r=0;r<e.length;r+=2){let s=e[r],o=e[r+1];if(o!==-1){let a=t.data[o];rh(s),a.contentQueries(2,n[o],o)}}}finally{qe(i)}}}function fh(t,n){return t[Tl]?t[WC][vi]=n:t[Tl]=n,t[WC]=n,n}function pg(t,n,e){rh(0);let i=qe(null);try{n(t,e)}finally{qe(i)}}function VE(t){return t[Dd]??=[]}function jE(t){return t.cleanup??=[]}function BE(t,n,e){return(t===null||yi(t))&&(e=BF(e[n.index])),e[We]}function ph(t,n){let e=t[tn],i=e?e.get(Hi,null):null;i&&i.handleError(n)}function H_(t,n,e,i,r){for(let s=0;s<e.length;){let o=e[s++],a=e[s++],l=e[s++],c=n[o],u=t.data[o];RE(u,c,i,a,l,r)}}function br(t,n,e){let i=Ll(n,t);mE(t[We],i,e)}function t2(t,n){let e=Gr(n,t),i=e[ve];n2(i,e);let r=e[Wi];r!==null&&e[Wo]===null&&(e[Wo]=T_(r,e[tn])),z_(i,e,e[sn])}function n2(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function z_(t,n,e){y_(n);try{let i=t.viewQuery;i!==null&&pg(1,i,e);let r=t.template;r!==null&&OE(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[fr]?.finishViewCreation(t),t.staticContentQueries&&LE(t,n),t.staticViewQueries&&pg(2,t.viewQuery,e);let s=t.components;s!==null&&i2(n,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[Te]&=-5,b_()}}function i2(t,n){for(let e=0;e<n.length;e++)t2(t,n[e])}function aa(t,n,e,i){let r=qe(null);try{let s=n.tView,a=t[Te]&4096?4096:16,l=hh(t,s,e,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=t[n.index];l[As]=c;let u=t[fr];return u!==null&&(l[fr]=u.createEmbeddedView(s)),z_(s,l,e),l}finally{qe(r)}}function UE(t,n){let e=on+n;if(e<t.length)return t[e]}function Ls(t,n){return!n||n.firstChild===null||XD(t)}function la(t,n,e,i=!0){let r=n[ve];if(EN(r,n,t,e),i){let o=hg(e,t),a=n[We],l=k_(a,t[Rs]);l!==null&&wN(r,t[_n],a,n,l,o)}let s=n[Wo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function q_(t,n){let e=Ml(t,n);return e!==void 0&&ch(e[ve],e),e}function kd(t,n,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let s=n[e.index];s!==null&&i.push(ni(s)),pr(s)&&r2(s,i);let o=e.type;if(o&8)kd(t,n,e.child,i);else if(o&32){let a=A_(e,n),l;for(;l=a();)i.push(l)}else if(o&16){let a=xE(n,e);if(Array.isArray(a))i.push(...a);else{let l=Os(n[gn]);kd(l[ve],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function r2(t,n){for(let e=on;e<t.length;e++){let i=t[e],r=i[ve].firstChild;r!==null&&kd(i[ve],i,r,n)}t[Rs]!==t[Wi]&&n.push(t[Rs])}var $E=[];function s2(t){return t[ti]??o2(t)}function o2(t){let n=$E.pop()??Object.create(l2);return n.lView=t,n}function a2(t){t.lView[ti]!==t&&(t.lView=null,$E.push(t))}var l2=Se(V({},Eo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{nh(t.lView)},consumerOnSignalRead(){this.lView[ti]=this}});function c2(t){let n=t[ti]??Object.create(u2);return n.lView=t,n}var u2=Se(V({},Eo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=Os(t.lView);for(;n&&!HE(n[ve]);)n=Os(n);n&&wD(n)},consumerOnSignalRead(){this.lView[ti]=this}});function HE(t){return t.type!==2}var d2=100;function zE(t,n=!0,e=0){let i=t[$i],r=i.rendererFactory,s=!1;s||r.begin?.();try{h2(t,e)}catch(o){throw n&&ph(t,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function h2(t,n){let e=MD();try{QC(!0),mg(t,n);let i=0;for(;th(t);){if(i===d2)throw new re(103,!1);i++,mg(t,1)}}finally{QC(e)}}function f2(t,n,e,i){let r=n[Te];if((r&256)===256)return;let s=!1,o=!1;!s&&n[$i].inlineEffectRunner?.flush(),y_(n);let a=!0,l=null,c=null;s||(HE(t)?(c=s2(n),l=ol(c)):Hb()===null?(a=!1,c=c2(n),l=ol(c)):n[ti]&&(Cu(n[ti]),n[ti]=null));try{CD(n),AD(t.bindingStartIndex),e!==null&&OE(t,n,e,2,i);let u=(r&3)===3;if(!s)if(u){let f=t.preOrderCheckHooks;f!==null&&fd(n,f,null)}else{let f=t.preOrderHooks;f!==null&&pd(n,f,0,null),mm(n,0)}if(o||p2(n),qE(n,0),t.contentQueries!==null&&LE(t,n),!s)if(u){let f=t.contentCheckHooks;f!==null&&fd(n,f)}else{let f=t.contentHooks;f!==null&&pd(n,f,1),mm(n,1)}kN(t,n);let d=t.components;d!==null&&GE(n,d,0);let h=t.viewQuery;if(h!==null&&pg(2,h,i),!s)if(u){let f=t.viewCheckHooks;f!==null&&fd(n,f)}else{let f=t.viewHooks;f!==null&&pd(n,f,2),mm(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[hd]){for(let f of n[hd])f();n[hd]=null}s||(n[Te]&=-73)}catch(u){throw s||nh(n),u}finally{c!==null&&(yu(c,l),a&&a2(c)),b_()}}function qE(t,n){for(let e=eE(t);e!==null;e=tE(e))for(let i=on;i<e.length;i++){let r=e[i];WE(r,n)}}function p2(t){for(let n=eE(t);n!==null;n=tE(n)){if(!(n[Te]&Sd.HasTransplantedViews))continue;let e=n[Go];for(let i=0;i<e.length;i++){let r=e[i];wD(r)}}}function m2(t,n,e){let i=Gr(n,t);WE(i,e)}function WE(t,n){f_(t)&&mg(t,n)}function mg(t,n){let i=t[ve],r=t[Te],s=t[ti],o=!!(n===0&&r&16);if(o||=!!(r&64&&n===0),o||=!!(r&1024),o||=!!(s?.dirty&&bu(s)),o||=!1,s&&(s.dirty=!1),t[Te]&=-9217,o)f2(i,t,i.template,t[sn]);else if(r&8192){qE(t,1);let a=i.components;a!==null&&GE(t,a,1)}}function GE(t,n,e){for(let i=0;i<n.length;i++)m2(t,n[i],e)}function mh(t,n){let e=MD()?64:1088;for(t[$i].changeDetectionScheduler?.notify(n);t;){t[Te]|=e;let i=Os(t);if(qm(t)&&!i)return t;t=i}return null}var Vs=class{get rootNodes(){let n=this._lView,e=n[ve];return kd(e,n,e.firstChild,[])}constructor(n,e,i=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sn]}set context(n){this._lView[sn]=n}get destroyed(){return(this._lView[Te]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[an];if(pr(n)){let e=n[Ed],i=e?e.indexOf(this):-1;i>-1&&(Ml(n,i),bd(e,i))}this._attachedToViewContainer=!1}ch(this._lView[ve],this._lView)}onDestroy(n){ih(this._lView,n)}markForCheck(){mh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Te]&=-129}reattach(){Qm(this._lView),this._lView[Te]|=128}detectChanges(){this._lView[Te]|=1024,zE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=qm(this._lView),e=this._lView[As];e!==null&&!n&&O_(e,this._lView),_E(this._lView[ve],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=n;let e=qm(this._lView),i=this._lView[As];i!==null&&!e&&vE(i,this._lView),Qm(this._lView)}},ln=(()=>{class t{static{this.__NG_ELEMENT_ID__=v2}}return t})(),g2=ln,_2=class extends g2{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){let r=aa(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:i});return new Vs(r)}};function v2(){return gh(ct(),N())}function gh(t,n){return t.type&4?new _2(n,t,ia(t,n)):null}function QE(t,n,e){let i=n.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return r===null?DE(t,n,e):ni(e[r])}function YE(t,n,e,i,r){let s=n.insertBeforeIndex;if(Array.isArray(s)){let o=i,a=null;if(n.type&3||(a=o,o=r),o!==null&&n.componentOffset===-1)for(let l=1;l<s.length;l++){let c=e[s[l]];Ns(t,o,c,a,!1)}}}function KE(t,n){if(t.push(n),t.length>1)for(let e=t.length-2;e>=0;e--){let i=t[e];ZE(i)||y2(i,n)&&b2(i)===null&&C2(i,n.index)}}function ZE(t){return!(t.type&64)}function y2(t,n){return ZE(n)||t.index>n.index}function b2(t){let n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function C2(t,n){let e=t.insertBeforeIndex;Array.isArray(e)?e[0]=n:(SE(QE,YE),t.insertBeforeIndex=n)}function _l(t,n){let e=t.data[n];return e===null||typeof e=="string"?null:e.hasOwnProperty("currentCaseLViewIndex")?e:e.value}function w2(t,n,e){let i=t.data[n];i===null?t.data[n]=e:i.value=e}function D2(t,n){let e=t.insertBeforeIndex;e===null?(SE(QE,YE),e=t.insertBeforeIndex=[null,n]):(Nk(Array.isArray(e),!0,"Expecting array here"),e.push(n))}function E2(t,n,e){let i=N_(t,e,64,null,null);return KE(n,i),i}function _h(t,n){let e=n[t.currentCaseLViewIndex];return e===null?e:e<0?~e:e}function S2(t){return t>>>17}function x2(t){return(t&131070)>>>1}function T2(t,n,e){return t|n<<17|e<<1}function I2(t){return t===-1}function XE(t,n,e){t.index=0;let i=_h(n,e);i!==null?t.removes=n.remove[i]:t.removes=vt}function gg(t){if(t.index<t.removes.length){let n=t.removes[t.index++];if(n>0)return t.lView[n];{t.stack.push(t.index,t.removes);let e=~n,i=t.lView[ve].data[e];return XE(t,i,t.lView),gg(t)}}else return t.stack.length===0?null:(t.removes=t.stack.pop(),t.index=t.stack.pop(),gg(t))}function M2(){let t={stack:[],index:-1};function n(e,i){for(t.lView=i;t.stack.length;)t.stack.pop();return XE(t,e.value,i),gg.bind(null,t)}return n}var Fie=new RegExp(`^(\\d+)*(${$P}|${UP})*(.*)`);var A2=()=>{};function R2(t,n,e,i){A2(t,n,e,i)}var O2=()=>{};function k2(t,n,e){O2(t,n,e)}var F2=()=>null;function js(t,n){return F2(t,n)}var Yo=class{},vh=new le("",{providedIn:"root",factory:()=>!1});var JE=new le(""),eS=new le(""),_g=class{},Fd=class{};function P2(t){let n=Error(`No component factory found for ${hn(t)}.`);return n[N2]=t,n}var N2="ngComponent";var vg=class{resolveComponentFactory(n){throw P2(n)}},ri=class{static{this.NULL=new vg}},qr=class{},Gs=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>L2()}}return t})();function L2(){let t=N(),n=ct(),e=Gr(n.index,t);return(Hr(e)?e:t)[We]}var V2=(()=>{class t{static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>null})}}return t})();function W_(t){return t.ngModule!==void 0}function hl(t){return!!Sl(t)}function rd(t){return!!ta(t)}function hw(t){return!!Hs(t)}function bm(t){return!!Ln(t)}function j2(t){return Ln(t)?"component":Hs(t)?"directive":ta(t)?"pipe":"type"}function B2(t,n){if(Gd(t)&&(t=dt(t),!t))throw new Error(`Expected forwardRef function, imported from "${Vr(n)}", to return a standalone entity or NgModule but got "${Vr(t)||t}".`);if(Sl(t)==null){let e=Ln(t)||Hs(t)||ta(t);if(e!=null){if(!e.standalone)throw new Error(`The "${Vr(t)}" ${j2(t)}, imported from "${Vr(n)}", is not standalone. Did you forget to add the standalone: true flag?`)}else throw W_(t)?new Error(`A module with providers was imported from "${Vr(n)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${Vr(t)}" type, imported from "${Vr(n)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`)}}var yg=class{constructor(){this.ownerNgModule=new Map,this.ngModulesWithSomeUnresolvedDecls=new Set,this.ngModulesScopeCache=new Map,this.standaloneComponentsScopeCache=new Map}resolveNgModulesDecls(){if(this.ngModulesWithSomeUnresolvedDecls.size!==0){for(let n of this.ngModulesWithSomeUnresolvedDecls){let e=Sl(n);if(e?.declarations)for(let i of id(e.declarations))bm(i)&&this.ownerNgModule.set(i,n)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(n,e){this.resolveNgModulesDecls();let i=Ln(n);if(i===null)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${n}`);if(i.standalone){let r=this.getStandaloneComponentScope(n,e);return r.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...r.compilation.directives,...r.compilation.pipes,...r.compilation.ngModules]}}else{if(!this.ownerNgModule.has(n))return{dependencies:[]};let r=this.getNgModuleScope(this.ownerNgModule.get(n));return r.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...r.compilation.directives,...r.compilation.pipes]}}}registerNgModule(n,e){if(!hl(n))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${n}`);this.ngModulesWithSomeUnresolvedDecls.add(n)}clearScopeCacheFor(n){this.ngModulesScopeCache.delete(n),this.standaloneComponentsScopeCache.delete(n)}getNgModuleScope(n){if(this.ngModulesScopeCache.has(n))return this.ngModulesScopeCache.get(n);let e=this.computeNgModuleScope(n);return this.ngModulesScopeCache.set(n,e),e}computeNgModuleScope(n){let e=Sl(n,!0),i={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(let r of id(e.imports))if(hl(r)){let s=this.getNgModuleScope(r);Lr(s.exported.directives,i.compilation.directives),Lr(s.exported.pipes,i.compilation.pipes)}else if(Bm(r))if(hw(r)||bm(r))i.compilation.directives.add(r);else if(rd(r))i.compilation.pipes.add(r);else throw new re(1e3,"The standalone imported type is neither a component nor a directive nor a pipe");else{i.compilation.isPoisoned=!0;break}if(!i.compilation.isPoisoned)for(let r of id(e.declarations)){if(hl(r)||Bm(r)){i.compilation.isPoisoned=!0;break}rd(r)?i.compilation.pipes.add(r):i.compilation.directives.add(r)}for(let r of id(e.exports))if(hl(r)){let s=this.getNgModuleScope(r);Lr(s.exported.directives,i.exported.directives),Lr(s.exported.pipes,i.exported.pipes),Lr(s.exported.directives,i.compilation.directives),Lr(s.exported.pipes,i.compilation.pipes)}else rd(r)?i.exported.pipes.add(r):i.exported.directives.add(r);return i}getStandaloneComponentScope(n,e){if(this.standaloneComponentsScopeCache.has(n))return this.standaloneComponentsScopeCache.get(n);let i=this.computeStandaloneComponentScope(n,e);return this.standaloneComponentsScopeCache.set(n,i),i}computeStandaloneComponentScope(n,e){let i={compilation:{directives:new Set([n]),pipes:new Set,ngModules:new Set}};for(let r of Br(e??[])){let s=dt(r);try{B2(s,n)}catch{return i.compilation.isPoisoned=!0,i}if(hl(s)){i.compilation.ngModules.add(s);let o=this.getNgModuleScope(s);if(o.exported.isPoisoned)return i.compilation.isPoisoned=!0,i;Lr(o.exported.directives,i.compilation.directives),Lr(o.exported.pipes,i.compilation.pipes)}else if(rd(s))i.compilation.pipes.add(s);else if(hw(s)||bm(s))i.compilation.directives.add(s);else return i.compilation.isPoisoned=!0,i}return i}isOrphanComponent(n){let e=Ln(n);return!e||e.standalone?!1:(this.resolveNgModulesDecls(),!this.ownerNgModule.has(n))}};function Lr(t,n){for(let e of t)n.add(e)}var tS=new yg;function Pd(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,s=0;if(n!==null)for(let o=0;o<n.length;o++){let a=n[o];if(typeof a=="number")s=a;else if(s==1)r=Fm(r,a);else if(s==2){let l=a,c=n[++o];i=Fm(i,l+": "+c+";")}}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}var bg=class extends ri{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=Ln(n);return new Nd(e,this.ngModule)}};function fw(t,n){let e=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let r=t[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:zr.None;n?e.push({propName:o,templateName:i,isSignal:(a&zr.SignalBased)!==0}):e.push({propName:o,templateName:i})}return e}function U2(t){let n=t.toLowerCase();return n==="svg"?yD:n==="math"?bD:null}var Nd=class extends Fd{get inputs(){let n=this.componentDef,e=n.inputTransforms,i=fw(n.inputs,!0);if(e!==null)for(let r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return fw(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=gF(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,r){let s=qe(null);try{r=r||this.ngModule;let o=r instanceof Vn?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Ho(n,o):n,l=a.get(qr,null);if(l===null)throw new re(407,!1);let c=a.get(V2,null),u=a.get(Yo,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?PN(h,i,this.componentDef.encapsulation,a):R_(h,f,U2(f)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let _=null;p!==null&&(_=T_(p,a,!0));let D=B_(0,null,null,1,0,null,null,null,null,null,null),w=hh(null,D,null,m,null,null,d,h,a,null,_);y_(w);let S,k,L=null;try{let W=this.componentDef,oe,K=null;W.findHostDirectiveDefs?(oe=[],K=new Map,W.findHostDirectiveDefs(W,oe,K),oe.push(W)):oe=[W];let de=$2(w,p);L=H2(de,p,W,oe,w,d,h),k=Vl(D,ot),p&&W2(h,W,p,i),e!==void 0&&G2(k,this.ngContentSelectors,e),S=q2(L,W,oe,K,w,[Q2]),z_(D,w,null)}catch(W){throw L!==null&&ig(L),ig(w),W}finally{b_()}return new Cg(this.componentType,S,ia(k,w),w,k)}finally{qe(s)}}},Cg=class extends _g{constructor(n,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Vs(r,void 0,!1),this.componentType=n}setInput(n,e){let i=this._tNode.inputs,r;if(i!==null&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let s=this._rootLView;H_(s[ve],s,r,n,e),this.previousInputValues.set(n,e);let o=Gr(this._tNode.index,s);mh(o,1)}}get injector(){return new Is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function $2(t,n){let e=t[ve],i=ot;return t[i]=n,Ws(e,i,2,"#host",null)}function H2(t,n,e,i,r,s,o){let a=r[ve];z2(i,t,n,o);let l=null;n!==null&&(l=T_(n,r[tn]));let c=s.rendererFactory.createRenderer(n,e),u=16;e.signals?u=4096:e.onPush&&(u=64);let d=hh(r,kE(e),null,u,r[t.index],t,s,c,null,null,l);return a.firstCreatePass&&fg(a,t,i.length-1),fh(r,d),r[t.index]=d}function z2(t,n,e,i){for(let r of t)n.mergedAttrs=El(n.mergedAttrs,r.hostAttrs);n.mergedAttrs!==null&&(Pd(n,n.mergedAttrs,!0),e!==null&&ME(i,e,n))}function q2(t,n,e,i,r,s){let o=ct(),a=r[ve],l=Bn(o,r);FE(a,r,o,e,null,i);for(let u=0;u<e.length;u++){let d=o.directiveStart+u,h=Ps(r,a,d,o);zi(h,r)}PE(a,r,o),l&&zi(l,r);let c=Ps(r,a,o.directiveStart+o.componentOffset,o);if(t[sn]=r[sn]=c,s!==null)for(let u of s)u(c,n);return L_(a,o,r),c}function W2(t,n,e,i){if(i)jm(t,e,["ng-version","18.2.13"]);else{let{attrs:r,classes:s}=_F(n.selectors[0]);r&&jm(t,e,r),s&&s.length>0&&IE(t,e,s.join(" "))}}function G2(t,n,e){let i=t.projection=[];for(let r=0;r<n.length;r++){let s=e[r];i.push(s!=null?Array.from(s):null)}}function Q2(){let t=ct();sh(N()[ve],t)}var It=(()=>{class t{static{this.__NG_ELEMENT_ID__=Y2}}return t})();function Y2(){let t=ct();return iS(t,N())}var K2=It,nS=class extends K2{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return ia(this._hostTNode,this._hostLView)}get injector(){return new Is(this._hostTNode,this._hostLView)}get parentInjector(){let n=w_(this._hostTNode,this._hostLView);if(jD(n)){let e=Td(n,this._hostLView),i=xd(n),r=e[ve].data[i+8];return new Is(r,e)}else return new Is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=pw(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-on}createEmbeddedView(n,e,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=js(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},s,o);return this.insertImpl(a,r,Ls(this._hostTNode,o)),a}createComponent(n,e,i,r,s){let o=n&&!fl(n),a;if(o)a=e;else{let p=e||{};a=p.index,i=p.injector,r=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let l=o?n:new Nd(Ln(n)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let m=(o?c:this.parentInjector).get(Vn,null);m&&(s=m)}let u=Ln(l.componentType??{}),d=js(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,s);return this.insertImpl(f.hostView,a,Ls(this._hostTNode,d)),f}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){let r=n._lView;if($F(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=r[an],c=new nS(l,l[_n],l[an]);c.detach(c.indexOf(n))}}let s=this._adjustIndex(e),o=this._lContainer;return la(o,r,s,i),n.attachToViewContainerRef(),Jw(Cm(o),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=pw(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),i=Ml(this._lContainer,e);i&&(bd(Cm(this._lContainer),e),ch(i[ve],i))}detach(n){let e=this._adjustIndex(n,-1),i=Ml(this._lContainer,e);return i&&bd(Cm(this._lContainer),e)!=null?new Vs(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function pw(t){return t[Ed]}function Cm(t){return t[Ed]||(t[Ed]=[])}function iS(t,n){let e,i=n[t.index];return pr(i)?e=i:(e=NE(i,n,null,t),n[t.index]=e,fh(n,e)),X2(e,n,t,i),new nS(e,t,n)}function Z2(t,n){let e=t[We],i=e.createComment(""),r=Bn(n,t),s=k_(e,r);return Ns(e,s,i,TN(e,r),!1),i}var X2=eL,J2=()=>!1;function rS(t,n,e){return J2(t,n,e)}function eL(t,n,e,i){if(t[Rs])return;let r;e.type&8?r=ni(i):r=Z2(n,e),t[Rs]=r}var wg=class t{constructor(n){this.queryList=n,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Dg=class t{constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let i=n.contentQueries!==null?n.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){let o=e.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)Q_(n,e).matches!==null&&this.queries[e].setDirty()}},Ld=class{constructor(n,e,i=null){this.flags=e,this.read=i,typeof n=="string"?this.predicate=sL(n):this.predicate=n}},Eg=class t{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,s=this.getByIndex(i).embeddedTView(n,r);s&&(s.indexInDeclarationView=i,e!==null?e.push(s):e=[s])}return e!==null?new t(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},Sg=class t{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new t(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(n,e,tL(e,s)),this.matchTNodeWithReadOption(n,e,md(e,n,s,!1,!1))}else i===ln?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,md(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Le||r===It||r===ln&&e.type&4)this.addMatch(e.index,-2);else{let s=md(e,n,r,!1,!1);s!==null&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function tL(t,n){let e=t.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1]}return null}function nL(t,n){return t.type&11?ia(t,n):t.type&4?gh(t,n):null}function iL(t,n,e,i){return e===-1?nL(n,t):e===-2?rL(t,n,i):Ps(t,t[ve],e,n)}function rL(t,n,e){if(e===Le)return ia(n,t);if(e===ln)return gh(n,t);if(e===It)return iS(n,t)}function sS(t,n,e,i){let r=n[fr].queries[i];if(r.matches===null){let s=t.data,o=e.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(iL(n,u,o[l+1],e.metadata.read))}}r.matches=a}return r.matches}function xg(t,n,e,i){let r=t.queries.getByIndex(e),s=r.matches;if(s!==null){let o=sS(t,n,r,e);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],u=n[-l];for(let d=on;d<u.length;d++){let h=u[d];h[As]===h[an]&&xg(h[ve],h,c,i)}if(u[Go]!==null){let d=u[Go];for(let h=0;h<d.length;h++){let f=d[h];xg(f[ve],f,c,i)}}}}}return i}function G_(t,n){return t[fr].queries[n].queryList}function oS(t,n,e){let i=new Qo((e&4)===4);return VN(t,n,i,i.destroy),(n[fr]??=new Dg).queries.push(new wg(i))-1}function aS(t,n,e){let i=Ge();return i.firstCreatePass&&(cS(i,new Ld(t,n,e),-1),(n&2)===2&&(i.staticViewQueries=!0)),oS(i,N(),n)}function lS(t,n,e,i){let r=Ge();if(r.firstCreatePass){let s=ct();cS(r,new Ld(n,e,i),s.index),oL(r,t),(e&2)===2&&(r.staticContentQueries=!0)}return oS(r,N(),e)}function sL(t){return t.split(",").map(n=>n.trim())}function cS(t,n,e){t.queries===null&&(t.queries=new Eg),t.queries.track(new Sg(n,e))}function oL(t,n){let e=t.contentQueries||(t.contentQueries=[]),i=e.length?e[e.length-1]:-1;n!==i&&e.push(t.queries.length-1,n)}function Q_(t,n){return t.queries.getByIndex(n)}function uS(t,n){let e=t[ve],i=Q_(e,n);return i.crossesNgTemplate?xg(e,t,n,[]):sS(e,t,i,n)}var mw=new Set;function Mn(t){mw.has(t)||(mw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function yh(t){return typeof t=="function"&&t[Zn]!==void 0}function Cr(t,n){Mn("NgSignals");let e=eC(t),i=e[Zn];return n?.equal&&(i.equal=n.equal),e.set=r=>Xp(i,r),e.update=r=>tC(i,r),e.asReadonly=aL.bind(e),e}function aL(){let t=this[Zn];if(t.readonlyFn===void 0){let n=()=>this();n[Zn]=t,t.readonlyFn=n}return t.readonlyFn}function dS(t){return yh(t)&&typeof t.set=="function"}function hS(t,n){let e,i=Zp(()=>{e._dirtyCounter();let r=uL(e,t);if(n&&r===void 0)throw new re(-951,!1);return r});return e=i[Zn],e._dirtyCounter=Cr(0),e._flatValue=void 0,i}function lL(){return hS(!0,!1)}function cL(){return hS(!0,!0)}function fS(t,n){let e=t[Zn];e._lView=N(),e._queryIndex=n,e._queryList=G_(e._lView,n),e._queryList.onDirty(()=>e._dirtyCounter.update(i=>i+1))}function uL(t,n){let e=t._lView,i=t._queryIndex;if(e===void 0||i===void 0||e[Te]&4)return n?void 0:vt;let r=G_(e,i),s=uS(e,i);return r.reset(s,ZD),n?r.first:r._changesDetected||t._flatValue===void 0?t._flatValue=r.toArray():t._flatValue}function gw(t,n){return lL()}function dL(t,n){return cL()}var pS=(gw.required=dL,gw);var _w=new Map,hL=!0;function fL(t,n,e){if(n&&n!==e&&hL)throw new Error(`Duplicate module registered for ${t} - ${hn(n)} vs ${hn(n.name)}`)}function mS(t,n){let e=_w.get(n)||null;fL(n,e,t),_w.set(n,t)}function pL(t,n,e){let i=N(),r=yt(),s=Bn(r,i);if(r.type===2&&n.toLowerCase()==="iframe"){let o=s;o.src="",o.srcdoc=ra(""),F_(i[We],o);let a=!1;throw new re(-910,a)}return t}function gS(t){return Object.getPrototypeOf(t.prototype).constructor}function pn(t){let n=gS(t.type),e=!0,i=[t];for(;n;){let r;if(yi(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new re(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);let o=t;o.inputs=sd(t.inputs),o.inputTransforms=sd(t.inputTransforms),o.declaredInputs=sd(t.declaredInputs),o.outputs=sd(t.outputs);let a=r.hostBindings;a&&yL(t,a);let l=r.viewQuery,c=r.contentQueries;if(l&&_L(t,l),c&&vL(t,c),mL(t,r),Fk(t.outputs,r.outputs),yi(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===pn&&(e=!1)}}n=Object.getPrototypeOf(n)}gL(i)}function mL(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let i=n.inputs[e];if(i!==void 0&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=n.inputTransforms[r]}}}function gL(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=El(r.hostAttrs,e=El(e,r.hostAttrs))}}function sd(t){return t===hr?{}:t===vt?[]:t}function _L(t,n){let e=t.viewQuery;e?t.viewQuery=(i,r)=>{n(i,r),e(i,r)}:t.viewQuery=n}function vL(t,n){let e=t.contentQueries;e?t.contentQueries=(i,r,s)=>{n(i,r,s),e(i,r,s)}:t.contentQueries=n}function yL(t,n){let e=t.hostBindings;e?t.hostBindings=(i,r)=>{n(i,r),e(i,r)}:t.hostBindings=n}var bL=["providersResolver"],CL=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function wL(t){let n=gS(t.type),e;yi(t)?e=n.\u0275cmp:e=n.\u0275dir;let i=t;for(let r of bL)i[r]=e[r];if(yi(e))for(let r of CL)i[r]=e[r]}function DL(t){let n=e=>{let i=Array.isArray(t);e.hostDirectives===null?(e.findHostDirectiveDefs=_S,e.hostDirectives=i?t.map(Tg):[t]):i?e.hostDirectives.unshift(...t.map(Tg)):e.hostDirectives.unshift(t)};return n.ngInherit=!0,n}function _S(t,n,e){if(t.hostDirectives!==null)for(let i of t.hostDirectives)if(typeof i=="function"){let r=i();for(let s of r)vw(Tg(s),n,e)}else vw(i,n,e)}function vw(t,n,e){let i=Hs(t.directive);EL(i.declaredInputs,t.inputs),_S(i,n,e),e.set(i,t),n.push(i)}function Tg(t){return typeof t=="function"?{directive:dt(t),inputs:hr,outputs:hr}:{directive:dt(t.directive),inputs:yw(t.inputs),outputs:yw(t.outputs)}}function yw(t){if(t===void 0||t.length===0)return hr;let n={};for(let e=0;e<t.length;e+=2)n[t[e]]=t[e+1];return n}function EL(t,n){for(let e in n)if(n.hasOwnProperty(e)){let i=n[e],r=t[e];t[i]=r}}function ai(t){let n=t.inputConfig,e={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i];Array.isArray(r)&&r[3]&&(e[i]=r[3])}t.inputTransforms=e}var Ko=class{};var Vd=class extends Ko{constructor(n){super(),this.componentFactoryResolver=new bg(this),this.instance=null;let e=new xl([...n.providers,{provide:Ko,useValue:this},{provide:ri,useValue:this.componentFactoryResolver}],n.parent||c_(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function vS(t,n,e=null){return new Vd({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var SL=(()=>{class t{constructor(){this.cachedInjectors=new Map}getOrCreateInjector(e,i,r,s){if(!this.cachedInjectors.has(e)){let o=r.length>0?vS(r,i,s):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t})}}return t})();function yS(t){return Y_(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function xL(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),i;for(;!(i=e.next()).done;)n(i.value)}}function Y_(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ki(t,n,e){return t[n]=e}function Wl(t,n){return t[n]}function Ot(t,n,e){let i=t[n];return Object.is(i,e)?!1:(t[n]=e,!0)}function Bs(t,n,e,i){let r=Ot(t,n,e);return Ot(t,n+1,i)||r}function bh(t,n,e,i,r){let s=Bs(t,n,e,i);return Ot(t,n+2,r)||s}function si(t,n,e,i,r,s){let o=Bs(t,n,e,i);return Bs(t,n+2,r,s)||o}function TL(t){return(t.flags&32)===32}function IL(t,n,e,i,r,s,o,a,l){let c=n.consts,u=Ws(n,t,4,o||null,a||null);U_(n,e,u,ii(c,l)),sh(n,u);let d=u.tView=B_(2,u,i,r,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function Al(t,n,e,i,r,s,o,a,l,c){let u=e+ot,d=n.firstCreatePass?IL(u,n,t,i,r,s,o,a,l):n.data[u];bi(d,!1);let h=ML(n,t,d,e);jl()&&uh(n,t,h,d),zi(h,t);let f=NE(h,t,h,d);return t[u]=f,fh(t,f),rS(f,d,t),eh(d)&&V_(n,t,d),l!=null&&j_(t,d,c),d}function I(t,n,e,i,r,s,o,a){let l=N(),c=Ge(),u=ii(c.consts,s);return Al(l,c,t,n,e,i,r,u,o,a),I}var ML=AL;function AL(t,n,e,i){return Bl(!0),n[We].createComment("")}var Vt=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(Vt||{}),bw=0,RL=1,Rt=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(Rt||{}),Rl=function(t){return t[t.Initial=-1]="Initial",t}(Rl||{}),zo=0,Ch=1,ml=2,od=3,bS=4,CS=5,wS=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(wS||{});function wh(t,n,e){let i=t===1?CS:bS;n[i]===null&&(n[i]=[]),n[i].push(e)}function Ig(t,n){let e=t===1?CS:bS,i=n[e];if(i!==null){for(let r of i)r();n[e]=null}}function DS(t){Ig(1,t),Ig(0,t)}var Bo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Bo||{}),ES=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Mg=class t{constructor(){this.ngZone=he(pe),this.scheduler=he(Yo),this.errorHandler=he(Hi,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Bo.EarlyRead,Bo.Write,Bo.MixedReadWrite,Bo.Read]}execute(){this.executing=!0;for(let n of t.PHASES)for(let e of this.sequences)if(!(e.erroredOrDestroyed||!e.hooks[n]))try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[n](e.pipelinedValue))}catch(i){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}},Ag=class{constructor(n,e,i,r){this.impl=n,this.hooks=e,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Gl(t,n){!n?.injector&&u_(Gl);let e=n?.injector??he(Wt);return oa(e)?(Mn("NgAfterRender"),SS(t,e,n,!1)):xS}function Wr(t,n){!n?.injector&&u_(Wr);let e=n?.injector??he(Wt);return oa(e)?(Mn("NgAfterNextRender"),SS(t,e,n,!0)):xS}function OL(t,n){if(t instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[n]=t,e}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function SS(t,n,e,i){let r=n.get(ES);r.impl??=n.get(Mg);let s=e?.phase??Bo.MixedReadWrite,o=e?.manualCleanup!==!0?n.get(ah):null,a=new Ag(r.impl,OL(t,s),i,o);return r.impl.register(a),a}var xS={destroy(){}};function Dh(t){return t+1}function Qs(t,n){let e=t[ve],i=Dh(n.index);return t[i]}function kL(t,n,e){let i=t[ve],r=Dh(n);t[r]=e}function li(t,n){let e=Dh(n.index);return t.data[e]}function FL(t,n,e){let i=Dh(n);t.data[i]=e}function PL(t,n,e){let i=n[ve],r=li(i,e);switch(t){case Rt.Complete:return r.primaryTmplIndex;case Rt.Loading:return r.loadingTmplIndex;case Rt.Error:return r.errorTmplIndex;case Rt.Placeholder:return r.placeholderTmplIndex;default:return null}}function Rg(t,n){return n===Rt.Placeholder?t.placeholderBlockConfig?.[bw]??null:n===Rt.Loading?t.loadingBlockConfig?.[bw]??null:null}function TS(t){return t.loadingBlockConfig?.[RL]??null}function Cw(t,n){if(!t||t.length===0)return n;let e=new Set(t);for(let i of n)e.add(i);return t.length===e.size?t:Array.from(e)}function NL(t,n){let e=n.primaryTmplIndex+ot;return Vl(t,e)}var jd={passive:!0,capture:!0},wm=new WeakMap,Dm=new WeakMap,ko=new WeakMap,ww=["click","keydown"],Dw=["mouseenter","focusin"],Fo=null,Em=0,Ol=class{constructor(){this.callbacks=new Set,this.listener=()=>{for(let n of this.callbacks)n()}}};function IS(t,n){let e=Dm.get(t);if(!e){e=new Ol,Dm.set(t,e);for(let i of ww)t.addEventListener(i,e.listener,jd)}return e.callbacks.add(n),()=>{let{callbacks:i,listener:r}=e;if(i.delete(n),i.size===0){Dm.delete(t);for(let s of ww)t.removeEventListener(s,r,jd)}}}function MS(t,n){let e=wm.get(t);if(!e){e=new Ol,wm.set(t,e);for(let i of Dw)t.addEventListener(i,e.listener,jd)}return e.callbacks.add(n),()=>{let{callbacks:i,listener:r}=e;if(i.delete(n),i.size===0){for(let s of Dw)t.removeEventListener(s,r,jd);wm.delete(t)}}}function AS(t,n,e){let i=e.get(pe),r=ko.get(t);return Fo=Fo||i.runOutsideAngular(()=>new IntersectionObserver(s=>{for(let o of s)o.isIntersecting&&ko.has(o.target)&&i.run(ko.get(o.target).listener)})),r||(r=new Ol,i.runOutsideAngular(()=>Fo.observe(t)),ko.set(t,r),Em++),r.callbacks.add(n),()=>{ko.has(t)&&(r.callbacks.delete(n),r.callbacks.size===0&&(Fo?.unobserve(t),ko.delete(t),Em--),Em===0&&(Fo?.disconnect(),Fo=null))}}function LL(t,n,e){return e==null?t:e>=0?DD(e,t):t[n.index][on]??null}function VL(t,n){return Ll(ot+n,t)}function ca(t,n,e,i,r,s,o){let a=t[tn],l=a.get(pe);function c(){if(Wm(t))return;let u=Qs(t,n),d=u[Ch];if(d!==Rl.Initial&&d!==Rt.Placeholder)return;let h=LL(t,n,i);if(!h){Wr({read:c},{injector:a});return}if(Wm(h))return;let f=VL(h,e),p=r(f,()=>{l.run(()=>{t!==h&&p_(h,p),s()})},a);t!==h&&ih(h,p),wh(o,u,p)}Wr({read:c},{injector:a})}function RS(t,n){let i=n[tn].get(UL),r=()=>i.remove(t);return i.add(t),r}var jL=()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout,BL=()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout,UL=(()=>{class t{constructor(){this.executingCallbacks=!1,this.idleId=null,this.current=new Set,this.deferred=new Set,this.ngZone=he(pe),this.requestIdleCallbackFn=jL().bind(globalThis),this.cancelIdleCallbackFn=BL().bind(globalThis)}add(e){(this.executingCallbacks?this.deferred:this.current).add(e),this.idleId===null&&this.scheduleIdleCallback()}remove(e){let{current:i,deferred:r}=this;i.delete(e),r.delete(e),i.size===0&&r.size===0&&this.cancelIdleCallback()}scheduleIdleCallback(){let e=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(let i of this.current)i();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(let i of this.deferred)this.current.add(i);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(e))}cancelIdleCallback(){this.idleId!==null&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}}return t})();function OS(t){return(n,e)=>kS(t,n,e)}function kS(t,n,e){let r=e[tn].get($L),s=()=>r.remove(n);return r.add(t,n),s}var $L=(()=>{class t{constructor(){this.executingCallbacks=!1,this.timeoutId=null,this.invokeTimerAt=null,this.current=[],this.deferred=[]}add(e,i){let r=this.executingCallbacks?this.deferred:this.current;this.addToQueue(r,Date.now()+e,i),this.scheduleTimer()}remove(e){let{current:i,deferred:r}=this;this.removeFromQueue(i,e)===-1&&this.removeFromQueue(r,e),i.length===0&&r.length===0&&this.clearTimeout()}addToQueue(e,i,r){let s=e.length;for(let o=0;o<e.length;o+=2)if(e[o]>i){s=o;break}eD(e,s,i,r)}removeFromQueue(e,i){let r=-1;for(let s=0;s<e.length;s+=2)if(e[s+1]===i){r=s;break}return r>-1&&$C(e,r,2),r}scheduleTimer(){let e=()=>{this.clearTimeout(),this.executingCallbacks=!0;let r=[...this.current],s=Date.now();for(let a=0;a<r.length;a+=2){let l=r[a],c=r[a+1];if(l<=s)c();else break}let o=-1;for(let a=0;a<this.current.length&&this.current[a]<=s;a+=2)o=a+1;if(o>=0&&$C(this.current,0,o+1),this.executingCallbacks=!1,this.deferred.length>0){for(let a=0;a<this.deferred.length;a+=2){let l=this.deferred[a],c=this.deferred[a+1];this.addToQueue(this.current,l,c)}this.deferred.length=0}this.scheduleTimer()};if(this.current.length>0){let r=Date.now(),s=this.current[0];if(this.timeoutId===null||this.invokeTimerAt&&this.invokeTimerAt-s>16){this.clearTimeout();let o=Math.max(s-r,16);this.invokeTimerAt=s,this.timeoutId=setTimeout(e,o)}}}clearTimeout(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}}return t})();var HL=new le("");function K_(t){return t.get(HL,null,{optional:!0})?.behavior===wS.Manual?!1:oa(t)}var Og=null;function zL(t,n,e,i){let r=t.consts;e!=null&&(n.placeholderBlockConfig=ii(r,e)),i!=null&&(n.loadingBlockConfig=ii(r,i)),Og===null&&(Og=aV)}function qL(t,n,e,i,r,s,o,a,l){let c=N(),u=Ge(),d=t+ot,h=Al(c,u,t,null,0,0);if(u.firstCreatePass){Mn("NgDefer");let _={primaryTmplIndex:n,loadingTmplIndex:i??null,placeholderTmplIndex:r??null,errorTmplIndex:s??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:e??null,loadingState:Vt.NOT_STARTED,loadingPromise:null,providers:null};l?.(u,_,a,o),FL(u,d,_)}let f=c[d];rS(f,h,c);let p=[null,Rl.Initial,null,null,null,null];kL(c,d,p);let m=()=>DS(p);wh(0,p,()=>p_(c,m)),ih(c,m)}function WL(t){let n=N(),e=Ci();if(Ot(n,e,t)){let i=qe(null);try{let r=!!t,s=yt(),a=Qs(n,s)[Ch];r===!1&&a===Rl.Initial?ua(n,s):r===!0&&(a===Rl.Initial||a===Rt.Placeholder)&&da(n,s)}finally{qe(i)}}}function GL(t){let n=N(),e=Ci();if(Ot(n,e,t)){let i=qe(null);try{let r=!!t,s=n[ve],o=yt(),a=li(s,o);r===!0&&a.loadingState===Vt.NOT_STARTED&&Ql(a,n,o)}finally{qe(i)}}}function QL(){FS(RS)}function YL(){PS(RS)}function KL(){let t=N(),n=ct(),e=t[ve],i=t[tn],r=li(e,n);(!K_(i)||r.loadingTmplIndex===null)&&ua(t,n),da(t,n)}function ZL(){let t=N(),n=ct(),e=t[ve],i=li(e,n);i.loadingState===Vt.NOT_STARTED&&Z_(i,t,n)}function XL(t){FS(OS(t))}function JL(t){PS(OS(t))}function eV(t,n){let e=N(),i=ct();ua(e,i),ca(e,i,t,n,MS,()=>da(e,i),0)}function tV(t,n){let e=N(),i=ct(),r=e[ve],s=li(r,i);s.loadingState===Vt.NOT_STARTED&&ca(e,i,t,n,MS,()=>Ql(s,e,i),1)}function nV(t,n){let e=N(),i=ct();ua(e,i),ca(e,i,t,n,IS,()=>da(e,i),0)}function iV(t,n){let e=N(),i=ct(),r=e[ve],s=li(r,i);s.loadingState===Vt.NOT_STARTED&&ca(e,i,t,n,IS,()=>Ql(s,e,i),1)}function rV(t,n){let e=N(),i=ct();ua(e,i),ca(e,i,t,n,AS,()=>da(e,i),0)}function sV(t,n){let e=N(),i=ct(),r=e[ve],s=li(r,i);s.loadingState===Vt.NOT_STARTED&&ca(e,i,t,n,AS,()=>Ql(s,e,i),1)}function FS(t){let n=N(),e=ct();if(ua(n,e),oa(n[tn])){let i=t(()=>da(n,e),n),r=Qs(n,e);wh(0,r,i)}}function PS(t){let n=N();if(oa(n[tn])){let e=ct(),i=n[ve],r=li(i,e);if(r.loadingState===Vt.NOT_STARTED){let s=Qs(n,e),a=t(()=>Ql(r,n,e),n);wh(1,s,a)}}}function Ur(t,n,e,i=!1){let r=e[an],s=r[ve];if(Wm(r))return;let o=Qs(r,n),a=o[Ch];if(Sw(a,t)&&Sw(o[zo]??-1,t)){let l=r[tn],c=li(s,n),d=!i&&oa(l)&&(TS(c)!==null||Rg(c,Rt.Loading)!==null||Rg(c,Rt.Placeholder))?Og:NS;try{d(t,o,e,n,r)}catch(h){ph(r,h)}}}function Sm(t,n,e){return t.get(SL).getOrCreateInjector(n,t,e,"")}function oV(t,n,e){if(t instanceof Ho){let r=t.injector,s=t.parentInjector,o=Sm(s,n,e);return new Ho(r,o)}let i=t.get(Vn);if(i!==t){let r=Sm(i,n,e);return new Ho(t,r)}return Sm(t,n,e)}function NS(t,n,e,i,r){let s=PL(t,r,i);if(s!==null){n[Ch]=t;let o=r[ve],a=s+ot,l=Vl(o,a),c=0;q_(e,c);let u;if(t===Rt.Complete){let f=li(o,i),p=f.providers;p&&p.length>0&&(u=oV(r[tn],f,p))}let d=js(e,l.tView.ssrId),h=aa(r,l,null,{dehydratedView:d,injector:u});la(e,h,c,Ls(l,d)),mh(h,2)}}function aV(t,n,e,i,r){let s=Date.now(),o=r[ve],a=li(o,i);if(n[ml]===null||n[ml]<=s){n[ml]=null;let l=TS(a),c=n[od]!==null;if(t===Rt.Loading&&l!==null&&!c){n[zo]=t;let u=Ew(l,n,i,e,r);n[od]=u}else{t>Rt.Loading&&c&&(n[od](),n[od]=null,n[zo]=null),NS(t,n,e,i,r);let u=Rg(a,t);u!==null&&(n[ml]=s+u,Ew(u,n,i,e,r))}}else n[zo]=t}function Ew(t,n,e,i,r){return kS(t,()=>{let o=n[zo];n[ml]=null,n[zo]=null,o!==null&&Ur(o,e,i)},r)}function Sw(t,n){return t<n}function Ql(t,n,e){n[tn]&&K_(n[tn])&&Z_(t,n,e)}function Z_(t,n,e){let i=n[tn],r=n[ve];if(t.loadingState!==Vt.NOT_STARTED)return t.loadingPromise??Promise.resolve();let s=Qs(n,e),o=NL(r,t);t.loadingState=Vt.IN_PROGRESS,Ig(1,s);let a=t.dependencyResolverFn,l=i.get(vr),c=l.add();return a?(t.loadingPromise=Promise.allSettled(a()).then(u=>{let d=!1,h=[],f=[];for(let p of u)if(p.status==="fulfilled"){let m=p.value,_=Ln(m)||Hs(m);if(_)h.push(_);else{let D=ta(m);D&&f.push(D)}}else{d=!0;break}if(t.loadingPromise=null,l.remove(c),d){if(t.loadingState=Vt.FAILED,t.errorTmplIndex===null){let p="",m=new re(750,!1);ph(n,m)}}else{t.loadingState=Vt.COMPLETE;let p=o.tView;if(h.length>0){p.directiveRegistry=Cw(p.directiveRegistry,h);let m=h.map(D=>D.type),_=a_(!1,...m);t.providers=_}f.length>0&&(p.pipeRegistry=Cw(p.pipeRegistry,f))}}),t.loadingPromise):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=Vt.COMPLETE,l.remove(c)}),t.loadingPromise)}function ua(t,n){let e=t[n.index];Ur(Rt.Placeholder,n,e)}function xw(t,n,e){t.loadingPromise.then(()=>{t.loadingState===Vt.COMPLETE?Ur(Rt.Complete,n,e):t.loadingState===Vt.FAILED&&Ur(Rt.Error,n,e)})}function da(t,n){let e=t[ve],i=t[n.index],r=t[tn];if(!K_(r))return;let s=Qs(t,n),o=li(e,n);switch(DS(s),o.loadingState){case Vt.NOT_STARTED:Ur(Rt.Loading,n,i),Z_(o,t,n),o.loadingState===Vt.IN_PROGRESS&&xw(o,n,i);break;case Vt.IN_PROGRESS:Ur(Rt.Loading,n,i),xw(o,n,i);break;case Vt.COMPLETE:Ur(Rt.Complete,n,i);break;case Vt.FAILED:Ur(Rt.Error,n,i);break;default:}}function Gt(t,n,e,i){let r=N(),s=Ci();if(Ot(r,s,n)){let o=Ge(),a=yt();Yi(a,r,t,n,e,i)}return Gt}function ha(t,n){let e=!1,i=mr();for(let s=1;s<n.length;s+=2)e=Ot(t,i++,n[s])||e;if(AD(i),!e)return Ve;let r=n[0];for(let s=1;s<n.length;s+=2)r+=Be(n[s])+n[s+1];return r}function fa(t,n,e,i){return Ot(t,Ci(),e)?n+Be(e)+i:Ve}function pa(t,n,e,i,r,s){let o=mr(),a=Bs(t,o,e,r);return gr(2),a?n+Be(e)+i+Be(r)+s:Ve}function ma(t,n,e,i,r,s,o,a){let l=mr(),c=bh(t,l,e,r,o);return gr(3),c?n+Be(e)+i+Be(r)+s+Be(o)+a:Ve}function ga(t,n,e,i,r,s,o,a,l,c){let u=mr(),d=si(t,u,e,r,o,l);return gr(4),d?n+Be(e)+i+Be(r)+s+Be(o)+a+Be(l)+c:Ve}function _a(t,n,e,i,r,s,o,a,l,c,u,d){let h=mr(),f=si(t,h,e,r,o,l);return f=Ot(t,h+4,u)||f,gr(5),f?n+Be(e)+i+Be(r)+s+Be(o)+a+Be(l)+c+Be(u)+d:Ve}function va(t,n,e,i,r,s,o,a,l,c,u,d,h,f){let p=mr(),m=si(t,p,e,r,o,l);return m=Bs(t,p+4,u,h)||m,gr(6),m?n+Be(e)+i+Be(r)+s+Be(o)+a+Be(l)+c+Be(u)+d+Be(h)+f:Ve}function ya(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m){let _=mr(),D=si(t,_,e,r,o,l);return D=bh(t,_+4,u,h,p)||D,gr(7),D?n+Be(e)+i+Be(r)+s+Be(o)+a+Be(l)+c+Be(u)+d+Be(h)+f+Be(p)+m:Ve}function ba(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_,D){let w=mr(),S=si(t,w,e,r,o,l);return S=si(t,w+4,u,h,p,_)||S,gr(8),S?n+Be(e)+i+Be(r)+s+Be(o)+a+Be(l)+c+Be(u)+d+Be(h)+f+Be(p)+m+Be(_)+D:Ve}function Yl(t,n,e,i,r,s){let o=N(),a=fa(o,n,e,i);if(a!==Ve){let l=yt();Yi(l,o,t,a,r,s)}return Yl}function LS(t,n,e,i,r,s,o,a){let l=N(),c=pa(l,n,e,i,r,s);if(c!==Ve){let u=yt();Yi(u,l,t,c,o,a)}return LS}function VS(t,n,e,i,r,s,o,a,l,c){let u=N(),d=ma(u,n,e,i,r,s,o,a);if(d!==Ve){let h=yt();Yi(h,u,t,d,l,c)}return VS}function jS(t,n,e,i,r,s,o,a,l,c,u,d){let h=N(),f=ga(h,n,e,i,r,s,o,a,l,c);if(f!==Ve){let p=yt();Yi(p,h,t,f,u,d)}return jS}function BS(t,n,e,i,r,s,o,a,l,c,u,d,h,f){let p=N(),m=_a(p,n,e,i,r,s,o,a,l,c,u,d);if(m!==Ve){let _=yt();Yi(_,p,t,m,h,f)}return BS}function US(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m){let _=N(),D=va(_,n,e,i,r,s,o,a,l,c,u,d,h,f);if(D!==Ve){let w=yt();Yi(w,_,t,D,p,m)}return US}function $S(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_,D){let w=N(),S=ya(w,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m);if(S!==Ve){let k=yt();Yi(k,w,t,S,_,D)}return $S}function HS(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_,D,w,S){let k=N(),L=ba(k,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_,D);if(L!==Ve){let W=yt();Yi(W,k,t,L,w,S)}return HS}function zS(t,n,e,i){let r=N(),s=ha(r,n);if(s!==Ve){let o=yt();Yi(o,r,t,s,e,i)}return zS}function ad(t,n){return t<<17|n<<2}function Us(t){return t>>17&32767}function lV(t){return(t&2)==2}function cV(t,n){return t&131071|n<<17}function kg(t){return t|2}function Zo(t){return(t&131068)>>2}function xm(t,n){return t&-131069|n<<2}function uV(t){return(t&1)===1}function Fg(t){return t|1}function dV(t,n,e,i,r,s){let o=s?n.classBindings:n.styleBindings,a=Us(o),l=Zo(o);t[i]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||Nl(d,u)>0)&&(c=!0)}else u=e;if(r)if(l!==0){let h=Us(t[a+1]);t[i+1]=ad(h,a),h!==0&&(t[h+1]=xm(t[h+1],i)),t[a+1]=cV(t[a+1],i)}else t[i+1]=ad(a,0),a!==0&&(t[a+1]=xm(t[a+1],i)),a=i;else t[i+1]=ad(l,0),a===0?a=i:t[l+1]=xm(t[l+1],i),l=i;c&&(t[i+1]=kg(t[i+1])),Tw(t,u,i,!0),Tw(t,u,i,!1),hV(n,u,t,i,s),o=ad(a,l),s?n.classBindings=o:n.styleBindings=o}function hV(t,n,e,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof n=="string"&&Nl(s,n)>=0&&(e[i+1]=Fg(e[i+1]))}function Tw(t,n,e,i){let r=t[e+1],s=n===null,o=i?Us(r):Zo(r),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];fV(l,n)&&(a=!0,t[o+1]=i?Fg(c):kg(c)),o=i?Us(c):Zo(c)}a&&(t[e+1]=i?kg(r):Fg(r))}function fV(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?Nl(t,n)>=0:!1}var qt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qS(t){return t.substring(qt.key,qt.keyEnd)}function pV(t){return t.substring(qt.value,qt.valueEnd)}function mV(t){return QS(t),WS(t,Xo(t,0,qt.textEnd))}function WS(t,n){let e=qt.textEnd;return e===n?-1:(n=qt.keyEnd=_V(t,qt.key=n,e),Xo(t,n,e))}function gV(t){return QS(t),GS(t,Xo(t,0,qt.textEnd))}function GS(t,n){let e=qt.textEnd,i=qt.key=Xo(t,n,e);return e===i?-1:(i=qt.keyEnd=vV(t,i,e),i=Iw(t,i,e,58),i=qt.value=Xo(t,i,e),i=qt.valueEnd=yV(t,i,e),Iw(t,i,e,59))}function QS(t){qt.key=0,qt.keyEnd=0,qt.value=0,qt.valueEnd=0,qt.textEnd=t.length}function Xo(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function _V(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function vV(t,n,e){let i;for(;n<e&&((i=t.charCodeAt(n))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)n++;return n}function Iw(t,n,e,i){return n=Xo(t,n,e),n<e&&n++,n}function yV(t,n,e){let i=-1,r=-1,s=-1,o=n,a=o;for(;o<e;){let l=t.charCodeAt(o++);if(l===59)return a;l===34||l===39?a=o=Mw(t,l,o,e):n===o-4&&s===85&&r===82&&i===76&&l===40?a=o=Mw(t,41,o,e):l>32&&(a=o),s=r,r=i,i=l&-33}return a}function Mw(t,n,e,i){let r=-1,s=e;for(;s<i;){let o=t.charCodeAt(s++);if(o==n&&r!==92)return s;o==92&&r===92?r=0:r=o}throw new Error}function y(t,n,e){let i=N(),r=Ci();if(Ot(i,r,n)){let s=Ge(),o=yt();In(s,o,i,t,n,i[We],e,!1)}return y}function Pg(t,n,e,i,r){let s=n.inputs,o=r?"class":"style";H_(t,e,s[o],o,i)}function Un(t,n,e){return Di(t,n,e,!1),Un}function Fe(t,n){return Di(t,n,null,!0),Fe}function Zi(t){Ei(ZS,bV,t,!1)}function bV(t,n){for(let e=gV(n);e>=0;e=GS(n,e))ZS(t,qS(n),pV(n))}function wr(t){Ei(xV,Xi,t,!0)}function Xi(t,n){for(let e=mV(n);e>=0;e=WS(n,e))jn(t,qS(n),!0)}function Di(t,n,e,i){let r=N(),s=Ge(),o=gr(2);if(s.firstUpdatePass&&KS(s,t,o,i),n!==Ve&&Ot(r,o,n)){let a=s.data[cn()];XS(s,a,r,r[We],t,r[o+1]=IV(n,e),i,o)}}function Ei(t,n,e,i){let r=Ge(),s=gr(2);r.firstUpdatePass&&KS(r,null,s,i);let o=N();if(e!==Ve&&Ot(o,s,e)){let a=r.data[cn()];if(JS(a,i)&&!YS(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=Fm(l,e||"")),Pg(r,a,o,e,i)}else TV(r,a,o,o[We],o[s+1],o[s+1]=SV(t,n,e),i,s)}}function YS(t,n){return n>=t.expandoStartIndex}function KS(t,n,e,i){let r=t.data;if(r[e+1]===null){let s=r[cn()],o=YS(t,e);JS(s,i)&&n===null&&!o&&(n=!1),n=CV(r,s,n,i),dV(r,s,n,e,o,i)}}function CV(t,n,e,i){let r=__(t),s=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(e=Tm(null,t,n,e,i),e=kl(e,n.attrs,i),s=null);else{let o=n.directiveStylingLast;if(o===-1||t[o]!==r)if(e=Tm(r,t,n,e,i),s===null){let l=wV(t,n,i);l!==void 0&&Array.isArray(l)&&(l=Tm(null,t,n,l[1],i),l=kl(l,n.attrs,i),DV(t,n,i,l))}else s=EV(t,n,i)}return s!==void 0&&(i?n.residualClasses=s:n.residualStyles=s),e}function wV(t,n,e){let i=e?n.classBindings:n.styleBindings;if(Zo(i)!==0)return t[Us(i)]}function DV(t,n,e,i){let r=e?n.classBindings:n.styleBindings;t[Us(r)]=i}function EV(t,n,e){let i,r=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=kl(i,o,e)}return kl(i,n.attrs,e)}function Tm(t,n,e,i,r){let s=null,o=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<o&&(s=n[a],i=kl(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(e.directiveStylingLast=a),i}function kl(t,n,e){let i=e?1:2,r=-1;if(n!==null)for(let s=0;s<n.length;s++){let o=n[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),jn(t,o,e?!0:n[++s]))}return t===void 0?null:t}function SV(t,n,e){if(e==null||e==="")return vt;let i=[],r=Qi(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else typeof r=="string"&&n(i,r);return i}function ZS(t,n,e){jn(t,n,Qi(e))}function xV(t,n,e){let i=String(n);i!==""&&!i.includes(" ")&&jn(t,i,e)}function TV(t,n,e,i,r,s,o,a){r===Ve&&(r=vt);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),p!==null&&XS(t,n,e,i,p,m,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}function XS(t,n,e,i,r,s,o,a){if(!(n.type&3))return;let l=t.data,c=l[a+1],u=uV(c)?Aw(l,n,e,r,Zo(c),o):void 0;if(!Bd(u)){Bd(s)||lV(c)&&(s=Aw(l,null,e,r,a,o));let d=Ll(cn(),e);AN(i,o,d,r,s)}}function Aw(t,n,e,i,r,s){let o=n===null,a;for(;r>0;){let l=t[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=e[r+1];h===Ve&&(h=d?vt:void 0);let f=d?dm(h,i):u===i?h:void 0;if(c&&!Bd(f)&&(f=dm(l,i)),Bd(f)&&(a=f,o))return a;let p=t[r+1];r=o?Us(p):Zo(p)}if(n!==null){let l=s?n.residualClasses:n.residualStyles;l!=null&&(a=dm(l,i))}return a}function Bd(t){return t!==void 0}function IV(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=hn(Qi(t)))),t}function JS(t,n){return(t.flags&(n?8:16))!==0}function yn(t,n,e){let i=N(),r=fa(i,t,n,e);Ei(jn,Xi,r,!0)}function X_(t,n,e,i,r){let s=N(),o=pa(s,t,n,e,i,r);Ei(jn,Xi,o,!0)}function MV(t,n,e,i,r,s,o){let a=N(),l=ma(a,t,n,e,i,r,s,o);Ei(jn,Xi,l,!0)}function J_(t,n,e,i,r,s,o,a,l){let c=N(),u=ga(c,t,n,e,i,r,s,o,a,l);Ei(jn,Xi,u,!0)}function AV(t,n,e,i,r,s,o,a,l,c,u){let d=N(),h=_a(d,t,n,e,i,r,s,o,a,l,c,u);Ei(jn,Xi,h,!0)}function RV(t,n,e,i,r,s,o,a,l,c,u,d,h){let f=N(),p=va(f,t,n,e,i,r,s,o,a,l,c,u,d,h);Ei(jn,Xi,p,!0)}function OV(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p){let m=N(),_=ya(m,t,n,e,i,r,s,o,a,l,c,u,d,h,f,p);Ei(jn,Xi,_,!0)}function kV(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_){let D=N(),w=ba(D,t,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_);Ei(jn,Xi,w,!0)}function FV(t){let n=N(),e=ha(n,t);Ei(jn,Xi,e,!0)}function PV(){return N()[gn][sn]}var Ng=class{destroy(n){}updateValue(n,e){}swap(n,e){let i=Math.min(n,e),r=Math.max(n,e),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(n,e){this.attach(e,this.detach(n))}};function Im(t,n,e,i,r){return t===e&&Object.is(n,i)?1:Object.is(r(t,n),r(e,i))?-1:0}function NV(t,n,e){let i,r,s=0,o=t.length-1,a=void 0;if(Array.isArray(n)){let l=n.length-1;for(;s<=o&&s<=l;){let c=t.at(s),u=n[s],d=Im(s,c,s,u,e);if(d!==0){d<0&&t.updateValue(s,u),s++;continue}let h=t.at(o),f=n[l],p=Im(o,h,l,f,e);if(p!==0){p<0&&t.updateValue(o,f),o--,l--;continue}let m=e(s,c),_=e(o,h),D=e(s,u);if(Object.is(D,_)){let w=e(l,f);Object.is(w,m)?(t.swap(s,o),t.updateValue(o,f),l--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(i??=new Ud,r??=Ow(t,s,o,e),Lg(t,i,s,D))t.updateValue(s,u),s++,o++;else if(r.has(D))i.set(m,t.detach(s)),o--;else{let w=t.create(s,n[s]);t.attach(s,w),s++,o++}}for(;s<=l;)Rw(t,i,e,s,n[s]),s++}else if(n!=null){let l=n[Symbol.iterator](),c=l.next();for(;!c.done&&s<=o;){let u=t.at(s),d=c.value,h=Im(s,u,s,d,e);if(h!==0)h<0&&t.updateValue(s,d),s++,c=l.next();else{i??=new Ud,r??=Ow(t,s,o,e);let f=e(s,d);if(Lg(t,i,s,f))t.updateValue(s,d),s++,o++,c=l.next();else if(!r.has(f))t.attach(s,t.create(s,d)),s++,o++,c=l.next();else{let p=e(s,u);i.set(p,t.detach(s)),o--}}}for(;!c.done;)Rw(t,i,e,t.length,c.value),c=l.next()}for(;s<=o;)t.destroy(t.detach(o--));i?.forEach(l=>{t.destroy(l)})}function Lg(t,n,e,i){return n!==void 0&&n.has(i)?(t.attach(e,n.get(i)),n.delete(i),!0):!1}function Rw(t,n,e,i,r){if(Lg(t,n,i,e(i,r)))t.updateValue(i,r);else{let s=t.create(i,r);t.attach(i,s)}}function Ow(t,n,e,i){let r=new Set;for(let s=n;s<=e;s++)r.add(i(s,t.at(s)));return r}var Ud=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let e=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let i=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,i]of this.kvMap)if(n(i,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),n(i,e)}}};function Qt(t,n){Mn("NgControlFlow");let e=N(),i=Ci(),r=e[i]!==Ve?e[i]:-1,s=r!==-1?$d(e,ot+r):void 0,o=0;if(Ot(e,i,t)){let a=qe(null);try{if(s!==void 0&&q_(s,o),t!==-1){let l=ot+t,c=$d(e,l),u=Ug(e[ve],l),d=js(c,u.tView.ssrId),h=aa(e,u,n,{dehydratedView:d});la(c,h,o,Ls(u,d))}}finally{qe(a)}}else if(s!==void 0){let a=UE(s,o);a!==void 0&&(a[sn]=n)}}var Vg=class{constructor(n,e,i){this.lContainer=n,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-on}};function LV(t){return t}function VV(t,n){return n}var jg=class{constructor(n,e,i){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=i}};function jV(t,n,e,i,r,s,o,a,l,c,u,d,h){Mn("NgControlFlow");let f=N(),p=Ge(),m=l!==void 0,_=N(),D=a?o.bind(_[gn][sn]):o,w=new jg(m,D);_[ot+t]=w,Al(f,p,t+1,n,e,i,r,ii(p.consts,s)),m&&Al(f,p,t+2,l,c,u,d,ii(p.consts,h))}var Bg=class extends Ng{constructor(n,e,i){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-on}at(n){return this.getLView(n)[sn].$implicit}attach(n,e){let i=e[Wo];this.needsIndexUpdate||=n!==this.length,la(this.lContainer,e,n,Ls(this.templateTNode,i))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,UV(this.lContainer,n)}create(n,e){let i=js(this.lContainer,this.templateTNode.tView.ssrId),r=aa(this.hostLView,this.templateTNode,new Vg(this.lContainer,e,n),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(n){ch(n[ve],n),this.operationsCounter?.recordDestroy()}updateValue(n,e){this.getLView(n)[sn].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[sn].$index=n}getLView(n){return $V(this.lContainer,n)}};function BV(t){let n=qe(null),e=cn();try{let i=N(),r=i[ve],s=i[e],o=e+1,a=$d(i,o);if(s.liveCollection===void 0){let c=Ug(r,o);s.liveCollection=new Bg(a,i,c)}else s.liveCollection.reset();let l=s.liveCollection;if(NV(l,t,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let c=Ci(),u=l.length===0;if(Ot(i,c,u)){let d=e+2,h=$d(i,d);if(u){let f=Ug(r,d),p=js(h,f.tView.ssrId),m=aa(i,f,void 0,{dehydratedView:p});la(h,m,0,Ls(f,p))}else q_(h,0)}}}finally{qe(n)}}function $d(t,n){return t[n]}function UV(t,n){return Ml(t,n)}function $V(t,n){return UE(t,n)}function Ug(t,n){return Vl(t,n)}function HV(t,n,e,i,r,s){let o=n.consts,a=ii(o,r),l=Ws(n,t,2,i,a);return U_(n,e,l,ii(o,s)),l.attrs!==null&&Pd(l,l.attrs,!1),l.mergedAttrs!==null&&Pd(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function E(t,n,e,i){let r=N(),s=Ge(),o=ot+t,a=r[We],l=s.firstCreatePass?HV(o,s,r,n,e,i):s.data[o],c=zV(s,r,l,a,n,t);r[o]=c;let u=eh(l);return bi(l,!0),ME(a,c,l),!TL(l)&&jl()&&uh(s,r,c,l),HF()===0&&zi(c,r),zF(),u&&(V_(s,r,l),L_(s,l,r)),i!==null&&j_(r,l),E}function x(){let t=ct();m_()?g_():(t=t.parent,bi(t,!1));let n=t;WF(n)&&YF(),qF();let e=Ge();return e.firstCreatePass&&(sh(e,t),h_(t)&&e.queries.elementEnd(t)),n.classesWithoutHost!=null&&lP(n)&&Pg(e,n,N(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&cP(n)&&Pg(e,n,N(),n.stylesWithoutHost,!1),x}function j(t,n,e,i){return E(t,n,e,i),x(),j}var zV=(t,n,e,i,r,s)=>(Bl(!0),R_(i,r,rP()));function qV(t,n,e,i,r){let s=n.consts,o=ii(s,i),a=Ws(n,t,8,"ng-container",o);o!==null&&Pd(a,o,!0);let l=ii(s,r);return U_(n,e,a,l),n.queries!==null&&n.queries.elementStart(n,a),a}function me(t,n,e){let i=N(),r=Ge(),s=t+ot,o=r.firstCreatePass?qV(s,r,i,n,e):r.data[s];bi(o,!0);let a=WV(r,i,o,t);return i[s]=a,jl()&&uh(r,i,a,o),zi(a,i),eh(o)&&(V_(r,i,o),L_(r,o,i)),e!=null&&j_(i,o),me}function ge(){let t=ct(),n=Ge();return m_()?g_():(t=t.parent,bi(t,!1)),n.firstCreatePass&&(sh(n,t),h_(t)&&n.queries.elementEnd(t)),ge}function ue(t,n,e){return me(t,n,e),ge(),ue}var WV=(t,n,e,i)=>(Bl(!0),gE(n[We],""));function Ce(){return N()}function Yr(t,n,e){let i=N(),r=Ci();if(Ot(i,r,n)){let s=Ge(),o=yt();In(s,o,i,t,n,i[We],e,!0)}return Yr}function ex(t,n,e){let i=N(),r=Ci();if(Ot(i,r,n)){let s=Ge(),o=yt(),a=__(s.data),l=BE(a,o,i);In(s,o,i,t,n,l,e,!0)}return ex}var Ts=void 0;function GV(t){let n=t,e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&i===0?1:5}var QV=["en",[["a","p"],["AM","PM"],Ts],[["AM","PM"],Ts,Ts],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ts,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ts,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ts,"{1} 'at' {0}",Ts],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",GV],Mm={};function Eh(t){let n=YV(t),e=kw(n);if(e)return e;let i=n.split("-")[0];if(e=kw(i),e)return e;if(i==="en")return QV;throw new re(701,!1)}function tx(t){return Eh(t)[Ys.PluralCase]}function kw(t){return t in Mm||(Mm[t]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[t]),Mm[t]}var Ys=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ys||{});function YV(t){return t.toLowerCase().replace(/_/g,"-")}var KV=["zero","one","two","few","many"];function ZV(t,n){let e=tx(n)(parseInt(t,10)),i=KV[e];return i!==void 0?i:"other"}var Hd="en-US";var nx={marker:"element"},ix={marker:"ICU"},dr=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(dr||{}),rx=Hd;function XV(t){typeof t=="string"&&(rx=t.toLowerCase().replace(/_/g,"-"))}function JV(){return rx}var Fl=0,vl=0;function ej(t){t&&(Fl=Fl|1<<Math.min(vl,31)),vl++}function tj(t,n,e){if(vl>0){let i=t.data[e],r=Array.isArray(i)?i:i.update,s=mr()-vl-1;ox(t,n,r,s,Fl)}Fl=0,vl=0}function nj(t,n,e){let i=t[We];switch(e){case Node.COMMENT_NODE:return gE(i,n);case Node.TEXT_NODE:return pE(i,n);case Node.ELEMENT_NODE:return R_(i,n,null)}}var gd=(t,n,e,i)=>(Bl(!0),nj(t,e,i));function ij(t,n,e,i){let r=t[We];for(let s=0;s<n.length;s++){let o=n[s++],a=n[s],l=(o&dr.COMMENT)===dr.COMMENT,c=(o&dr.APPEND_EAGERLY)===dr.APPEND_EAGERLY,u=o>>>dr.SHIFT,d=t[u],h=!1;d===null&&(d=t[u]=gd(t,u,a,l?Node.COMMENT_NODE:Node.TEXT_NODE),h=jl()),c&&e!==null&&h&&Ns(r,e,d,i,!1)}}function sx(t,n,e,i){let r=e[We],s=null,o;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="string"){let c=n[++a];e[c]===null&&(e[c]=gd(e,c,l,Node.TEXT_NODE))}else if(typeof l=="number")switch(l&1){case 0:let c=S2(l);s===null&&(s=c,o=k_(r,i));let u,d;if(c===s?(u=i,d=o):(u=null,d=ni(e[c])),d!==null){let m=x2(l),_=e[m];Ns(r,d,_,u,!1);let D=_l(t,m);if(D!==null&&typeof D=="object"){let w=_h(D,e);w!==null&&sx(t,D.create[w],e,e[D.anchorIdx])}}break;case 1:let h=l>>>1,f=n[++a],p=n[++a];$_(r,Ll(h,e),null,null,f,p,null);break;default:}else switch(l){case ix:let c=n[++a],u=n[++a];if(e[u]===null){let f=e[u]=gd(e,u,c,Node.COMMENT_NODE);zi(f,e)}break;case nx:let d=n[++a],h=n[++a];if(e[h]===null){let f=e[h]=gd(e,h,d,Node.ELEMENT_NODE);zi(f,e)}break;default:}}}function ox(t,n,e,i,r){for(let s=0;s<e.length;s++){let o=e[s],a=e[++s];if(o&r){let l="";for(let c=s+1;c<=s+a;c++){let u=e[c];if(typeof u=="string")l+=u;else if(typeof u=="number")if(u<0)l+=Be(n[i-u]);else{let d=u>>>2;switch(u&3){case 1:let h=e[++c],f=e[++c],p=t.data[d];typeof p=="string"?$_(n[We],n[d],null,p,h,l,f):In(t,p,n,h,l,n[We],f,!1);break;case 0:let m=n[d];m!==null&&mE(n[We],m,l);break;case 2:rj(t,_l(t,d),n,l);break;case 3:Fw(t,_l(t,d),i,n);break}}}}else{let l=e[s+1];if(l>0&&(l&3)===3){let c=l>>>2,u=_l(t,c);n[u.currentCaseLViewIndex]<0&&Fw(t,u,i,n)}}s+=a}}function Fw(t,n,e,i){let r=i[n.currentCaseLViewIndex];if(r!==null){let s=Fl;r<0&&(r=i[n.currentCaseLViewIndex]=~r,s=-1),ox(t,i,n.update[r],e,s)}}function rj(t,n,e,i){let r=sj(n,i);if(_h(n,e)!==r&&(ax(t,n,e),e[n.currentCaseLViewIndex]=r===null?null:~r,r!==null)){let o=e[n.anchorIdx];o&&sx(t,n.create[r],e,o),k2(e,n.anchorIdx,r)}}function ax(t,n,e){let i=_h(n,e);if(i!==null){let r=n.remove[i];for(let s=0;s<r.length;s++){let o=r[s];if(o>0){let a=Ll(o,e);a!==null&&F_(e[We],a)}else ax(t,_l(t,~o),e)}}}function sj(t,n){let e=t.cases.indexOf(n);if(e===-1)switch(t.type){case 1:{let i=ZV(n,JV());e=t.cases.indexOf(i),e===-1&&i!=="other"&&(e=t.cases.indexOf("other"));break}case 0:{e=t.cases.indexOf("other");break}}return e===-1?null:e}var zd=/�(\d+):?\d*�/gi,oj=/({\s*�\d+:?\d*�\s*,\s*\S{6}\s*,[\s\S]*})/gi,aj=/�(\d+)�/,lx=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,yl="\uFFFD",lj=/�\/?\*(\d+:\d+)�/gi,cj=/�(\/?[#*]\d+):?\d*�/gi,uj=/\uE500/g;function dj(t){return t.replace(uj," ")}function hj(t,n,e,i,r,s){let o=Il(),a=[],l=[],c=[[]],u=[[]];r=gj(r,s);let d=dj(r).split(cj);for(let h=0;h<d.length;h++){let f=d[h];if(h&1){let p=f.charCodeAt(0)===47,m=f.charCodeAt(p?1:0),_=ot+Number.parseInt(f.substring(p?2:1));if(p)c.shift(),u.shift(),bi(Il(),!1);else{let D=E2(t,c[0],_);c.unshift([]),bi(D,!0);let w={kind:2,index:_,children:[],type:m===35?0:1};u[0].push(w),u.unshift(w.children)}}else{let p=$g(f);for(let m=0;m<p.length;m++){let _=p[m];if(m&1){let D=_;if(typeof D!="object")throw new Error(`Unable to parse ICU expression in "${r}" message.`);let S=cx(t,o,c[0],e,a,"",!0).index;dx(u[0],t,e,l,n,D,S)}else{let D=_;D!==""&&fj(u[0],t,o,c[0],a,l,e,D)}}}}t.data[i]={create:a,update:l,ast:u[0],parentTNodeIndex:n}}function cx(t,n,e,i,r,s,o){let a=ql(t,i,1,null),l=a<<dr.SHIFT,c=Il();n===c&&(c=null),c===null&&(l|=dr.APPEND_EAGERLY),o&&(l|=dr.COMMENT,bN(M2)),r.push(l,s===null?"":s);let u=N_(t,a,o?32:1,s===null?"":s,null);KE(e,u);let d=u.index;return bi(u,!1),c!==null&&n!==c&&D2(c,d),u}function fj(t,n,e,i,r,s,o,a){let l=a.match(zd),u=cx(n,e,i,o,r,l?null:a,!1).index;l&&bl(s,a,u,null,0,null),t.push({kind:0,index:u})}function pj(t,n,e){let r=ct().index,s=[];if(t.firstCreatePass&&t.data[n]===null){for(let o=0;o<e.length;o+=2){let a=e[o],l=e[o+1];if(l!==""){if(oj.test(l))throw new Error(`ICU expressions are not supported in attributes. Message: "${l}".`);bl(s,l,r,a,mj(s),null)}}t.data[n]=s}}function bl(t,n,e,i,r,s){let o=t.length,a=o+1;t.push(null,null);let l=o+2,c=n.split(zd),u=0;for(let d=0;d<c.length;d++){let h=c[d];if(d&1){let f=r+parseInt(h,10);t.push(-1-f),u=u|ux(f)}else h!==""&&t.push(h)}return t.push(e<<2|(i?1:0)),i&&t.push(i,s),t[o]=u,t[a]=t.length-l,u}function mj(t){let n=0;for(let e=0;e<t.length;e++){let i=t[e];typeof i=="number"&&i<0&&n++}return n}function ux(t){return 1<<Math.min(t,31)}function Pw(t){let n,e="",i=0,r=!1,s;for(;(n=lj.exec(t))!==null;)r?n[0]===`${yl}/*${s}${yl}`&&(i=n.index,r=!1):(e+=t.substring(i,n.index+n[0].length),s=n[1],r=!0);return e+=t.slice(i),e}function gj(t,n){if(I2(n))return Pw(t);{let e=t.indexOf(`:${n}${yl}`)+2+n.toString().length,i=t.search(new RegExp(`${yl}\\/\\*\\d+:${n}${yl}`));return Pw(t.substring(e,i))}}function dx(t,n,e,i,r,s,o){let a=0,l={type:s.type,currentCaseLViewIndex:ql(n,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};bj(i,s,o),w2(n,o,l);let c=s.values,u=[];for(let d=0;d<c.length;d++){let h=c[d],f=[];for(let m=0;m<h.length;m++){let _=h[m];if(typeof _!="string"){let D=f.push(_)-1;h[m]=`<!--\uFFFD${D}\uFFFD-->`}}let p=[];u.push(p),a=vj(p,n,l,e,i,r,s.cases[d],h.join(""),f)|a}a&&Cj(i,a,o),t.push({kind:3,index:o,cases:u,currentCaseLViewIndex:l.currentCaseLViewIndex})}function _j(t){let n=[],e=[],i=1,r=0;t=t.replace(lx,function(o,a,l){return l==="select"?i=0:i=1,r=parseInt(a.slice(1),10),""});let s=$g(t);for(let o=0;o<s.length;){let a=s[o++].trim();i===1&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&n.push(a);let l=$g(s[o++]);n.length>e.length&&e.push(l)}return{type:i,mainBinding:r,cases:n,values:e}}function $g(t){if(!t)return[];let n=0,e=[],i=[],r=/[{}]/g;r.lastIndex=0;let s;for(;s=r.exec(t);){let a=s.index;if(s[0]=="}"){if(e.pop(),e.length==0){let l=t.substring(n,a);lx.test(l)?i.push(_j(l)):i.push(l),n=a+1}}else{if(e.length==0){let l=t.substring(n,a);i.push(l),n=a+1}e.push("{")}}let o=t.substring(n);return i.push(o),i}function vj(t,n,e,i,r,s,o,a,l){let c=[],u=[],d=[];e.cases.push(o),e.create.push(c),e.remove.push(u),e.update.push(d);let f=oE(S_()).getInertBodyElement(a),p=cg(f)||f;return p?hx(t,n,e,i,r,c,u,d,p,s,l,0):0}function hx(t,n,e,i,r,s,o,a,l,c,u,d){let h=0,f=l.firstChild;for(;f;){let p=ql(n,i,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:let m=f,_=m.tagName.toLowerCase();if(ag.hasOwnProperty(_)){Am(s,nx,_,c,p),n.data[p]=_;let k=m.attributes;for(let W=0;W<k.length;W++){let oe=k.item(W),K=oe.name.toLowerCase();!!oe.value.match(zd)?uE.hasOwnProperty(K)&&(M_[K]?bl(a,oe.value,p,oe.name,0,lh):bl(a,oe.value,p,oe.name,0,null)):wj(s,p,oe)}let L={kind:1,index:p,children:[]};t.push(L),h=hx(L.children,n,e,i,r,s,o,a,f,p,u,d+1)|h,Nw(o,p,d)}break;case Node.TEXT_NODE:let D=f.textContent||"",w=D.match(zd);Am(s,null,w?"":D,c,p),Nw(o,p,d),w&&(h=bl(a,D,p,null,0,null)|h),t.push({kind:0,index:p});break;case Node.COMMENT_NODE:let S=aj.exec(f.textContent||"");if(S){let k=parseInt(S[1],10),L=u[k];Am(s,ix,"",c,p),dx(t,n,i,r,c,L,p),yj(o,p,d)}break}f=f.nextSibling}return h}function Nw(t,n,e){e===0&&t.push(n)}function yj(t,n,e){e===0&&(t.push(~n),t.push(n))}function bj(t,n,e){t.push(ux(n.mainBinding),2,-1-n.mainBinding,e<<2|2)}function Cj(t,n,e){t.push(n,1,e<<2|3)}function Am(t,n,e,i,r){n!==null&&t.push(n),t.push(e,r,T2(0,i,r))}function wj(t,n,e){t.push(n<<1|1,e.name,e.value)}var Lw=0,Dj=/\[(�.+?�?)\]/,Ej=/\[(�.+?�?)\]|(�\/?\*\d+:\d+�)/g,Sj=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,xj=/{([A-Z0-9_]+)}/g,Tj=/�I18N_EXP_(ICU(_\d+)?)�/g,Ij=/\/\*/,Mj=/\d+\:(\d+)/;function Aj(t,n={}){let e=t;if(Dj.test(t)){let i={},r=[Lw];e=e.replace(Ej,(s,o,a)=>{let l=o||a,c=i[l]||[];if(c.length||(l.split("|").forEach(m=>{let _=m.match(Mj),D=_?parseInt(_[1],10):Lw,w=Ij.test(m);c.push([D,w,m])}),i[l]=c),!c.length)throw new Error(`i18n postprocess: unmatched placeholder - ${l}`);let u=r[r.length-1],d=0;for(let m=0;m<c.length;m++)if(c[m][0]===u){d=m;break}let[h,f,p]=c[d];return f?r.pop():u!==h&&r.push(h),c.splice(d,1),p})}return Object.keys(n).length&&(e=e.replace(Sj,(i,r,s,o,a,l)=>n.hasOwnProperty(s)?`${r}${n[s]}${l}`:i),e=e.replace(xj,(i,r)=>n.hasOwnProperty(r)?n[r]:i),e=e.replace(Tj,(i,r)=>{if(n.hasOwnProperty(r)){let s=n[r];if(!s.length)throw new Error(`i18n postprocess: unmatched ICU - ${i} with key: ${r}`);return s.shift()}return i})),e}function fx(t,n,e=-1){let i=Ge(),r=N(),s=ot+t,o=ii(i.consts,n),a=Il();if(i.firstCreatePass&&hj(i,a===null?0:a.index,r,s,o,e),i.type===2){let h=r[gn];h[Te]|=32}else r[Te]|=32;let l=i.data[s],c=a===r[_n]?null:a,u=bE(i,c,r),d=a&&a.type&8?r[a.index]:null;R2(r,s,a,e),ij(r,l.create,u,d),RD(!0)}function px(){RD(!1)}function Rj(t,n,e){fx(t,n,e),px()}function Oj(t,n){let e=Ge(),i=ii(e.consts,n);pj(e,t+ot,i)}function mx(t){let n=N();return ej(Ot(n,Ci(),t)),mx}function kj(t){tj(Ge(),N(),t+ot)}function Fj(t,n={}){return Aj(t,n)}var Pj=(t,n,e)=>{};function se(t,n,e,i){let r=N(),s=Ge(),o=ct();return ev(s,r,r[We],o,t,n,i),se}function gx(t,n){let e=ct(),i=N(),r=Ge(),s=__(r.data),o=BE(s,e,i);return ev(r,i,o,e,t,n),gx}function Nj(t,n,e,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===e&&r[s+1]===i){let a=n[Dd],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function ev(t,n,e,i,r,s,o){let a=eh(i),c=t.firstCreatePass&&jE(t),u=n[sn],d=VE(n),h=!0;if(i.type&3||o){let m=Bn(i,n),_=o?o(m):m,D=d.length,w=o?k=>o(ni(k[i.index])):i.index,S=null;if(!o&&a&&(S=Nj(t,n,r,i.index)),S!==null){let k=S.__ngLastListenerFn__||S;k.__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,h=!1}else{s=jw(i,n,u,s),Pj(m,r,s);let k=e.listen(_,r,s);d.push(s,k),c&&c.push(r,w,D,D+1)}}else s=jw(i,n,u,s);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let m=p.length;if(m)for(let _=0;_<m;_+=2){let D=p[_],w=p[_+1],L=n[D][w].subscribe(s),W=d.length;d.push(s,L),c&&c.push(r,i.index,W,-(W+1))}}}function Vw(t,n,e,i){let r=qe(null);try{return ji(6,n,e),e(i)!==!1}catch(s){return ph(t,s),!1}finally{ji(7,n,e),qe(r)}}function jw(t,n,e,i){return function r(s){if(s===Function)return i;let o=t.componentOffset>-1?Gr(t.index,n):n;mh(o,5);let a=Vw(n,e,i,s),l=r.__ngNextListenerFn__;for(;l;)a=Vw(n,e,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function b(t=1){return eP(t)}function Lj(t,n){let e=null,i=dF(t);for(let r=0;r<n.length;r++){let s=n[r];if(s==="*"){e=r;continue}if(i===null?oD(t,s,!0):pF(i,s))return r}return e}function Yt(t){let n=N()[gn][_n];if(!n.projection){let e=t?t.length:1,i=n.projection=ud(e,null),r=i.slice(),s=n.child;for(;s!==null;){if(s.type!==128){let o=t?Lj(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function rt(t,n=0,e,i,r,s){let o=N(),a=Ge(),l=i?t+1:null;l!==null&&Al(o,a,l,i,r,s,null,e);let c=Ws(a,ot+t,16,null,e||null);c.projection===null&&(c.projection=n),g_();let d=!o[Wo]||xD();o[gn][_n].projection[c.projection]===null&&l!==null?Vj(o,a,l):d&&(c.flags&32)!==32&&IN(a,o,c)}function Vj(t,n,e){let i=ot+e,r=n.data[i],s=t[i],o=js(s,r.tView.ssrId),a=aa(t,r,void 0,{dehydratedView:o});la(s,a,0,Ls(r,o))}function Dt(t,n,e){return tv(t,"",n,"",e),Dt}function tv(t,n,e,i,r){let s=N(),o=fa(s,n,e,i);if(o!==Ve){let a=Ge(),l=yt();In(a,l,s,t,o,s[We],r,!1)}return tv}function _x(t,n,e,i,r,s,o){let a=N(),l=pa(a,n,e,i,r,s);if(l!==Ve){let c=Ge(),u=yt();In(c,u,a,t,l,a[We],o,!1)}return _x}function vx(t,n,e,i,r,s,o,a,l){let c=N(),u=ma(c,n,e,i,r,s,o,a);if(u!==Ve){let d=Ge(),h=yt();In(d,h,c,t,u,c[We],l,!1)}return vx}function yx(t,n,e,i,r,s,o,a,l,c,u){let d=N(),h=ga(d,n,e,i,r,s,o,a,l,c);if(h!==Ve){let f=Ge(),p=yt();In(f,p,d,t,h,d[We],u,!1)}return yx}function bx(t,n,e,i,r,s,o,a,l,c,u,d,h){let f=N(),p=_a(f,n,e,i,r,s,o,a,l,c,u,d);if(p!==Ve){let m=Ge(),_=yt();In(m,_,f,t,p,f[We],h,!1)}return bx}function Cx(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p){let m=N(),_=va(m,n,e,i,r,s,o,a,l,c,u,d,h,f);if(_!==Ve){let D=Ge(),w=yt();In(D,w,m,t,_,m[We],p,!1)}return Cx}function wx(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_){let D=N(),w=ya(D,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m);if(w!==Ve){let S=Ge(),k=yt();In(S,k,D,t,w,D[We],_,!1)}return wx}function Dx(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_,D,w){let S=N(),k=ba(S,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_,D);if(k!==Ve){let L=Ge(),W=yt();In(L,W,S,t,k,S[We],w,!1)}return Dx}function Ex(t,n,e){let i=N(),r=ha(i,n);if(r!==Ve){let s=Ge(),o=yt();In(s,o,i,t,r,i[We],e,!1)}return Ex}function $n(t,n,e,i){lS(t,n,e,i)}function Qe(t,n,e){aS(t,n,e)}function Oe(t){let n=N(),e=Ge(),i=v_();rh(i+1);let r=Q_(e,i);if(t.dirty&&UF(n)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=uS(n,i);t.reset(s,ZD),t.notifyOnChanges()}return!0}return!1}function ke(){return G_(N(),v_())}function nv(t,n,e,i,r){fS(n,lS(t,e,i,r))}function jj(t,n,e,i){fS(t,aS(n,e,i))}function iv(t=1){rh(v_()+t)}function rv(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}function U(t){let n=ID();return zs(n,ot+t)}function Bj(t,n,e){let i=N(),r=fa(i,t,n,e);Zi(r)}function Uj(t,n,e,i,r){let s=N(),o=pa(s,t,n,e,i,r);Zi(o)}function $j(t,n,e,i,r,s,o){let a=N(),l=ma(a,t,n,e,i,r,s,o);Zi(l)}function Hj(t,n,e,i,r,s,o,a,l){let c=N(),u=ga(c,t,n,e,i,r,s,o,a,l);Zi(u)}function zj(t,n,e,i,r,s,o,a,l,c,u){let d=N(),h=_a(d,t,n,e,i,r,s,o,a,l,c,u);Zi(h)}function qj(t,n,e,i,r,s,o,a,l,c,u,d,h){let f=N(),p=va(f,t,n,e,i,r,s,o,a,l,c,u,d,h);Zi(p)}function Wj(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p){let m=N(),_=ya(m,t,n,e,i,r,s,o,a,l,c,u,d,h,f,p);Zi(_)}function Gj(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_){let D=N(),w=ba(D,t,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_);Zi(w)}function Qj(t){let n=N(),e=ha(n,t);Zi(e)}function Sx(t,n,e,i,r){let s=N(),o=fa(s,n,e,i);return Di(t,o,r,!1),Sx}function xx(t,n,e,i,r,s,o){let a=N(),l=pa(a,n,e,i,r,s);return Di(t,l,o,!1),xx}function Tx(t,n,e,i,r,s,o,a,l){let c=N(),u=ma(c,n,e,i,r,s,o,a);return Di(t,u,l,!1),Tx}function Ix(t,n,e,i,r,s,o,a,l,c,u){let d=N(),h=ga(d,n,e,i,r,s,o,a,l,c);return Di(t,h,u,!1),Ix}function Mx(t,n,e,i,r,s,o,a,l,c,u,d,h){let f=N(),p=_a(f,n,e,i,r,s,o,a,l,c,u,d);return Di(t,p,h,!1),Mx}function Ax(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p){let m=N(),_=va(m,n,e,i,r,s,o,a,l,c,u,d,h,f);return Di(t,_,p,!1),Ax}function Rx(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_){let D=N(),w=ya(D,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m);return Di(t,w,_,!1),Rx}function Ox(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_,D,w){let S=N(),k=ba(S,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_,D);return Di(t,k,w,!1),Ox}function kx(t,n,e){let i=N(),r=ha(i,n);return Di(t,r,e,!1),kx}function ee(t,n=""){let e=N(),i=Ge(),r=t+ot,s=i.firstCreatePass?Ws(i,r,1,n,null):i.data[r],o=Yj(i,e,s,n,t);e[r]=o,jl()&&uh(i,e,o,s),bi(s,!1)}var Yj=(t,n,e,i,r)=>(Bl(!0),pE(n[We],i));function bn(t){return _e("",t,""),bn}function _e(t,n,e){let i=N(),r=fa(i,t,n,e);return r!==Ve&&br(i,cn(),r),_e}function Kl(t,n,e,i,r){let s=N(),o=pa(s,t,n,e,i,r);return o!==Ve&&br(s,cn(),o),Kl}function Fx(t,n,e,i,r,s,o){let a=N(),l=ma(a,t,n,e,i,r,s,o);return l!==Ve&&br(a,cn(),l),Fx}function Px(t,n,e,i,r,s,o,a,l){let c=N(),u=ga(c,t,n,e,i,r,s,o,a,l);return u!==Ve&&br(c,cn(),u),Px}function Nx(t,n,e,i,r,s,o,a,l,c,u){let d=N(),h=_a(d,t,n,e,i,r,s,o,a,l,c,u);return h!==Ve&&br(d,cn(),h),Nx}function Lx(t,n,e,i,r,s,o,a,l,c,u,d,h){let f=N(),p=va(f,t,n,e,i,r,s,o,a,l,c,u,d,h);return p!==Ve&&br(f,cn(),p),Lx}function Vx(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p){let m=N(),_=ya(m,t,n,e,i,r,s,o,a,l,c,u,d,h,f,p);return _!==Ve&&br(m,cn(),_),Vx}function jx(t,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_){let D=N(),w=ba(D,t,n,e,i,r,s,o,a,l,c,u,d,h,f,p,m,_);return w!==Ve&&br(D,cn(),w),jx}function Bx(t){let n=N(),e=ha(n,t);return e!==Ve&&br(n,cn(),e),Bx}function Ca(t,n,e){dS(n)&&(n=n());let i=N(),r=Ci();if(Ot(i,r,n)){let s=Ge(),o=yt();In(s,o,i,t,n,i[We],e,!1)}return Ca}function Zl(t,n){let e=dS(t);return e&&t.set(n),e}function wa(t,n){let e=N(),i=Ge(),r=ct();return ev(i,e,e[We],r,t,n),wa}var Ux={};function $x(t){let n=Ge(),e=N(),i=t+ot,r=Ws(n,i,128,null,null);return bi(r,!1),rv(n,e,i,Ux),$x}function Kj(t){Mn("NgLet");let n=Ge(),e=N(),i=cn();return rv(n,e,i,t),t}function Zj(t){let n=ID(),e=zs(n,ot+t);if(e===Ux)throw new re(314,!1);return e}function Xj(t,n,e){let i=Ge();if(i.firstCreatePass){let r=yi(t);Hg(e,i.data,i.blueprint,r,!0),Hg(n,i.data,i.blueprint,r,!1)}}function Hg(t,n,e,i,r){if(t=dt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Hg(t[s],n,e,i,r);else{let s=Ge(),o=N(),a=ct(),l=qo(t)?t:dt(t.provide),c=dD(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(qo(t)||!t.multi){let f=new Fs(c,r,M),p=Om(l,n,r?u:u+h,d);p===-1?(Zm(Md(a,o),s,l),Rm(s,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(f),o.push(f)):(e[p]=f,o[p]=f)}else{let f=Om(l,n,u+h,d),p=Om(l,n,u,u+h),m=f>=0&&e[f],_=p>=0&&e[p];if(r&&!_||!r&&!m){Zm(Md(a,o),s,l);let D=tB(r?eB:Jj,e.length,r,i,c);!r&&_&&(e[p].providerFactory=D),Rm(s,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(D),o.push(D)}else{let D=Hx(e[r?p:f],c,!r&&i);Rm(s,t,f>-1?f:p,D)}!r&&i&&_&&e[p].componentProviders++}}}function Rm(t,n,e,i){let r=qo(n),s=EF(n);if(r||s){let l=(s?dt(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){let u=c.indexOf(e);u===-1?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function Hx(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Om(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function Jj(t,n,e,i){return zg(this.multi,[])}function eB(t,n,e,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ps(e,e[ve],this.providerFactory.index,i);s=a.slice(0,o),zg(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],zg(r,s);return s}function zg(t,n){for(let e=0;e<t.length;e++){let i=t[e];n.push(i())}return n}function tB(t,n,e,i,r){let s=new Fs(t,e,M);return s.multi=[],s.index=n,s.componentProviders=0,Hx(s,r,i&&!e),s}function kt(t,n=[]){return e=>{e.providersResolver=(i,r)=>Xj(i,r?r(t):t,n)}}var nB=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=a_(!1,e.type),r=i.length>0?vS([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(P(Vn))})}}return t})();function jt(t){Mn("NgStandalone"),t.getStandaloneInjector=n=>n.get(nB).getOrCreateStandaloneInjector(t)}function iB(t,n,e){let i=t.\u0275cmp;i.directiveDefs=wd(n,!1),i.pipeDefs=wd(e,!0)}function rB(t,n){return $s(()=>{let e=Sl(t,!0);e.declarations=ld(n.declarations||vt),e.imports=ld(n.imports||vt),e.exports=ld(n.exports||vt),n.bootstrap&&(e.bootstrap=ld(n.bootstrap)),tS.registerNgModule(t,n)})}function ld(t){if(typeof t=="function")return t;let n=Br(t);return n.some(Gd)?()=>n.map(dt).map(Bw):n.map(Bw)}function Bw(t){return W_(t)?t.ngModule:t}function Da(t,n,e){let i=vn()+t,r=N();return r[i]===Ve?Ki(r,i,e?n.call(e):n()):Wl(r,i)}function ft(t,n,e,i){return zx(N(),vn(),t,n,e,i)}function Hn(t,n,e,i,r){return qx(N(),vn(),t,n,e,i,r)}function Sh(t,n,e,i,r,s){return Wx(N(),vn(),t,n,e,i,r,s)}function xh(t,n,e,i,r,s,o){return Gx(N(),vn(),t,n,e,i,r,s,o)}function Th(t,n,e,i,r,s,o,a){let l=vn()+t,c=N(),u=si(c,l,e,i,r,s);return Ot(c,l+4,o)||u?Ki(c,l+5,a?n.call(a,e,i,r,s,o):n(e,i,r,s,o)):Wl(c,l+5)}function sv(t,n,e,i,r,s,o,a,l){let c=vn()+t,u=N(),d=si(u,c,e,i,r,s);return Bs(u,c+4,o,a)||d?Ki(u,c+6,l?n.call(l,e,i,r,s,o,a):n(e,i,r,s,o,a)):Wl(u,c+6)}function ov(t,n,e,i,r,s,o,a,l,c){let u=vn()+t,d=N(),h=si(d,u,e,i,r,s);return bh(d,u+4,o,a,l)||h?Ki(d,u+7,c?n.call(c,e,i,r,s,o,a,l):n(e,i,r,s,o,a,l)):Wl(d,u+7)}function sB(t,n,e,i,r,s,o,a,l,c,u){let d=vn()+t,h=N(),f=si(h,d,e,i,r,s);return si(h,d+4,o,a,l,c)||f?Ki(h,d+8,u?n.call(u,e,i,r,s,o,a,l,c):n(e,i,r,s,o,a,l,c)):Wl(h,d+8)}function oB(t,n,e,i){return Qx(N(),vn(),t,n,e,i)}function Xl(t,n){let e=t[n];return e===Ve?void 0:e}function zx(t,n,e,i,r,s){let o=n+e;return Ot(t,o,r)?Ki(t,o+1,s?i.call(s,r):i(r)):Xl(t,o+1)}function qx(t,n,e,i,r,s,o){let a=n+e;return Bs(t,a,r,s)?Ki(t,a+2,o?i.call(o,r,s):i(r,s)):Xl(t,a+2)}function Wx(t,n,e,i,r,s,o,a){let l=n+e;return bh(t,l,r,s,o)?Ki(t,l+3,a?i.call(a,r,s,o):i(r,s,o)):Xl(t,l+3)}function Gx(t,n,e,i,r,s,o,a,l){let c=n+e;return si(t,c,r,s,o,a)?Ki(t,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):Xl(t,c+4)}function Qx(t,n,e,i,r,s){let o=n+e,a=!1;for(let l=0;l<r.length;l++)Ot(t,o++,r[l])&&(a=!0);return a?Ki(t,o,i.apply(s,r)):Xl(t,o)}function q(t,n){let e=Ge(),i,r=t+ot;e.firstCreatePass?(i=aB(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let s=i.factory||(i.factory=Ms(i.type,!0)),o,a=Tn(M);try{let l=Id(!1),c=s();return Id(l),rv(e,N(),r,c),c}finally{Tn(a)}}function aB(t,n){if(n)for(let e=n.length-1;e>=0;e--){let i=n[e];if(t===i.name)return i}}function Q(t,n,e){let i=t+ot,r=N(),s=zs(r,i);return Jl(r,i)?zx(r,vn(),n,s.transform,e,s):s.transform(e)}function zn(t,n,e,i){let r=t+ot,s=N(),o=zs(s,r);return Jl(s,r)?qx(s,vn(),n,o.transform,e,i,o):o.transform(e,i)}function lB(t,n,e,i,r){let s=t+ot,o=N(),a=zs(o,s);return Jl(o,s)?Wx(o,vn(),n,a.transform,e,i,r,a):a.transform(e,i,r)}function cB(t,n,e,i,r,s){let o=t+ot,a=N(),l=zs(a,o);return Jl(a,o)?Gx(a,vn(),n,l.transform,e,i,r,s,l):l.transform(e,i,r,s)}function uB(t,n,e){let i=t+ot,r=N(),s=zs(r,i);return Jl(r,i)?Qx(r,vn(),n,s.transform,e,s):s.transform.apply(s,e)}function Jl(t,n){return t[ve].data[n].pure}function J(t,n){return gh(t,n)}function dB(t,n){return()=>{try{return tS.getComponentDependencies(t,n).dependencies}catch(e){throw console.error(`Computing dependencies in local compilation mode for the component "${t.name}" failed with the exception:`,e),e}}}function ec(t,n){let e=Ln(t);e!==null&&(e.debugInfo=n)}var km={\u0275\u0275attribute:Gt,\u0275\u0275attributeInterpolate1:Yl,\u0275\u0275attributeInterpolate2:LS,\u0275\u0275attributeInterpolate3:VS,\u0275\u0275attributeInterpolate4:jS,\u0275\u0275attributeInterpolate5:BS,\u0275\u0275attributeInterpolate6:US,\u0275\u0275attributeInterpolate7:$S,\u0275\u0275attributeInterpolate8:HS,\u0275\u0275attributeInterpolateV:zS,\u0275\u0275defineComponent:Ie,\u0275\u0275defineDirective:Me,\u0275\u0275defineInjectable:G,\u0275\u0275defineInjector:De,\u0275\u0275defineNgModule:Ee,\u0275\u0275definePipe:ea,\u0275\u0275directiveInject:M,\u0275\u0275getInheritedFactory:_r,\u0275\u0275inject:P,\u0275\u0275injectAttribute:oh,\u0275\u0275invalidFactory:ON,\u0275\u0275invalidFactoryDep:Kk,\u0275\u0275templateRefExtractor:J,\u0275\u0275resetView:H,\u0275\u0275HostDirectivesFeature:DL,\u0275\u0275NgOnChangesFeature:tt,\u0275\u0275ProvidersFeature:kt,\u0275\u0275CopyDefinitionFeature:wL,\u0275\u0275InheritDefinitionFeature:pn,\u0275\u0275InputTransformsFeature:ai,\u0275\u0275StandaloneFeature:jt,\u0275\u0275nextContext:b,\u0275\u0275namespaceHTML:nP,\u0275\u0275namespaceMathML:tP,\u0275\u0275namespaceSVG:C_,\u0275\u0275enableBindings:GF,\u0275\u0275disableBindings:QF,\u0275\u0275elementStart:E,\u0275\u0275elementEnd:x,\u0275\u0275element:j,\u0275\u0275elementContainerStart:me,\u0275\u0275elementContainerEnd:ge,\u0275\u0275elementContainer:ue,\u0275\u0275pureFunction0:Da,\u0275\u0275pureFunction1:ft,\u0275\u0275pureFunction2:Hn,\u0275\u0275pureFunction3:Sh,\u0275\u0275pureFunction4:xh,\u0275\u0275pureFunction5:Th,\u0275\u0275pureFunction6:sv,\u0275\u0275pureFunction7:ov,\u0275\u0275pureFunction8:sB,\u0275\u0275pureFunctionV:oB,\u0275\u0275getCurrentView:Ce,\u0275\u0275restoreView:$,\u0275\u0275listener:se,\u0275\u0275projection:rt,\u0275\u0275syntheticHostProperty:ex,\u0275\u0275syntheticHostListener:gx,\u0275\u0275pipeBind1:Q,\u0275\u0275pipeBind2:zn,\u0275\u0275pipeBind3:lB,\u0275\u0275pipeBind4:cB,\u0275\u0275pipeBindV:uB,\u0275\u0275projectionDef:Yt,\u0275\u0275hostProperty:Yr,\u0275\u0275property:y,\u0275\u0275propertyInterpolate:Dt,\u0275\u0275propertyInterpolate1:tv,\u0275\u0275propertyInterpolate2:_x,\u0275\u0275propertyInterpolate3:vx,\u0275\u0275propertyInterpolate4:yx,\u0275\u0275propertyInterpolate5:bx,\u0275\u0275propertyInterpolate6:Cx,\u0275\u0275propertyInterpolate7:wx,\u0275\u0275propertyInterpolate8:Dx,\u0275\u0275propertyInterpolateV:Ex,\u0275\u0275pipe:q,\u0275\u0275queryRefresh:Oe,\u0275\u0275queryAdvance:iv,\u0275\u0275viewQuery:Qe,\u0275\u0275viewQuerySignal:jj,\u0275\u0275loadQuery:ke,\u0275\u0275contentQuery:$n,\u0275\u0275contentQuerySignal:nv,\u0275\u0275reference:U,\u0275\u0275classMap:wr,\u0275\u0275classMapInterpolate1:yn,\u0275\u0275classMapInterpolate2:X_,\u0275\u0275classMapInterpolate3:MV,\u0275\u0275classMapInterpolate4:J_,\u0275\u0275classMapInterpolate5:AV,\u0275\u0275classMapInterpolate6:RV,\u0275\u0275classMapInterpolate7:OV,\u0275\u0275classMapInterpolate8:kV,\u0275\u0275classMapInterpolateV:FV,\u0275\u0275styleMap:Zi,\u0275\u0275styleMapInterpolate1:Bj,\u0275\u0275styleMapInterpolate2:Uj,\u0275\u0275styleMapInterpolate3:$j,\u0275\u0275styleMapInterpolate4:Hj,\u0275\u0275styleMapInterpolate5:zj,\u0275\u0275styleMapInterpolate6:qj,\u0275\u0275styleMapInterpolate7:Wj,\u0275\u0275styleMapInterpolate8:Gj,\u0275\u0275styleMapInterpolateV:Qj,\u0275\u0275styleProp:Un,\u0275\u0275stylePropInterpolate1:Sx,\u0275\u0275stylePropInterpolate2:xx,\u0275\u0275stylePropInterpolate3:Tx,\u0275\u0275stylePropInterpolate4:Ix,\u0275\u0275stylePropInterpolate5:Mx,\u0275\u0275stylePropInterpolate6:Ax,\u0275\u0275stylePropInterpolate7:Rx,\u0275\u0275stylePropInterpolate8:Ox,\u0275\u0275stylePropInterpolateV:kx,\u0275\u0275classProp:Fe,\u0275\u0275advance:v,\u0275\u0275template:I,\u0275\u0275conditional:Qt,\u0275\u0275defer:qL,\u0275\u0275deferWhen:WL,\u0275\u0275deferOnIdle:QL,\u0275\u0275deferOnImmediate:KL,\u0275\u0275deferOnTimer:XL,\u0275\u0275deferOnHover:eV,\u0275\u0275deferOnInteraction:nV,\u0275\u0275deferOnViewport:rV,\u0275\u0275deferPrefetchWhen:GL,\u0275\u0275deferPrefetchOnIdle:YL,\u0275\u0275deferPrefetchOnImmediate:ZL,\u0275\u0275deferPrefetchOnTimer:JL,\u0275\u0275deferPrefetchOnHover:tV,\u0275\u0275deferPrefetchOnInteraction:iV,\u0275\u0275deferPrefetchOnViewport:sV,\u0275\u0275deferEnableTimerScheduling:zL,\u0275\u0275repeater:BV,\u0275\u0275repeaterCreate:jV,\u0275\u0275repeaterTrackByIndex:LV,\u0275\u0275repeaterTrackByIdentity:VV,\u0275\u0275componentInstance:PV,\u0275\u0275text:ee,\u0275\u0275textInterpolate:bn,\u0275\u0275textInterpolate1:_e,\u0275\u0275textInterpolate2:Kl,\u0275\u0275textInterpolate3:Fx,\u0275\u0275textInterpolate4:Px,\u0275\u0275textInterpolate5:Nx,\u0275\u0275textInterpolate6:Lx,\u0275\u0275textInterpolate7:Vx,\u0275\u0275textInterpolate8:jx,\u0275\u0275textInterpolateV:Bx,\u0275\u0275i18n:Rj,\u0275\u0275i18nAttributes:Oj,\u0275\u0275i18nExp:mx,\u0275\u0275i18nStart:fx,\u0275\u0275i18nEnd:px,\u0275\u0275i18nApply:kj,\u0275\u0275i18nPostprocess:Fj,\u0275\u0275resolveWindow:_N,\u0275\u0275resolveDocument:vN,\u0275\u0275resolveBody:yN,\u0275\u0275setComponentScope:iB,\u0275\u0275setNgModuleScope:rB,\u0275\u0275registerNgModuleType:mS,\u0275\u0275getComponentDepsFactory:dB,\u0275setClassDebugInfo:ec,\u0275\u0275declareLet:$x,\u0275\u0275storeLet:Kj,\u0275\u0275readContextLet:Zj,\u0275\u0275sanitizeHtml:Qr,\u0275\u0275sanitizeStyle:aN,\u0275\u0275sanitizeResourceUrl:fE,\u0275\u0275sanitizeScript:lN,\u0275\u0275sanitizeUrl:fn,\u0275\u0275sanitizeUrlOrResourceUrl:hN,\u0275\u0275trustConstantHtml:cN,\u0275\u0275trustConstantResourceUrl:uN,\u0275\u0275validateIframeAttribute:pL,forwardRef:oi,resolveForwardRef:dt,\u0275\u0275twoWayProperty:Ca,\u0275\u0275twoWayBindingSet:Zl,\u0275\u0275twoWayListener:wa};var hB=[];function fB(t,n){hB.push({moduleType:t,ngModule:n})}function pB(t,n={}){mB(t,n),n.id!==void 0&&mS(t,n.id),fB(t,n)}function mB(t,n,e=!1){let i=Br(n.declarations||vt),r=null;Object.defineProperty(t,Kw,{configurable:!0,get:()=>(r===null&&(r=fm({usage:0,kind:"NgModule",type:t}).compileNgModule(km,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:Br(n.bootstrap||vt).map(dt),declarations:i.map(dt),imports:Br(n.imports||vt).map(dt).map(Uw),exports:Br(n.exports||vt).map(dt).map(Uw),schemas:n.schemas?Br(n.schemas):null,id:n.id||null}),r.schemas||(r.schemas=[])),r)});let s=null;Object.defineProperty(t,Cl,{get:()=>{if(s===null){let a=fm({usage:0,kind:"NgModule",type:t});s=a.compileFactory(km,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,deps:CP(t),target:a.FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!1});let o=null;Object.defineProperty(t,Pm,{get:()=>{if(o===null){let a={name:t.name,type:t,providers:n.providers||vt,imports:[(n.imports||vt).map(dt),(n.exports||vt).map(dt)]};o=fm({usage:0,kind:"NgModule",type:t}).compileInjector(km,`ng:///${t.name}/\u0275inj.js`,a)}return o},configurable:!1})}function Uw(t){return W_(t)?t.ngModule:t}var tc=kk("NgModule",t=>t,void 0,void 0,(t,n)=>pB(t,n));var av=new le(""),nc=new le(""),Ih=(()=>{class t{constructor(e,i,r){this._ngZone=e,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,lv||(gB(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(e)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e()},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static{this.\u0275fac=function(i){return new(i||t)(P(pe),P(Mh),P(nc))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),Mh=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return lv?.findTestabilityInTree(this,e,i)??null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function gB(t){lv=t}var lv;function Ea(t){return!!t&&typeof t.then=="function"}function cv(t){return!!t&&typeof t.subscribe=="function"}var _B=new le(""),Yx=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=he(_B,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let s=r();if(Ea(s))e.push(s);else if(cv(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Kx=new le("");function vB(){Jb(()=>{throw new re(600,!1)})}function yB(t){return t.isBoundToModule}var bB=10;function CB(t,n,e){try{let i=e();return Ea(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}var Dr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=he(FP),this.afterRenderManager=he(ES),this.zonelessEnabled=he(vh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ye,this.afterTick=new ye,this.componentTypes=[],this.components=[],this.isStable=he(vr).hasPendingTasks.pipe(xe(e=>!e)),this._injector=he(Vn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,i){let r=e instanceof Fd;if(!this._injector.get(Yx).done){let h=!r&&Bm(e),f=!1;throw new re(405,f)}let o;r?o=e:o=this._injector.get(ri).resolveComponentFactory(e),this.componentTypes.push(o.componentType);let a=yB(o)?void 0:this._injector.get(Ko),l=i||o.selector,c=o.create(Wt.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(av,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),_d(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new re(101,!1);let e=qe(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,qe(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(qr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<bB;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:s}of this._views)wB(r,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else e?.begin?.(),e?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>th(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;_d(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let i=this._injector.get(Kx,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>_d(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new re(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _d(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function wB(t,n,e,i){if(!e&&!th(t))return;zE(t,n,e&&!i?0:1)}var DB=(()=>{class t{constructor(){this.zone=he(pe),this.changeDetectionScheduler=he(Yo),this.applicationRef=he(Dr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),EB=new le("",{factory:()=>!1});function Zx({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new pe(Se(V({},Jx()),{scheduleInRootZone:e})),[{provide:pe,useFactory:t},{provide:Dl,multi:!0,useFactory:()=>{let i=he(DB,{optional:!0});return()=>i.initialize()}},{provide:Dl,multi:!0,useFactory:()=>{let i=he(SB);return()=>{i.initialize()}}},n===!0?{provide:JE,useValue:!0}:[],{provide:eS,useValue:e??QD}]}function Xx(t){let n=t?.ignoreChangesOutsideZone,e=t?.scheduleInRootZone,i=Zx({ngZoneFactory:()=>{let r=Jx(t);return r.scheduleInRootZone=e,r.shouldCoalesceEventChangeDetection&&Mn("NgZone_CoalesceEvent"),new pe(r)},ignoreChangesOutsideZone:n,scheduleInRootZone:e});return Kd([{provide:EB,useValue:!0},{provide:vh,useValue:!1},i])}function Jx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var SB=(()=>{class t{constructor(){this.subscription=new lt,this.initialized=!1,this.zone=he(pe),this.pendingTasks=he(vr)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var xB=(()=>{class t{constructor(){this.appRef=he(Dr),this.taskService=he(vr),this.ngZone=he(pe),this.zonelessEnabled=he(vh),this.disableScheduling=he(JE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new lt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Rd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(he(eS,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ng||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?ew:YD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Rd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(e),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ew(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function TB(){return typeof $localize<"u"&&$localize.locale||Hd}var ic=new le("",{providedIn:"root",factory:()=>he(ic,Ze.Optional|Ze.SkipSelf)||TB()});var qg=new le("");function cd(t){return!t.moduleRef}function IB(t){let n=cd(t)?t.r3Injector:t.moduleRef.injector,e=n.get(pe);return e.run(()=>{cd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=n.get(Hi,null),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:s=>{i.handleError(s)}})}),cd(t)){let s=()=>n.destroy(),o=t.platformInjector.get(qg);o.add(s),n.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(qg);o.add(s),t.moduleRef.onDestroy(()=>{_d(t.allPlatformModules,t.moduleRef),r.unsubscribe(),o.delete(s)})}return CB(i,e,()=>{let s=n.get(Yx);return s.runInitializers(),s.donePromise.then(()=>{let o=n.get(ic,Hd);if(XV(o||Hd),cd(t)){let a=n.get(Dr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return MB(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function MB(t,n){let e=t.injector.get(Dr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>e.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new re(-403,!1);n.push(t)}var vd=null;function AB(t=[],n){return Wt.create({name:n,providers:[{provide:Zd,useValue:"platform"},{provide:qg,useValue:new Set([()=>vd=null])},...t]})}function RB(t=[]){if(vd)return vd;let n=AB(t);return vd=n,vB(),OB(n),n}function OB(t){t.get(x_,null)?.forEach(e=>e())}var nt=(()=>{class t{static{this.__NG_ELEMENT_ID__=kB}}return t})();function kB(t){return FB(ct(),N(),(t&16)===16)}function FB(t,n,e){if(Jd(t)&&!e){let i=Gr(t.index,n);return new Vs(i,i)}else if(t.type&175){let i=n[gn];return new Vs(i,n)}return null}var Wg=class{constructor(){}supports(n){return yS(n)}create(n){return new Gg(n)}},PB=(t,n)=>n,Gg=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||PB}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){let o=!i||e&&e.currentIndex<$w(i,r,s)?e:i,a=$w(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&n(o,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!yS(n))throw new re(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,i=!1,r,s,o;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)s=n[a],o=this._trackByFn(a,s),e===null||!Object.is(e.trackById,o)?(e=this._mismatch(e,s,o,a),i=!0):(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)),e=e._next}else r=0,xL(n,a=>{o=this._trackByFn(r,a),e===null||!Object.is(e.trackById,o)?(e=this._mismatch(e,a,o,r),i=!0):(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let s;return n===null?s=this._itTail:(s=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,s,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,r),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,s,r)):n=this._addAfter(new Qg(e,i),s,r)),n}_verifyReinsertion(n,e,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?n=this._reinsertAfter(s,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,s=n._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){let r=e===null?this._itHead:e._next;return n._next=r,n._prev=e,r===null?this._itTail=n:r._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new qd),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,i=n._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new qd),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Qg=class{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Yg=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let e=n._prevDup,i=n._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},qd=class{constructor(){this.map=new Map}put(n){let e=n.trackById,i=this.map.get(e);i||(i=new Yg,this.map.set(e,i)),i.add(n)}get(n,e){let i=n,r=this.map.get(i);return r?r.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function $w(t,n,e){let i=t.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}var Kg=class{constructor(){}supports(n){return n instanceof Map||Y_(n)}create(){return new Zg}},Zg=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||Y_(n)))throw new re(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{let s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let r=this._records.get(n);this._maybeAddToChanges(r,e);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new Xg(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}},Xg=class{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Hw(){return new Ah([new Wg])}var Ah=(()=>{class t{static{this.\u0275prov=G({token:t,providedIn:"root",factory:Hw})}constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||Hw()),deps:[[t,new i_,new Yd]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new re(901,!1)}}return t})();function zw(){return new uv([new Kg])}var uv=(()=>{class t{static{this.\u0275prov=G({token:t,providedIn:"root",factory:zw})}constructor(e){this.factories=e}static create(e,i){if(i){let r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||zw()),deps:[[t,new i_,new Yd]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i)return i;throw new re(901,!1)}}return t})();var eT=(()=>{class t{constructor(e){}static{this.\u0275fac=function(i){return new(i||t)(P(Dr))}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({})}}return t})();function tT(t){try{let{rootComponent:n,appProviders:e,platformProviders:i}=t,r=RB(i),s=[Zx({}),{provide:Yo,useExisting:xB},...e||[]],o=new Vd({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return IB({r3Injector:o.injector,platformInjector:r,rootComponent:n})}catch(n){return Promise.reject(n)}}function qn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Er(t,n){Mn("NgSignals");let e=Zp(t);return n?.equal&&(e[Zn].equal=n.equal),e}function An(t){let n=qe(null);try{return t()}finally{qe(n)}}var NB=new le("",{providedIn:"root",factory:()=>he(LB)}),LB=(()=>{class t{static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new Jg})}}return t})(),Jg=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=he(vr),this.taskId=null}scheduleEffect(n){if(this.enqueue(n),this.taskId===null){let e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(n){let e=n.creationZone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(n)||(this.queuedEffectCount++,i.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}},e_=class{constructor(n,e,i,r,s,o){this.scheduler=n,this.effectFn=e,this.creationZone=i,this.injector=s,this.watcher=iC(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(e){this.injector.get(Hi,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function dv(t,n){Mn("NgSignals"),!n?.injector&&u_(dv);let e=n?.injector??he(Wt),i=n?.manualCleanup!==!0?e.get(ah):null,r=new e_(e.get(NB),t,typeof Zone>"u"?null:Zone.current,i,e,n?.allowSignalWrites??!1),s=e.get(nt,null,{optional:!0});return!s||!(s._lView[Te]&8)?r.watcher.notify():(s._lView[hd]??=[]).push(r.watcher.notify),r}var lT=null;function Ji(){return lT}function cT(t){lT??=t}var Rh=class{};var Je=new le(""),uT=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=G({token:t,factory:()=>he(jB),providedIn:"platform"})}}return t})();var jB=(()=>{class t extends uT{constructor(){super(),this._doc=he(Je),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ji().getBaseHref(this._doc)}onPopState(e){let i=Ji().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=Ji().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=G({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function dT(t,n){if(t.length==0)return n;if(n.length==0)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?t+n.substring(1):e==1?t+n:t+"/"+n}function nT(t){let n=t.match(/#|\?|$/),e=n&&n.index||t.length,i=e-(t[e-1]==="/"?1:0);return t.slice(0,i)+t.slice(e)}function Ks(t){return t&&t[0]!=="?"?"?"+t:t}var bv=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=G({token:t,factory:()=>he(UB),providedIn:"root"})}}return t})(),BB=new le(""),UB=(()=>{class t extends bv{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??he(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return dT(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+Ks(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+Ks(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+Ks(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(P(uT),P(BB,8))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Cv=(()=>{class t{constructor(e){this._subject=new fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=zB(nT(iT(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ks(i))}normalize(e){return t.stripTrailingSlash(HB(this._basePath,iT(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ks(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ks(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=Ks}static{this.joinWithSlash=dT}static{this.stripTrailingSlash=nT}static{this.\u0275fac=function(i){return new(i||t)(P(bv))}}static{this.\u0275prov=G({token:t,factory:()=>$B(),providedIn:"root"})}}return t})();function $B(){return new Cv(P(bv))}function HB(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function iT(t){return t.replace(/\/index.html$/,"")}function zB(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var hT=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(hT||{});var Sr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function rc(t,n){let e=Eh(t),i=e[Ys.NumberSymbols][n];if(typeof i>"u"){if(n===Sr.CurrencyDecimal)return e[Ys.NumberSymbols][Sr.Decimal];if(n===Sr.CurrencyGroup)return e[Ys.NumberSymbols][Sr.Group]}return i}function qB(t,n){return Eh(t)[Ys.NumberFormats][n]}var WB=/^(\d+)?\.((\d+)(-(\d+))?)?$/,rT=22,Oh=".",sc="0",GB=";",QB=",",hv="#";function YB(t,n,e,i,r,s,o=!1){let a="",l=!1;if(!isFinite(t))a=rc(e,Sr.Infinity);else{let c=JB(t);o&&(c=XB(c));let u=n.minInt,d=n.minFrac,h=n.maxFrac;if(s){let w=s.match(WB);if(w===null)throw new Error(`${s} is not a valid digit info`);let S=w[1],k=w[3],L=w[5];S!=null&&(u=fv(S)),k!=null&&(d=fv(k)),L!=null?h=fv(L):k!=null&&d>h&&(h=d)}e3(c,d,h);let f=c.digits,p=c.integerLen,m=c.exponent,_=[];for(l=f.every(w=>!w);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?_=f.splice(p,f.length):(_=f,f=[0]);let D=[];for(f.length>=n.lgSize&&D.unshift(f.splice(-n.lgSize,f.length).join(""));f.length>n.gSize;)D.unshift(f.splice(-n.gSize,f.length).join(""));f.length&&D.unshift(f.join("")),a=D.join(rc(e,i)),_.length&&(a+=rc(e,r)+_.join("")),m&&(a+=rc(e,Sr.Exponential)+"+"+m)}return t<0&&!l?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function KB(t,n,e){let i=qB(n,hT.Decimal),r=ZB(i,rc(n,Sr.MinusSign));return YB(t,r,n,Sr.Group,Sr.Decimal,e)}function ZB(t,n="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(GB),r=i[0],s=i[1],o=r.indexOf(Oh)!==-1?r.split(Oh):[r.substring(0,r.lastIndexOf(sc)+1),r.substring(r.lastIndexOf(sc)+1)],a=o[0],l=o[1]||"";e.posPre=a.substring(0,a.indexOf(hv));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===sc?e.minFrac=e.maxFrac=u+1:d===hv?e.maxFrac=u+1:e.posSuf+=d}let c=a.split(QB);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){let u=r.length-e.posPre.length-e.posSuf.length,d=s.indexOf(hv);e.negPre=s.substring(0,d).replace(/'/g,""),e.negSuf=s.slice(d+u).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function XB(t){if(t.digits[0]===0)return t;let n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(n===0?t.digits.push(0,0):n===1&&t.digits.push(0),t.integerLen+=2),t}function JB(t){let n=Math.abs(t)+"",e=0,i,r,s,o,a;for((r=n.indexOf(Oh))>-1&&(n=n.replace(Oh,"")),(s=n.search(/e/i))>0?(r<0&&(r=s),r+=+n.slice(s+1),n=n.substring(0,s)):r<0&&(r=n.length),s=0;n.charAt(s)===sc;s++);if(s===(a=n.length))i=[0],r=1;else{for(a--;n.charAt(a)===sc;)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(n.charAt(s))}return r>rT&&(i=i.splice(0,rT-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}function e3(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let i=t.digits,r=i.length-t.integerLen,s=Math.min(Math.max(n,r),e),o=s+t.integerLen,a=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(let d=o;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let d=1;d<o;d++)i[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=s!==0,c=n+t.integerLen,u=i.reduceRight(function(d,h,f,p){return h=h+d,p[f]=h<10?h:h-10,l&&(p[f]===0&&f>=c?p.pop():l=!1),h>=10?1:0},0);u&&(i.unshift(u),t.integerLen++)}function fv(t){let n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}function Fh(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let i=e.indexOf("="),[r,s]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(s)}return null}var pv=/\s+/,sT=[],Ph=(()=>{class t{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=sT,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split(pv):sT}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(pv):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(pv).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||t)(M(Le),M(Gs))}}static{this.\u0275dir=Me({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var mv=class{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Cn=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new mv(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(s===null?void 0:s);else if(s!==null){let a=i.get(s);i.move(a,o),oT(a,r)}});for(let r=0,s=i.length;r<s;r++){let a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let s=i.get(r.currentIndex);oT(s,r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(M(It),M(ln),M(Ah))}}static{this.\u0275dir=Me({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function oT(t,n){t.context.$implicit=n.item}var Et=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new gv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){aT("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){aT("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(M(It),M(ln))}}static{this.\u0275dir=Me({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),gv=class{constructor(){this.$implicit=null,this.ngIf=null}};function aT(t,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${hn(n)}'.`)}var kh=class{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}},oc=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let i=e===this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let i of this._defaultViews)i.enforceState(e)}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Me({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return t})(),wv=(()=>{class t{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new kh(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(i){return new(i||t)(M(It),M(ln),M(oc,9))}}static{this.\u0275dir=Me({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return t})(),fT=(()=>{class t{constructor(e,i,r){r._addDefault(new kh(e,i))}static{this.\u0275fac=function(i){return new(i||t)(M(It),M(ln),M(oc,9))}}static{this.\u0275dir=Me({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return t})();var ac=(()=>{class t{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){let[r,s]=e.split("."),o=r.indexOf("-")===-1?void 0:qi.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||t)(M(Le),M(uv),M(Gs))}}static{this.\u0275dir=Me({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return t})(),bt=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||t)(M(It))}}static{this.\u0275dir=Me({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[tt]})}}return t})();function pT(t,n){return new re(2100,!1)}var _v=class{createSubscription(n,e){return An(()=>n.subscribe({next:e,error:i=>{throw i}}))}dispose(n){An(()=>n.unsubscribe())}},vv=class{createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}},t3=new vv,n3=new _v,Ft=(()=>{class t{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Ea(e))return t3;if(cv(e))return n3;throw pT(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||t)(M(nt,16))}}static{this.\u0275pipe=ea({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var mT=(()=>{class t{constructor(e){this._locale=e}transform(e,i,r){if(!i3(e))return null;r||=this._locale;try{let s=r3(e);return KB(s,r,i)}catch(s){throw pT(t,s.message)}}static{this.\u0275fac=function(i){return new(i||t)(M(ic,16))}}static{this.\u0275pipe=ea({name:"number",type:t,pure:!0,standalone:!0})}}return t})();function i3(t){return!(t==null||t===""||t!==t)}function r3(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Mt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({})}}return t})(),Dv="browser",s3="server";function gT(t){return t===Dv}function Nh(t){return t===s3}var Sa=class{};var uc=class{},Vh=class{},xr=class t{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,e);let r=(n.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let s=n.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}setHeaderEntries(n,e){let i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var Sv=class{encodeKey(n){return _T(n)}encodeValue(n){return _T(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function o3(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,s)),n.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}var a3=/%(\d[a-f0-9])/gi,l3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _T(t){return encodeURIComponent(t).replace(a3,(n,e)=>l3[e]??n)}function Lh(t){return`${t}`}var Zr=class t{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Sv,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=o3(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let i=n.fromObject[e],r=Array.isArray(i)?i.map(Lh):[Lh(i)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(Lh(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(Lh(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var xv=class{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function c3(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function vT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function yT(t){return typeof Blob<"u"&&t instanceof Blob}function bT(t){return typeof FormData<"u"&&t instanceof FormData}function u3(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var cc=class t{constructor(n,e,i,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let s;if(c3(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new xr,this.context??=new xv,!this.params)this.params=new Zr,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||vT(this.body)||yT(this.body)||bT(this.body)||u3(this.body)?this.body:this.body instanceof Zr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||bT(this.body)?null:yT(this.body)?this.body.type||null:vT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Zr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let e=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,s=n.transferCache??this.transferCache,o=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,c=n.headers||this.headers,u=n.params||this.params,d=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((h,f)=>h.set(f,n.setHeaders[f]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((h,f)=>h.set(f,n.setParams[f]),u)),new t(e,i,o,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},Xr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Xr||{}),dc=class{constructor(n,e=200,i="OK"){this.headers=n.headers||new xr,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},jh=class t extends dc{constructor(n={}){super(n),this.type=Xr.ResponseHeader}clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},hc=class t extends dc{constructor(n={}){super(n),this.type=Xr.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Kr=class extends dc{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},ST=200,d3=204;function Ev(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Mv=(()=>{class t{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof cc)s=e;else{let l;r.headers instanceof xr?l=r.headers:l=new xr(r.headers);let c;r.params&&(r.params instanceof Zr?c=r.params:c=new Zr({fromObject:r.params})),s=new cc(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=st(s).pipe(ul(l=>this.handler.handle(l)));if(e instanceof cc||r.observe==="events")return o;let a=o.pipe(ut(l=>l instanceof hc));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(xe(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(xe(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(xe(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(xe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new Zr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Ev(r,i))}post(e,i,r={}){return this.request("POST",e,Ev(r,i))}put(e,i,r={}){return this.request("PUT",e,Ev(r,i))}static{this.\u0275fac=function(i){return new(i||t)(P(uc))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),h3=/^\)\]\}',?\n/,f3="X-Request-URL";function CT(t){if(t.url)return t.url;let n=f3.toLocaleLowerCase();return t.headers.get(n)}var p3=(()=>{class t{constructor(){this.fetchImpl=he(Tv,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=he(pe)}handle(e){return new je(i=>{let r=new AbortController;return this.doRequest(e,r.signal,i).then(Iv,s=>i.error(new Kr({error:s}))),()=>r.abort()})}doRequest(e,i,r){return ne(this,null,function*(){let s=this.createRequestInit(e),o;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,V({signal:i},s)));m3(f),r.next({type:Xr.Sent}),o=yield f}catch(f){r.error(new Kr({error:f,status:f.status??0,statusText:f.statusText,url:e.urlWithParams,headers:f.headers}));return}let a=new xr(o.headers),l=o.statusText,c=CT(o)??e.urlWithParams,u=o.status,d=null;if(e.reportProgress&&r.next(new jh({headers:a,status:u,statusText:l,url:c})),o.body){let f=o.headers.get("content-length"),p=[],m=o.body.getReader(),_=0,D,w,S=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>ne(this,null,function*(){for(;;){let{done:L,value:W}=yield m.read();if(L)break;if(p.push(W),_+=W.length,e.reportProgress){w=e.responseType==="text"?(w??"")+(D??=new TextDecoder).decode(W,{stream:!0}):void 0;let oe=()=>r.next({type:Xr.DownloadProgress,total:f?+f:void 0,loaded:_,partialText:w});S?S.run(oe):oe()}}}));let k=this.concatChunks(p,_);try{let L=o.headers.get("Content-Type")??"";d=this.parseBody(e,k,L)}catch(L){r.error(new Kr({error:L,headers:new xr(o.headers),status:o.status,statusText:o.statusText,url:CT(o)??e.urlWithParams}));return}}u===0&&(u=d?ST:0),u>=200&&u<300?(r.next(new hc({body:d,headers:a,status:u,statusText:l,url:c})),r.complete()):r.error(new Kr({error:d,headers:a,status:u,statusText:l,url:c}))})}parseBody(e,i,r){switch(e.responseType){case"json":let s=new TextDecoder().decode(i).replace(h3,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((s,o)=>i[s]=o.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let s=e.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:r}}concatChunks(e,i){let r=new Uint8Array(i),s=0;for(let o of e)r.set(o,s),s+=o.length;return r}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),Tv=class{};function Iv(){}function m3(t){t.then(Iv,Iv)}function xT(t,n){return n(t)}function g3(t,n){return(e,i)=>n.intercept(e,{handle:r=>t(r,i)})}function _3(t,n,e){return(i,r)=>hD(e,()=>n(i,s=>t(s,r)))}var v3=new le(""),Av=new le(""),y3=new le(""),TT=new le("",{providedIn:"root",factory:()=>!0});function b3(){let t=null;return(n,e)=>{t===null&&(t=(he(v3,{optional:!0})??[]).reduceRight(g3,xT));let i=he(vr);if(he(TT)){let s=i.add();return t(n,e).pipe(Ku(()=>i.remove(s)))}else return t(n,e)}}var wT=(()=>{class t extends uc{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=he(vr),this.contributeToStability=he(TT)}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Av),...this.injector.get(y3,[])]));this.chain=i.reduceRight((r,s)=>_3(r,s,this.injector),xT)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Ku(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||t)(P(Vh),P(Vn))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})();var C3=/^\)\]\}',?\n/;function w3(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var DT=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new re(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Jt(i.\u0275loadImpl()):st(null)).pipe(Lt(()=>new je(s=>{let o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((m,_)=>o.setRequestHeader(m,_.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let m=e.detectContentTypeHeader();m!==null&&o.setRequestHeader("Content-Type",m)}if(e.responseType){let m=e.responseType.toLowerCase();o.responseType=m!=="json"?m:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=o.statusText||"OK",_=new xr(o.getAllResponseHeaders()),D=w3(o)||e.url;return l=new jh({headers:_,status:o.status,statusText:m,url:D}),l},u=()=>{let{headers:m,status:_,statusText:D,url:w}=c(),S=null;_!==d3&&(S=typeof o.response>"u"?o.responseText:o.response),_===0&&(_=S?ST:0);let k=_>=200&&_<300;if(e.responseType==="json"&&typeof S=="string"){let L=S;S=S.replace(C3,"");try{S=S!==""?JSON.parse(S):null}catch(W){S=L,k&&(k=!1,S={error:W,text:S})}}k?(s.next(new hc({body:S,headers:m,status:_,statusText:D,url:w||void 0})),s.complete()):s.error(new Kr({error:S,headers:m,status:_,statusText:D,url:w||void 0}))},d=m=>{let{url:_}=c(),D=new Kr({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:_||void 0});s.error(D)},h=!1,f=m=>{h||(s.next(c()),h=!0);let _={type:Xr.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(_.total=m.total),e.responseType==="text"&&o.responseText&&(_.partialText=o.responseText),s.next(_)},p=m=>{let _={type:Xr.UploadProgress,loaded:m.loaded};m.lengthComputable&&(_.total=m.total),s.next(_)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",f),a!==null&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:Xr.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",f),a!==null&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||t)(P(Sa))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),IT=new le(""),D3="XSRF-TOKEN",E3=new le("",{providedIn:"root",factory:()=>D3}),S3="X-XSRF-TOKEN",x3=new le("",{providedIn:"root",factory:()=>S3}),Bh=class{},T3=(()=>{class t{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fh(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||t)(P(Je),P(wi),P(E3))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})();function I3(t,n){let e=t.url.toLowerCase();if(!he(IT)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let i=he(Bh).getToken(),r=he(x3);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),n(t)}var MT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(MT||{});function M3(t,n){return{\u0275kind:t,\u0275providers:n}}function A3(...t){let n=[Mv,DT,wT,{provide:uc,useExisting:wT},{provide:Vh,useFactory:()=>he(p3,{optional:!0})??he(DT)},{provide:Av,useValue:I3,multi:!0},{provide:IT,useValue:!0},{provide:Bh,useClass:T3}];for(let e of t)n.push(...e.\u0275providers);return Kd(n)}var ET=new le("");function R3(){return M3(MT.LegacyInterceptors,[{provide:ET,useFactory:b3},{provide:Av,useExisting:ET,multi:!0}])}var Uh=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({providers:[A3(R3())]})}}return t})();var kv=class extends Rh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Fv=class t extends kv{static makeCurrent(){cT(new t)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=F3();return e==null?null:P3(e)}resetBaseElement(){fc=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Fh(document.cookie,n)}},fc=null;function F3(){return fc=fc||document.querySelector("base"),fc?fc.getAttribute("href"):null}function P3(t){return new URL(t,document.baseURI).pathname}var Pv=class{addToWindow(n){en.getAngularTestability=(i,r=!0)=>{let s=n.findTestabilityInTree(i,r);if(s==null)throw new re(5103,!1);return s},en.getAllAngularTestabilities=()=>n.getAllTestabilities(),en.getAllAngularRootElements=()=>n.getAllRootElements();let e=i=>{let r=en.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};en.frameworkStabilizers||(en.frameworkStabilizers=[]),en.frameworkStabilizers.push(e)}findTestabilityInTree(n,e,i){if(e==null)return null;let r=n.getTestability(e);return r??(i?Ji().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},N3=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),Nv=new le(""),OT=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new re(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||t)(P(Nv),P(pe))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),$h=class{constructor(n){this._doc=n}},Rv="ng-app-id",kT=(()=>{class t{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Nh(s),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Rv}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){let r=this.styleRef;if(r.has(e)){let s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(Rv),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Rv,this.appId),e.appendChild(o),o}}addStyleToHost(e,i){let r=this.getStyleElement(e,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(P(Je),P(Ul),P($l,8),P(wi))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),Ov={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vv=/%COMP%/g,FT="%COMP%",L3=`_nghost-${FT}`,V3=`_ngcontent-${FT}`,j3=!0,B3=new le("",{providedIn:"root",factory:()=>j3});function U3(t){return V3.replace(Vv,t)}function $3(t){return L3.replace(Vv,t)}function PT(t,n){return n.map(e=>e.replace(Vv,t))}var Hh=(()=>{class t{constructor(e,i,r,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Nh(a),this.defaultRenderer=new pc(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ui.ShadowDom&&(i=Se(V({},i),{encapsulation:Ui.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof zh?r.applyToHost(e):r instanceof mc&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Ui.Emulated:s=new zh(l,c,i,this.appId,u,o,a,d);break;case Ui.ShadowDom:return new Lv(l,c,e,i,o,a,this.nonce,d);default:s=new mc(l,c,i,u,o,a,d);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(P(OT),P(kT),P(Ul),P(B3),P(Je),P(wi),P(pe),P($l))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),pc=class{constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Ov[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(AT(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(AT(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){e.remove()}selectRootElement(n,e){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new re(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;let s=Ov[r];s?n.setAttributeNS(s,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){let r=Ov[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(qi.DashCase|qi.Important)?n.style.setProperty(e,i,r&qi.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&qi.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n!=null&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i){if(typeof n=="string"&&(n=Ji().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function AT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Lv=class extends pc{constructor(n,e,i,r,s,o,a,l){super(n,s,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=PT(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},mc=class extends pc{constructor(n,e,i,r,s,o,a,l){super(n,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?PT(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},zh=class extends mc{constructor(n,e,i,r,s,o,a,l){let c=r+"-"+i.id;super(n,e,i,s,o,a,l,c),this.contentAttr=U3(c),this.hostAttr=$3(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}},H3=(()=>{class t extends $h{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(P(Je))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),RT=["alt","control","meta","shift"],z3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},q3={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},W3=(()=>{class t extends $h{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,i,r){let s=t.parseEventName(i),o=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ji().onAndCancel(e,s.domEventName,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=t._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),RT.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=z3[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),RT.forEach(o=>{if(o!==r){let a=q3[o];a(e)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{t.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||t)(P(Je))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})();function NT(t,n){return tT(V({rootComponent:t},G3(n)))}function G3(t){return{appProviders:[...LT,...t?.providers??[]],platformProviders:Z3}}function Q3(){Fv.makeCurrent()}function Y3(){return new Hi}function K3(){return iE(document),document}var Z3=[{provide:wi,useValue:Dv},{provide:x_,useValue:Q3,multi:!0},{provide:Je,useFactory:K3,deps:[]}];var X3=new le(""),J3=[{provide:nc,useClass:Pv,deps:[]},{provide:av,useClass:Ih,deps:[pe,Mh,nc]},{provide:Ih,useClass:Ih,deps:[pe,Mh,nc]}],LT=[{provide:Zd,useValue:"root"},{provide:Hi,useFactory:Y3,deps:[]},{provide:Nv,useClass:H3,multi:!0,deps:[Je,pe,wi]},{provide:Nv,useClass:W3,multi:!0,deps:[Je]},Hh,kT,OT,{provide:qr,useExisting:Hh},{provide:Sa,useClass:N3,deps:[]},[]],jv=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Ul,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||t)(P(X3,12))}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({providers:[...LT,...J3],imports:[Mt,eT]})}}return t})();var xa=class{},VT=(()=>{class t extends xa{getTranslation(e){return st({})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=_r(t)))(r||t)}})();static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),gc=class{},jT=(()=>{class t{handle(e){return e.key}static \u0275fac=function(i){return new(i||t)};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function _c(t,n){if(t===n)return!0;if(t===null||n===null)return!1;if(t!==t&&n!==n)return!0;let e=typeof t,i=typeof n,r,s,o;if(e==i&&e=="object")if(Array.isArray(t)){if(!Array.isArray(n))return!1;if((r=t.length)==n.length){for(s=0;s<r;s++)if(!_c(t[s],n[s]))return!1;return!0}}else{if(Array.isArray(n))return!1;o=Object.create(null);for(s in t){if(!_c(t[s],n[s]))return!1;o[s]=!0}for(s in n)if(!(s in o)&&typeof n[s]<"u")return!1;return!0}return!1}function Wn(t){return typeof t<"u"&&t!==null}function Bv(t){return t&&typeof t=="object"&&!Array.isArray(t)}function $T(t,n){let e=Object.assign({},t);return Bv(t)&&Bv(n)&&Object.keys(n).forEach(i=>{Bv(n[i])?i in t?e[i]=$T(t[i],n[i]):Object.assign(e,{[i]:n[i]}):Object.assign(e,{[i]:n[i]})}),e}var Ta=class{},BT=(()=>{class t extends Ta{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,i){let r;return typeof e=="string"?r=this.interpolateString(e,i):typeof e=="function"?r=this.interpolateFunction(e,i):r=e,r}getValue(e,i){let r=typeof i=="string"?i.split("."):[i];i="";do i+=r.shift(),Wn(e)&&Wn(e[i])&&(typeof e[i]=="object"||!r.length)?(e=e[i],i=""):r.length?i+=".":e=void 0;while(r.length);return e}interpolateFunction(e,i){return e(i)}interpolateString(e,i){return i?e.replace(this.templateMatcher,(r,s)=>{let o=this.getValue(i,s);return Wn(o)?o:r}):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=_r(t)))(r||t)}})();static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),Ia=class{},UT=(()=>{class t extends Ia{compile(e,i){return e}compileTranslations(e,i){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=_r(t)))(r||t)}})();static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),qh=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new fe;onLangChange=new fe;onDefaultLangChange=new fe},Uv=new le("USE_STORE"),$v=new le("USE_DEFAULT_LANG"),Hv=new le("DEFAULT_LANGUAGE"),zv=new le("USE_EXTEND"),Zs=(()=>{class t{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new fe;_onLangChange=new fe;_onDefaultLangChange=new fe;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}constructor(e,i,r,s,o,a=!0,l=!1,c=!1,u){this.store=e,this.currentLoader=i,this.compiler=r,this.parser=s,this.missingTranslationHandler=o,this.useDefaultLang=a,this.isolate=l,this.extend=c,u&&this.setDefaultLang(u)}setDefaultLang(e){if(e===this.defaultLang)return;let i=this.retrieveTranslations(e);typeof i<"u"?(this.defaultLang==null&&(this.defaultLang=e),i.pipe(Xe(1)).subscribe(r=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return st(this.translations[e]);let i=this.retrieveTranslations(e);return typeof i<"u"?(this.currentLang||(this.currentLang=e),i.pipe(Xe(1)).subscribe(r=>{this.changeLang(e)}),i):(this.changeLang(e),st(this.translations[e]))}retrieveTranslations(e){let i;return(typeof this.translations[e]>"u"||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),i=this._translationRequests[e]),i}getTranslation(e){this.pending=!0;let i=this.currentLoader.getTranslation(e).pipe(gt(1),Xe(1));return this.loadingTranslations=i.pipe(xe(r=>this.compiler.compileTranslations(r,e)),gt(1),Xe(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[e]=this.extend&&this.translations[e]?V(V({},r),this.translations[e]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(e,i,r=!1){i=this.compiler.compileTranslations(i,e),(r||this.extend)&&this.translations[e]?this.translations[e]=$T(this.translations[e],i):this.translations[e]=i,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(i=>{this.langs.indexOf(i)===-1&&this.langs.push(i)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,i,r){let s;if(i instanceof Array){let o={},a=!1;for(let l of i)o[l]=this.getParsedResult(e,l,r),Xn(o[l])&&(a=!0);if(a){let l=i.map(c=>Xn(o[c])?o[c]:st(o[c]));return cl(l).pipe(xe(c=>{let u={};return c.forEach((d,h)=>{u[i[h]]=d}),u}))}return o}if(e&&(s=this.parser.interpolate(this.parser.getValue(e,i),r)),typeof s>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],i),r)),typeof s>"u"){let o={key:i,translateService:this};typeof r<"u"&&(o.interpolateParams=r),s=this.missingTranslationHandler.handle(o)}return typeof s<"u"?s:i}get(e,i){if(!Wn(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(ul(r=>(r=this.getParsedResult(r,e,i),Xn(r)?r:st(r))));{let r=this.getParsedResult(this.translations[this.currentLang],e,i);return Xn(r)?r:st(r)}}getStreamOnTranslationChange(e,i){if(!Wn(e)||!e.length)throw new Error('Parameter "key" required');return gi(Oo(()=>this.get(e,i)),this.onTranslationChange.pipe(Lt(r=>{let s=this.getParsedResult(r.translations,e,i);return typeof s.subscribe=="function"?s:st(s)})))}stream(e,i){if(!Wn(e)||!e.length)throw new Error('Parameter "key" required');return gi(Oo(()=>this.get(e,i)),this.onLangChange.pipe(Lt(r=>{let s=this.getParsedResult(r.translations,e,i);return Xn(s)?s:st(s)})))}instant(e,i){if(!Wn(e)||!e.length)throw new Error('Parameter "key" required');let r=this.getParsedResult(this.translations[this.currentLang],e,i);if(Xn(r)){if(e instanceof Array){let s={};return e.forEach((o,a)=>{s[e[a]]=e[a]}),s}return e}else return r}set(e,i,r=this.currentLang){this.translations[r][e]=this.compiler.compile(i,r),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;if(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof e>"u"))return e.indexOf("-")!==-1&&(e=e.split("-")[0]),e.indexOf("_")!==-1&&(e=e.split("_")[0]),e}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}static \u0275fac=function(i){return new(i||t)(P(qh),P(xa),P(Ia),P(Ta),P(gc),P($v),P(Uv),P(zv),P(Hv))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),HT=(()=>{class t{translateService;element;_ref;key;lastParams;currentParams;onLangChangeSub;onDefaultLangChangeSub;onTranslationChangeSub;set translate(e){e&&(this.key=e,this.checkNodes())}set translateParams(e){_c(this.currentParams,e)||(this.currentParams=e,this.checkNodes(!0))}constructor(e,i,r){this.translateService=e,this.element=i,this._ref=r,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(s=>{s.lang===this.translateService.currentLang&&this.checkNodes(!0,s.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(s=>{this.checkNodes(!0,s.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(s=>{this.checkNodes(!0)}))}ngAfterViewChecked(){this.checkNodes()}checkNodes(e=!1,i){let r=this.element.nativeElement.childNodes;r.length||(this.setContent(this.element.nativeElement,this.key),r=this.element.nativeElement.childNodes);for(let s=0;s<r.length;++s){let o=r[s];if(o.nodeType===3){let a;if(e&&(o.lastKey=null),Wn(o.lookupKey))a=o.lookupKey;else if(this.key)a=this.key;else{let l=this.getContent(o),c=l.trim();c.length&&(o.lookupKey=c,l!==o.currentValue?(a=c,o.originalContent=l||o.originalContent):o.originalContent?a=o.originalContent.trim():l!==o.currentValue&&(a=c,o.originalContent=l||o.originalContent))}this.updateValue(a,o,i)}}}updateValue(e,i,r){if(e){if(i.lastKey===e&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let s=o=>{o!==e&&(i.lastKey=e),i.originalContent||(i.originalContent=this.getContent(i)),i.currentValue=Wn(o)?o:i.originalContent||e,this.setContent(i,this.key?i.currentValue:i.originalContent.replace(e,i.currentValue)),this._ref.markForCheck()};if(Wn(r)){let o=this.translateService.getParsedResult(r,e,this.currentParams);Xn(o)?o.subscribe({next:s}):s(o)}else this.translateService.get(e,this.currentParams).subscribe(s)}}getContent(e){return Wn(e.textContent)?e.textContent:e.data}setContent(e,i){Wn(e.textContent)?e.textContent=i:e.data=i}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}static \u0275fac=function(i){return new(i||t)(M(Zs),M(Le),M(nt))};static \u0275dir=Me({type:t,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}})}return t})(),wn=(()=>{class t{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,i){this.translate=e,this._ref=i}updateValue(e,i,r){let s=o=>{this.value=o!==void 0?o:e,this.lastKey=e,this._ref.markForCheck()};if(r){let o=this.translate.getParsedResult(r,e,i);Xn(o.subscribe)?o.subscribe(s):s(o)}this.translate.get(e,i).subscribe(s)}transform(e,...i){if(!e||!e.length)return e;if(_c(e,this.lastKey)&&_c(i,this.lastParams))return this.value;let r;if(Wn(i[0])&&i.length)if(typeof i[0]=="string"&&i[0].length){let s=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{r=JSON.parse(s)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else typeof i[0]=="object"&&!Array.isArray(i[0])&&(r=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,r,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||t)(M(Zs,16),M(nt,16))};static \u0275pipe=ea({name:"translate",type:t,pure:!1});static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),Tr=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:xa,useClass:VT},e.compiler||{provide:Ia,useClass:UT},e.parser||{provide:Ta,useClass:BT},e.missingTranslationHandler||{provide:gc,useClass:jT},qh,{provide:Uv,useValue:e.isolate},{provide:$v,useValue:e.useDefaultLang},{provide:zv,useValue:e.extend},{provide:Hv,useValue:e.defaultLanguage},Zs]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:xa,useClass:VT},e.compiler||{provide:Ia,useClass:UT},e.parser||{provide:Ta,useClass:BT},e.missingTranslationHandler||{provide:gc,useClass:jT},{provide:Uv,useValue:e.isolate},{provide:$v,useValue:e.useDefaultLang},{provide:zv,useValue:e.extend},{provide:Hv,useValue:e.defaultLanguage},Zs]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ee({type:t});static \u0275inj=De({})}return t})();var YT=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||t)(M(Gs),M(Le))}}static{this.\u0275dir=Me({type:t})}}return t})(),KT=(()=>{class t extends YT{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=_r(t)))(r||t)}})()}static{this.\u0275dir=Me({type:t,features:[pn]})}}return t})(),Oa=new le("");var tU={provide:Oa,useExisting:oi(()=>ns),multi:!0};function nU(){let t=Ji()?Ji().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var iU=new le(""),ns=(()=>{class t extends YT{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!nU())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||t)(M(Gs),M(Le),M(iU,8))}}static{this.\u0275dir=Me({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&se("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[kt([tU]),pn]})}}return t})();function Jr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function ZT(t){return t!=null&&typeof t.length=="number"}var rf=new le(""),sf=new le(""),rU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Gh=class{static min(n){return sU(n)}static max(n){return oU(n)}static required(n){return aU(n)}static requiredTrue(n){return lU(n)}static email(n){return cU(n)}static minLength(n){return uU(n)}static maxLength(n){return dU(n)}static pattern(n){return hU(n)}static nullValidator(n){return XT(n)}static compose(n){return rI(n)}static composeAsync(n){return sI(n)}};function sU(t){return n=>{if(Jr(n.value)||Jr(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function oU(t){return n=>{if(Jr(n.value)||Jr(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function aU(t){return Jr(t.value)?{required:!0}:null}function lU(t){return t.value===!0?null:{required:!0}}function cU(t){return Jr(t.value)||rU.test(t.value)?null:{email:!0}}function uU(t){return n=>Jr(n.value)||!ZT(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}function dU(t){return n=>ZT(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function hU(t){if(!t)return XT;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(Jr(i.value))return null;let r=i.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function XT(t){return null}function JT(t){return t!=null}function eI(t){return Ea(t)?Jt(t):t}function tI(t){let n={};return t.forEach(e=>{n=e!=null?V(V({},n),e):n}),Object.keys(n).length===0?null:n}function nI(t,n){return n.map(e=>e(t))}function fU(t){return!t.validate}function iI(t){return t.map(n=>fU(n)?n:e=>n.validate(e))}function rI(t){if(!t)return null;let n=t.filter(JT);return n.length==0?null:function(e){return tI(nI(e,n))}}function Qv(t){return t!=null?rI(iI(t)):null}function sI(t){if(!t)return null;let n=t.filter(JT);return n.length==0?null:function(e){let i=nI(e,n).map(eI);return cl(i).pipe(xe(tI))}}function Yv(t){return t!=null?sI(iI(t)):null}function zT(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function oI(t){return t._rawValidators}function aI(t){return t._rawAsyncValidators}function qv(t){return t?Array.isArray(t)?t:[t]:[]}function Qh(t,n){return Array.isArray(t)?t.includes(n):t===n}function qT(t,n){let e=qv(n);return qv(t).forEach(r=>{Qh(e,r)||e.push(r)}),e}function WT(t,n){return qv(n).filter(e=>!Qh(t,e))}var Yh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Qv(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Yv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},es=class extends Yh{get formDirective(){return null}get path(){return null}},Ir=class extends Yh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Kh=class{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},pU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},sse=Se(V({},pU),{"[class.ng-submitted]":"isSubmitted"}),ka=(()=>{class t extends Kh{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(M(Ir,2))}}static{this.\u0275dir=Me({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Fe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[pn]})}}return t})(),lI=(()=>{class t extends Kh{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(M(es,10))}}static{this.\u0275dir=Me({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Fe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[pn]})}}return t})();var vc="VALID",Wh="INVALID",Ma="PENDING",yc="DISABLED",ts=class{},Zh=class extends ts{constructor(n,e){super(),this.value=n,this.source=e}},Cc=class extends ts{constructor(n,e){super(),this.pristine=n,this.source=e}},wc=class extends ts{constructor(n,e){super(),this.touched=n,this.source=e}},Aa=class extends ts{constructor(n,e){super(),this.status=n,this.source=e}},Wv=class extends ts{constructor(n){super(),this.source=n}},Gv=class extends ts{constructor(n){super(),this.source=n}};function cI(t){return(of(t)?t.validators:t)||null}function mU(t){return Array.isArray(t)?Qv(t):t||null}function uI(t,n){return(of(n)?n.asyncValidators:t)||null}function gU(t){return Array.isArray(t)?Yv(t):t||null}function of(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function _U(t,n,e){let i=t.controls;if(!(n?Object.keys(i):i).length)throw new re(1e3,"");if(!i[e])throw new re(1001,"")}function vU(t,n,e){t._forEachChild((i,r)=>{if(e[r]===void 0)throw new re(1002,"")})}var Xh=class{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Er(()=>this.statusReactive()),this.statusReactive=Cr(void 0),this._pristine=Er(()=>this.pristineReactive()),this.pristineReactive=Cr(!0),this._touched=Er(()=>this.touchedReactive()),this.touchedReactive=Cr(!1),this._events=new ye,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return An(this.statusReactive)}set status(n){An(()=>this.statusReactive.set(n))}get valid(){return this.status===vc}get invalid(){return this.status===Wh}get pending(){return this.status==Ma}get disabled(){return this.status===yc}get enabled(){return this.status!==yc}get pristine(){return An(this.pristineReactive)}set pristine(n){An(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return An(this.touchedReactive)}set touched(n){An(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(qT(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(qT(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(WT(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(WT(n,this._rawAsyncValidators))}hasValidator(n){return Qh(this._rawValidators,n)}hasAsyncValidator(n){return Qh(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Se(V({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new wc(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),e&&n.emitEvent!==!1&&this._events.next(new wc(!1,i))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Se(V({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new Cc(!1,i))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),e&&n.emitEvent!==!1&&this._events.next(new Cc(!0,i))}markAsPending(n={}){this.status=Ma;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Aa(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Se(V({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=yc,this.errors=null,this._forEachChild(r=>{r.disable(Se(V({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Zh(this.value,i)),this._events.next(new Aa(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Se(V({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=vc,this._forEachChild(i=>{i.enable(Se(V({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Se(V({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vc||this.status===Ma)&&this._runAsyncValidator(i,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Zh(this.value,e)),this._events.next(new Aa(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Se(V({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yc:vc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=Ma,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=eI(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new Aa(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,i)}_initObservables(){this.valueChanges=new fe,this.statusChanges=new fe}_calculateStatus(){return this._allControlsDisabled()?yc:this.errors?Wh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ma)?Ma:this._anyControlsHaveStatus(Wh)?Wh:vc}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),r&&this._events.next(new Cc(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new wc(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){of(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=mU(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=gU(this._rawAsyncValidators)}},Ra=class extends Xh{constructor(n,e,i){super(cI(e),uI(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){vU(this,!0,n),Object.keys(n).forEach(i=>{_U(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var af=new le("CallSetDisabledState",{providedIn:"root",factory:()=>Kv}),Kv="always";function yU(t,n){return[...n.path,t]}function Jh(t,n,e=Kv){Zv(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),CU(t,n),DU(t,n),wU(t,n),bU(t,n)}function ef(t,n,e=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),nf(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function tf(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function bU(t,n){if(n.valueAccessor.setDisabledState){let e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function Zv(t,n){let e=oI(t);n.validator!==null?t.setValidators(zT(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let i=aI(t);n.asyncValidator!==null?t.setAsyncValidators(zT(i,n.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();tf(n._rawValidators,r),tf(n._rawAsyncValidators,r)}function nf(t,n){let e=!1;if(t!==null){if(n.validator!==null){let r=oI(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==n.validator);s.length!==r.length&&(e=!0,t.setValidators(s))}}if(n.asyncValidator!==null){let r=aI(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==n.asyncValidator);s.length!==r.length&&(e=!0,t.setAsyncValidators(s))}}}let i=()=>{};return tf(n._rawValidators,i),tf(n._rawAsyncValidators,i),e}function CU(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&dI(t,n)})}function wU(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&dI(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function dI(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function DU(t,n){let e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function hI(t,n){t==null,Zv(t,n)}function EU(t,n){return nf(t,n)}function fI(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function SU(t){return Object.getPrototypeOf(t.constructor)===KT}function pI(t,n){t._syncPendingControls(),n.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function mI(t,n){if(!n)return null;Array.isArray(n);let e,i,r;return n.forEach(s=>{s.constructor===ns?e=s:SU(s)?i=s:r=s}),r||i||e||null}function xU(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}var TU={provide:es,useExisting:oi(()=>Xv)},bc=Promise.resolve(),Xv=(()=>{class t extends es{get submitted(){return An(this.submittedReactive)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=Er(()=>this.submittedReactive()),this.submittedReactive=Cr(!1),this._directives=new Set,this.ngSubmit=new fe,this.form=new Ra({},Qv(e),Yv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){bc.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Jh(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){bc.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){bc.then(()=>{let i=this._findContainer(e.path),r=new Ra({});hI(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){bc.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){bc.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),pI(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||t)(M(rf,10),M(sf,10),M(af,8))}}static{this.\u0275dir=Me({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&se("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[kt([TU]),pn]})}}return t})();function GT(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function QT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Xs=class extends Xh{constructor(n=null,e,i){super(cI(e),uI(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),of(e)&&(e.nonNullable||e.initialValueIsDefault)&&(QT(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){GT(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){GT(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){QT(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var IU=t=>t instanceof Xs;var gI=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Me({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),MU={provide:Oa,useExisting:oi(()=>Jv),multi:!0},Jv=(()=>{class t extends KT{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=_r(t)))(r||t)}})()}static{this.\u0275dir=Me({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&se("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[kt([MU]),pn]})}}return t})();var ey=new le(""),AU={provide:Ir,useExisting:oi(()=>Dc)},Dc=(()=>{class t extends Ir{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new fe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=mI(this,r)}ngOnChanges(e){if(this._isControlChanged(e)){let i=e.form.previousValue;i&&ef(i,this,!1),Jh(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}fI(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ef(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static{this.\u0275fac=function(i){return new(i||t)(M(rf,10),M(sf,10),M(Oa,10),M(ey,8),M(af,8))}}static{this.\u0275dir=Me({type:t,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[kt([AU]),pn,tt]})}}return t})(),RU={provide:es,useExisting:oi(()=>Ec)},Ec=(()=>{class t extends es{get submitted(){return An(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=Er(()=>this._submittedReactive()),this._submittedReactive=Cr(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new fe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return Jh(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){ef(e.control||null,e,!1),xU(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),pI(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Wv(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Gv(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(ef(i||null,e),IU(r)&&(Jh(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);hI(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&EU(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zv(this.form,this),this._oldForm&&nf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||t)(M(rf,10),M(sf,10),M(af,8))}}static{this.\u0275dir=Me({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&se("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[kt([RU]),pn,tt]})}}return t})();var OU={provide:Ir,useExisting:oi(()=>ty)},ty=(()=>{class t extends Ir{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new fe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=mI(this,s)}ngOnChanges(e){this._added||this._setUpControl(),fI(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return yU(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||t)(M(es,13),M(rf,10),M(sf,10),M(Oa,10),M(ey,8))}}static{this.\u0275dir=Me({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[kt([OU]),pn,tt]})}}return t})();var kU=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({})}}return t})();var is=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:ey,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:af,useValue:e.callSetDisabledState??Kv}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({imports:[kU]})}}return t})();var Ue=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ue||{}),er="*";function cf(t,n){return{type:Ue.Trigger,name:t,definitions:n,options:{}}}function Fa(t,n=null){return{type:Ue.Animate,styles:n,timings:t}}function _I(t,n=null){return{type:Ue.Group,steps:t,options:n}}function vI(t,n=null){return{type:Ue.Sequence,steps:t,options:n}}function Si(t){return{type:Ue.Style,styles:t,offset:null}}function uf(t,n,e){return{type:Ue.State,name:t,styles:n,options:e}}function xc(t,n,e=null){return{type:Ue.Transition,expr:t,animation:n,options:e}}var rs=class{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Sc=class{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){let e=n*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let n=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return n!=null?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},df="!";function yI(t){return new re(3e3,!1)}function FU(){return new re(3100,!1)}function PU(){return new re(3101,!1)}function NU(t){return new re(3001,!1)}function LU(t){return new re(3003,!1)}function VU(t){return new re(3004,!1)}function jU(t,n){return new re(3005,!1)}function BU(){return new re(3006,!1)}function UU(){return new re(3007,!1)}function $U(t,n){return new re(3008,!1)}function HU(t){return new re(3002,!1)}function zU(t,n,e,i,r){return new re(3010,!1)}function qU(){return new re(3011,!1)}function WU(){return new re(3012,!1)}function GU(){return new re(3200,!1)}function QU(){return new re(3202,!1)}function YU(){return new re(3013,!1)}function KU(t){return new re(3014,!1)}function ZU(t){return new re(3015,!1)}function XU(t){return new re(3016,!1)}function JU(t,n){return new re(3404,!1)}function e$(t){return new re(3502,!1)}function t$(t){return new re(3503,!1)}function n$(){return new re(3300,!1)}function i$(t){return new re(3504,!1)}function r$(t){return new re(3301,!1)}function s$(t,n){return new re(3302,!1)}function o$(t){return new re(3303,!1)}function a$(t,n){return new re(3400,!1)}function l$(t){return new re(3401,!1)}function c$(t){return new re(3402,!1)}function u$(t,n){return new re(3505,!1)}function ss(t){switch(t.length){case 0:return new rs;case 1:return t[0];default:return new Sc(t)}}function kI(t,n,e=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(n.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if(f!=="offset")switch(p=t.normalizePropertyName(p,r),m){case df:m=e.get(f);break;case er:m=i.get(f);break;default:m=t.normalizeStyleValue(f,p,m,r);break}d.set(p,m)}),u||s.push(d),a=d,o=c}),r.length)throw e$(r);return s}function Ey(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&ny(e,"start",t)));break;case"done":t.onDone(()=>i(e&&ny(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&ny(e,"destroy",t)));break}}function ny(t,n,e){let i=e.totalTime,r=!!e.disabled,s=Sy(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,i??t.totalTime,r),o=t._data;return o!=null&&(s._data=o),s}function Sy(t,n,e,i,r="",s=0,o){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Qn(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function bI(t){let n=t.indexOf(":"),e=t.substring(1,n),i=t.slice(n+1);return[e,i]}var d$=typeof document>"u"?null:document.documentElement;function xy(t){let n=t.parentNode||t.host||null;return n===d$?null:n}function h$(t){return t.substring(1,6)=="ebkit"}var Js=null,CI=!1;function f$(t){Js||(Js=p$()||{},CI=Js.style?"WebkitAppearance"in Js.style:!1);let n=!0;return Js.style&&!h$(t)&&(n=t in Js.style,!n&&CI&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Js.style)),n}function p$(){return typeof document<"u"?document.body:null}function FI(t,n){for(;n;){if(n===t)return!0;n=xy(n)}return!1}function PI(t,n,e){if(e)return Array.from(t.querySelectorAll(n));let i=t.querySelector(n);return i?[i]:[]}var Ty=(()=>{class t{validateStyleProperty(e){return f$(e)}containsElement(e,i){return FI(e,i)}getParentElement(e){return xy(e)}query(e,i,r){return PI(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new rs(r,s)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),no=class{static{this.NOOP=new Ty}},io=class{};var m$=1e3,NI="{{",g$="}}",LI="ng-enter",ly="ng-leave",hf="ng-trigger",_f=".ng-trigger",wI="ng-animating",cy=".ng-animating";function Mr(t){if(typeof t=="number")return t;let n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:uy(parseFloat(n[1]),n[2])}function uy(t,n){switch(n){case"s":return t*m$;default:return t}}function vf(t,n,e){return t.hasOwnProperty("duration")?t:_$(t,n,e)}function _$(t,n,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof t=="string"){let a=t.match(i);if(a===null)return n.push(yI(t)),{duration:0,delay:0,easing:""};r=uy(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=uy(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=t;if(!e){let a=!1,l=n.length;r<0&&(n.push(FU()),a=!0),s<0&&(n.push(PU()),a=!0),a&&n.splice(l,0,yI(t))}return{duration:r,delay:s,easing:o}}function v$(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}function tr(t,n,e){n.forEach((i,r)=>{let s=Iy(r);e&&!e.has(r)&&e.set(r,t.style[s]),t.style[s]=i})}function to(t,n){n.forEach((e,i)=>{let r=Iy(i);t.style[r]=""})}function Tc(t){return Array.isArray(t)?t.length==1?t[0]:vI(t):t}function y$(t,n,e){let i=n.params||{},r=VI(t);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(NU(s))})}var dy=new RegExp(`${NI}\\s*(.+?)\\s*${g$}`,"g");function VI(t){let n=[];if(typeof t=="string"){let e;for(;e=dy.exec(t);)n.push(e[1]);dy.lastIndex=0}return n}function Mc(t,n,e){let i=`${t}`,r=i.replace(dy,(s,o)=>{let a=n[o];return a==null&&(e.push(LU(o)),a=""),a.toString()});return r==i?t:r}var b$=/-+([a-z0-9])/g;function Iy(t){return t.replace(b$,(...n)=>n[1].toUpperCase())}function C$(t,n){return t===0||n===0}function w$(t,n,e){if(e.size&&n.length){let i=n[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<n.length;s++){let o=n[s];r.forEach(a=>o.set(a,My(t,a)))}}return n}function Gn(t,n,e){switch(n.type){case Ue.Trigger:return t.visitTrigger(n,e);case Ue.State:return t.visitState(n,e);case Ue.Transition:return t.visitTransition(n,e);case Ue.Sequence:return t.visitSequence(n,e);case Ue.Group:return t.visitGroup(n,e);case Ue.Animate:return t.visitAnimate(n,e);case Ue.Keyframes:return t.visitKeyframes(n,e);case Ue.Style:return t.visitStyle(n,e);case Ue.Reference:return t.visitReference(n,e);case Ue.AnimateChild:return t.visitAnimateChild(n,e);case Ue.AnimateRef:return t.visitAnimateRef(n,e);case Ue.Query:return t.visitQuery(n,e);case Ue.Stagger:return t.visitStagger(n,e);default:throw VU(n.type)}}function My(t,n){return window.getComputedStyle(t)[n]}var D$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),yf=class extends io{normalizePropertyName(n,e){return Iy(n)}normalizeStyleValue(n,e,i,r){let s="",o=i.toString().trim();if(D$.has(e)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(jU(n,i))}return o+s}};var bf="*";function E$(t,n){let e=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>S$(i,e,n)):e.push(t),e}function S$(t,n,e){if(t[0]==":"){let l=x$(t,e);if(typeof l=="function"){n.push(l);return}t=l}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(ZU(t)),n;let r=i[1],s=i[2],o=i[3];n.push(DI(r,o));let a=r==bf&&o==bf;s[0]=="<"&&!a&&n.push(DI(o,r))}function x$(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(XU(t)),"* => *"}}var ff=new Set(["true","1"]),pf=new Set(["false","0"]);function DI(t,n){let e=ff.has(t)||pf.has(t),i=ff.has(n)||pf.has(n);return(r,s)=>{let o=t==bf||t==r,a=n==bf||n==s;return!o&&e&&typeof r=="boolean"&&(o=r?ff.has(t):pf.has(t)),!a&&i&&typeof s=="boolean"&&(a=s?ff.has(n):pf.has(n)),o&&a}}var jI=":self",T$=new RegExp(`s*${jI}s*,?`,"g");function BI(t,n,e,i){return new hy(t).build(n,e,i)}var EI="",hy=class{constructor(n){this._driver=n}build(n,e,i){let r=new fy(e);return this._resetContextStyleTimingState(r),Gn(this,Tc(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector=EI,n.collectedStyles=new Map,n.collectedStyles.set(EI,new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0,s=[],o=[];return n.name.charAt(0)=="@"&&e.errors.push(BU()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Ue.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(a.type==Ue.Transition){let l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(UU())}),{type:Ue.Trigger,name:n.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(n,e){let i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{VI(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&e.errors.push($U(n.name,[...s.values()]))}return{type:Ue.State,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;let i=Gn(this,Tc(n.animation),e),r=E$(n.expr,e.errors);return{type:Ue.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:eo(n.options)}}visitSequence(n,e){return{type:Ue.Sequence,steps:n.steps.map(i=>Gn(this,i,e)),options:eo(n.options)}}visitGroup(n,e){let i=e.currentTime,r=0,s=n.steps.map(o=>{e.currentTime=i;let a=Gn(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:Ue.Group,steps:s,options:eo(n.options)}}visitAnimate(n,e){let i=R$(n.timings,e.errors);e.currentAnimateTimings=i;let r,s=n.styles?n.styles:Si({});if(s.type==Ue.Keyframes)r=this.visitKeyframes(s,e);else{let o=n.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=Si(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:Ue.Animate,timings:i,style:r,options:null}}visitStyle(n,e){let i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){let i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of r)typeof a=="string"?a===er?i.push(a):e.errors.push(HU(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(NI)>=0){s=!0;break}}}),{type:Ue.Style,styles:i,easing:o,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,e){let i=e.currentAnimateTimings,r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),n.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(zU(l,u.startTime,u.endTime,s,r)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&y$(a,e.options,e.errors)})})}visitKeyframes(n,e){let i={type:Ue.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(qU()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=n.steps.map(D=>{let w=this._makeStyleAst(D,e),S=w.offset!=null?w.offset:A$(w.styles),k=0;return S!=null&&(s++,k=w.offset=S),l=l||k<0||k>1,a=a||k<c,c=k,o.push(k),w});l&&e.errors.push(WU()),a&&e.errors.push(GU());let d=n.steps.length,h=0;s>0&&s<d?e.errors.push(QU()):s==0&&(h=r/(d-1));let f=d-1,p=e.currentTime,m=e.currentAnimateTimings,_=m.duration;return u.forEach((D,w)=>{let S=h>0?w==f?1:h*w:o[w],k=S*_;e.currentTime=p+m.delay+k,m.duration=k,this._validateStyleAst(D,e),D.offset=S,i.styles.push(D)}),i}visitReference(n,e){return{type:Ue.Reference,animation:Gn(this,Tc(n.animation),e),options:eo(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:Ue.AnimateChild,options:eo(n.options)}}visitAnimateRef(n,e){return{type:Ue.AnimateRef,animation:this.visitReference(n.animation,e),options:eo(n.options)}}visitQuery(n,e){let i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;let[s,o]=I$(n.selector);e.currentQuerySelector=i.length?i+" "+s:s,Qn(e.collectedStyles,e.currentQuerySelector,new Map);let a=Gn(this,Tc(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Ue.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:n.selector,options:eo(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(YU());let i=n.timings==="full"?{duration:0,delay:0,easing:"full"}:vf(n.timings,e.errors,!0);return{type:Ue.Stagger,animation:Gn(this,Tc(n.animation),e),timings:i,options:null}}};function I$(t){let n=!!t.split(/\s*,\s*/).find(e=>e==jI);return n&&(t=t.replace(T$,"")),t=t.replace(/@\*/g,_f).replace(/@\w+/g,e=>_f+"-"+e.slice(1)).replace(/:animating/g,cy),[t,n]}function M$(t){return t?V({},t):null}var fy=class{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function A$(t){if(typeof t=="string")return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}function R$(t,n){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=vf(t,n).duration;return iy(s,0,"")}let e=t;if(e.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=iy(0,0,"");return s.dynamic=!0,s.strValue=e,s}let r=vf(e,n);return iy(r.duration,r.delay,r.easing)}function eo(t){return t?(t=V({},t),t.params&&(t.params=M$(t.params))):t={},t}function iy(t,n,e){return{duration:t,delay:n,easing:e}}function Ay(t,n,e,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Ac=class{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}},O$=1,k$=":enter",F$=new RegExp(k$,"g"),P$=":leave",N$=new RegExp(P$,"g");function UI(t,n,e,i,r,s=new Map,o=new Map,a,l,c=[]){return new py().buildKeyframes(t,n,e,i,r,s,o,a,l,c)}var py=class{buildKeyframes(n,e,i,r,s,o,a,l,c,u=[]){c=c||new Ac;let d=new my(n,e,c,r,s,u,[]);d.options=l;let h=l.delay?Mr(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Gn(this,i,d);let f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){let _=f[m];if(_.element===e){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[Ay(e,[],[],[],0,h,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(n.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=n}visitAnimateRef(n,e){let i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(let r of n){let s=r?.delay;if(s){let o=typeof s=="number"?s:Mr(Mc(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(n,e,i){let s=e.currentTimeline.currentTime,o=i.duration!=null?Mr(i.duration):null,a=i.delay!=null?Mr(i.delay):null;return o!==0&&n.forEach(l=>{let c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(n,e){e.updateOptions(n.options,!0),Gn(this,n.animation,e),e.previousNode=n}visitSequence(n,e){let i=e.subContextCount,r=e,s=n.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==Ue.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Cf);let o=Mr(s.delay);r.delayNextStep(o)}n.steps.length&&(n.steps.forEach(o=>Gn(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){let i=[],r=e.currentTimeline.currentTime,s=n.options&&n.options.delay?Mr(n.options.delay):0;n.steps.forEach(o=>{let a=e.createSubContext(n.options);s&&a.delayNextStep(s),Gn(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){let i=n.strValue,r=e.params?Mc(i,e.params,e.errors):i;return vf(r,e.errors)}else return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){let i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let s=n.style;s.type==Ue.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(s):i.setStyles(n.styles,s,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,n.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=n}visitQuery(n,e){let i=e.currentTimeline.currentTime,r=n.options||{},s=r.delay?Mr(r.delay):0;s&&(e.previousNode.type===Ue.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Cf);let o=i,a=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;let d=e.createSubContext(n.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),Gn(this,n.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){let i=e.parentContext,r=e.currentTimeline,s=n.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1),l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=e.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;Gn(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}},Cf={},my=class t{constructor(n,e,i,r,s,o,a,l){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new wf(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;let i=n,r=this.options;i.duration!=null&&(r.duration=Mr(i.duration)),i.delay!=null&&(r.delay=Mr(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Mc(s[a],o,this.errors))})}}_copyOptions(){let n={};if(this.options){let e=this.options.params;if(e){let i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){let r=e||this.element,s=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=Cf,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){let r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},s=new gy(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,s,o){let a=[];if(r&&a.push(this.element),n.length>0){n=n.replace(F$,"."+this._enterClassName),n=n.replace(N$,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,n,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(KU(e)),a}},wf=class t{constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new t(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=O$,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||er),this._currentKeyframe.set(e,er);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);let s=r&&r.params||{},o=L$(n,this._globalTimelineStyles);for(let[a,l]of o){let c=Mc(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??er),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let n=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===df?n.add(d):u===er&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...n.values()],o=[...e.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Ay(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},gy=class extends wf{constructor(n,e,i,r,s,o,a=!1){super(n,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let s=[],o=i+e,a=e/o,l=new Map(n[0]);l.set("offset",0),s.push(l);let c=new Map(n[0]);c.set("offset",SI(a)),s.push(c);let u=n.length-1;for(let d=1;d<=u;d++){let h=new Map(n[d]),f=h.get("offset"),p=e+f*i;h.set("offset",SI(p/o)),s.push(h)}i=o,e=0,r="",n=s}return Ay(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function SI(t,n=3){let e=Math.pow(10,n-1);return Math.round(t*e)/e}function L$(t,n){let e=new Map,i;return t.forEach(r=>{if(r==="*"){i??=n.keys();for(let s of i)e.set(s,er)}else for(let[s,o]of r)e.set(s,o)}),e}function xI(t,n,e,i,r,s,o,a,l,c,u,d,h){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var ry={},Df=class{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return V$(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return n!==void 0&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,s,o,a,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||ry,f=a&&a.params||ry,p=this.buildStyles(i,f,d),m=l&&l.params||ry,_=this.buildStyles(r,m,d),D=new Set,w=new Map,S=new Map,k=r==="void",L={params:$I(m,h),delay:this.ast.options?.delay},W=u?[]:UI(n,e,this.ast.animation,s,o,p,_,L,c,d),oe=0;return W.forEach(K=>{oe=Math.max(K.duration+K.delay,oe)}),d.length?xI(e,this._triggerName,i,r,k,p,_,[],[],w,S,oe,d):(W.forEach(K=>{let de=K.element,it=Qn(w,de,new Set);K.preStyleProps.forEach(ae=>it.add(ae));let Ye=Qn(S,de,new Set);K.postStyleProps.forEach(ae=>Ye.add(ae)),de!==e&&D.add(de)}),xI(e,this._triggerName,i,r,k,p,_,W,[...D.values()],w,S,oe))}};function V$(t,n,e,i,r){return t.some(s=>s(n,e,i,r))}function $I(t,n){let e=V({},n);return Object.entries(t).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var _y=class{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){let i=new Map,r=$I(n,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Mc(o,r,e));let l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}};function j$(t,n,e){return new vy(t,n,e)}var vy=class{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new _y(r.style,s,i))}),TI(this.states,"true","1"),TI(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Df(n,r,this.states))}),this.fallbackTransition=B$(n,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(o=>o.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}};function B$(t,n,e){let i=[(o,a)=>!0],r={type:Ue.Sequence,steps:[],options:null},s={type:Ue.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Df(t,s,n)}function TI(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}var U$=new Ac,yy=class{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){let i=[],r=[],s=BI(this._driver,e,i,r);if(i.length)throw t$(i);r.length&&void 0,this._animations.set(n,s)}_buildPlayer(n,e,i){let r=n.element,s=kI(this._normalizer,n.keyframes,e,i);return this._driver.animate(r,s,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){let r=[],s=this._animations.get(n),o,a=new Map;if(s?(o=UI(this._driver,e,s,LI,ly,new Map,new Map,i,U$,r),o.forEach(u=>{let d=Qn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(n$()),o=[]),r.length)throw i$(r);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,er))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=ss(l);return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){let e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){let e=this._playersById.get(n);if(!e)throw r$(n);return e}listen(n,e,i,r){let s=Sy(e,"","","");return Ey(this._getPlayer(n),i,s,r),()=>{}}command(n,e,i,r){if(i=="register"){this.register(n,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(n,e,o);return}let s=this._getPlayer(n);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n);break}}},II="ng-animate-queued",$$=".ng-animate-queued",sy="ng-animate-disabled",H$=".ng-animate-disabled",z$="ng-star-inserted",q$=".ng-star-inserted",W$=[],HI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},G$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xi="__ng_removed",Rc=class{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;let i=n&&n.hasOwnProperty("value"),r=i?n.value:n;if(this.value=Y$(r),i){let s=n,{value:o}=s,a=ys(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){let e=n.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},Ic="void",oy=new Rc(Ic),by=class{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,ci(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw s$(i,e);if(i==null||i.length==0)throw o$(e);if(!K$(i))throw a$(i,e);let s=Qn(this._elementListeners,n,[]),o={name:e,phase:i,callback:r};s.push(o);let a=Qn(this._engine.statesByElement,n,new Map);return a.has(e)||(ci(n,hf),ci(n,hf+"-"+e),a.set(e,oy)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(n,e){return this._triggers.has(n)?!1:(this._triggers.set(n,e),!0)}_getTrigger(n){let e=this._triggers.get(n);if(!e)throw l$(n);return e}trigger(n,e,i,r=!0){let s=this._getTrigger(e),o=new Oc(this.id,e,n),a=this._engine.statesByElement.get(n);a||(ci(n,hf),ci(n,hf+"-"+e),this._engine.statesByElement.set(n,a=new Map));let l=a.get(e),c=new Rc(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=oy),!(c.value===Ic)&&l.value===c.value){if(!J$(l.params,c.params)){let m=[],_=s.matchStyles(l.value,l.params,m),D=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{to(n,_),tr(n,D)})}return}let h=Qn(this._engine.playersByElement,n,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,n,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(ci(n,II),o.onStart(()=>{Pa(n,II)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let _=this._engine.playersByElement.get(n);if(_){let D=_.indexOf(o);D>=0&&_.splice(D,1)}}),this.players.push(o),h.push(o),o}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);let e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){let i=this._engine.driver.query(n,_f,!0);i.forEach(r=>{if(r[xi])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){let s=this._engine.statesByElement.get(n),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(n,c,Ic,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,o),i&&ss(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){let e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){let r=new Set;e.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||oy,u=new Rc(Ic),d=new Oc(this.id,o,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(n,e){let i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(n):[];if(s&&s.length)r=!0;else{let o=n;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{let s=n[xi];(!s||s===HI)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){ci(n,this._hostClassName)}drainQueuedTransitions(n){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=Sy(s,i.triggerName,i.fromState.value,i.toState.value);l._data=n,Ey(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}},Cy=class{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){let i=new by(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,n),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){let e=new Set,i=this.statesByElement.get(n);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}}return e}trigger(n,e,i,r){if(mf(e)){let s=this._fetchNamespace(n);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!mf(e))return;let s=e[xi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(n){let o=this._fetchNamespace(n);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),ci(n,sy)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Pa(n,sy))}removeNode(n,e,i){if(mf(e)){let r=n?this._fetchNamespace(n):null;r?r.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);let s=this.namespacesByHostElement.get(e);s&&s.id!==n&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,r,s){this.collectedLeaveElements.push(e),e[xi]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,e,i,r,s){return mf(e)?this._fetchNamespace(n).listen(e,i,r,s):()=>{}}_buildInstruction(n,e,i,r,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,s)}destroyInnerAnimations(n){let e=this.driver.query(n,_f,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(n,cy,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){let e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){let e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return ss(this.players).onDone(()=>n());n()})}processLeaveNode(n){let e=n[xi];if(e&&e.setForRemoval){if(n[xi]=HI,e.namespaceId){this.destroyInnerAnimations(n);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(sy)&&this.markElementAsDisabled(n,!1),this.driver.query(n,H$,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];ci(r,z$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?ss(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw c$(n)}_flushAnimations(n,e){let i=new Ac,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(A=>{u.add(A);let R=this.driver.query(A,$$,!0);for(let O=0;O<R.length;O++)u.add(R[O])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=RI(h,this.collectedEnterElements),p=new Map,m=0;f.forEach((A,R)=>{let O=LI+m++;p.set(R,O),A.forEach(B=>ci(B,O))});let _=[],D=new Set,w=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){let R=this.collectedLeaveElements[A],O=R[xi];O&&O.setForRemoval&&(_.push(R),D.add(R),O.hasAnimation?this.driver.query(R,q$,!0).forEach(B=>D.add(B)):w.add(R))}let S=new Map,k=RI(h,Array.from(D));k.forEach((A,R)=>{let O=ly+m++;S.set(R,O),A.forEach(B=>ci(B,O))}),n.push(()=>{f.forEach((A,R)=>{let O=p.get(R);A.forEach(B=>Pa(B,O))}),k.forEach((A,R)=>{let O=S.get(R);A.forEach(B=>Pa(B,O))}),_.forEach(A=>{this.processLeaveNode(A)})});let L=[],W=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(O=>{let B=O.player,Y=O.element;if(L.push(B),this.collectedEnterElements.length){let Ke=Y[xi];if(Ke&&Ke.setForMove){if(Ke.previousTriggersValues&&Ke.previousTriggersValues.has(O.triggerName)){let wt=Ke.previousTriggersValues.get(O.triggerName),mt=this.statesByElement.get(O.element);if(mt&&mt.has(O.triggerName)){let Sn=mt.get(O.triggerName);Sn.value=wt,mt.set(O.triggerName,Sn)}}B.destroy();return}}let te=!d||!this.driver.containsElement(d,Y),be=S.get(Y),ze=p.get(Y),Ae=this._buildInstruction(O,i,ze,be,te);if(Ae.errors&&Ae.errors.length){W.push(Ae);return}if(te){B.onStart(()=>to(Y,Ae.fromStyles)),B.onDestroy(()=>tr(Y,Ae.toStyles)),r.push(B);return}if(O.isFallbackTransition){B.onStart(()=>to(Y,Ae.fromStyles)),B.onDestroy(()=>tr(Y,Ae.toStyles)),r.push(B);return}let Tt=[];Ae.timelines.forEach(Ke=>{Ke.stretchStartingKeyframe=!0,this.disabledNodes.has(Ke.element)||Tt.push(Ke)}),Ae.timelines=Tt,i.append(Y,Ae.timelines);let Nt={instruction:Ae,player:B,element:Y};o.push(Nt),Ae.queriedElements.forEach(Ke=>Qn(a,Ke,[]).push(B)),Ae.preStyleProps.forEach((Ke,wt)=>{if(Ke.size){let mt=l.get(wt);mt||l.set(wt,mt=new Set),Ke.forEach((Sn,Fn)=>mt.add(Fn))}}),Ae.postStyleProps.forEach((Ke,wt)=>{let mt=c.get(wt);mt||c.set(wt,mt=new Set),Ke.forEach((Sn,Fn)=>mt.add(Fn))})});if(W.length){let A=[];W.forEach(R=>{A.push(u$(R.triggerName,R.errors))}),L.forEach(R=>R.destroy()),this.reportError(A)}let oe=new Map,K=new Map;o.forEach(A=>{let R=A.element;i.has(R)&&(K.set(R,R),this._beforeAnimationBuild(A.player.namespaceId,A.instruction,oe))}),r.forEach(A=>{let R=A.element;this._getPreviousPlayers(R,!1,A.namespaceId,A.triggerName,null).forEach(B=>{Qn(oe,R,[]).push(B),B.destroy()})});let de=_.filter(A=>OI(A,l,c)),it=new Map;AI(it,this.driver,w,c,er).forEach(A=>{OI(A,l,c)&&de.push(A)});let ae=new Map;f.forEach((A,R)=>{AI(ae,this.driver,new Set(A),l,df)}),de.forEach(A=>{let R=it.get(A),O=ae.get(A);it.set(A,new Map([...R?.entries()??[],...O?.entries()??[]]))});let Z=[],X=[],ce={};o.forEach(A=>{let{element:R,player:O,instruction:B}=A;if(i.has(R)){if(u.has(R)){O.onDestroy(()=>tr(R,B.toStyles)),O.disabled=!0,O.overrideTotalTime(B.totalTime),r.push(O);return}let Y=ce;if(K.size>1){let be=R,ze=[];for(;be=be.parentNode;){let Ae=K.get(be);if(Ae){Y=Ae;break}ze.push(be)}ze.forEach(Ae=>K.set(Ae,Y))}let te=this._buildAnimation(O.namespaceId,B,oe,s,ae,it);if(O.setRealPlayer(te),Y===ce)Z.push(O);else{let be=this.playersByElement.get(Y);be&&be.length&&(O.parentPlayer=ss(be)),r.push(O)}}else to(R,B.fromStyles),O.onDestroy(()=>tr(R,B.toStyles)),X.push(O),u.has(R)&&r.push(O)}),X.forEach(A=>{let R=s.get(A.element);if(R&&R.length){let O=ss(R);A.setRealPlayer(O)}}),r.forEach(A=>{A.parentPlayer?A.syncPlayerEvents(A.parentPlayer):A.destroy()});for(let A=0;A<_.length;A++){let R=_[A],O=R[xi];if(Pa(R,ly),O&&O.hasAnimation)continue;let B=[];if(a.size){let te=a.get(R);te&&te.length&&B.push(...te);let be=this.driver.query(R,cy,!0);for(let ze=0;ze<be.length;ze++){let Ae=a.get(be[ze]);Ae&&Ae.length&&B.push(...Ae)}}let Y=B.filter(te=>!te.destroyed);Y.length?Z$(this,R,Y):this.processLeaveNode(R)}return _.length=0,Z.forEach(A=>{this.players.push(A),A.onDone(()=>{A.destroy();let R=this.players.indexOf(A);this.players.splice(R,1)}),A.play()}),Z}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,s){let o=[];if(e){let a=this.playersByQueriedElement.get(n);a&&(o=a)}else{let a=this.playersByElement.get(n);if(a){let l=!s||s==Ic;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(n,e,i){let r=e.triggerName,s=e.element,o=e.isRemovalTransition?void 0:n,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,u=c!==s,d=Qn(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}to(s,e.fromStyles)}_buildAnimation(n,e,i,r,s,o){let a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(p=>{let m=p.element;u.add(m);let _=m[xi];if(_&&_.removedBeforeQueried)return new rs(p.duration,p.delay);let D=m!==l,w=X$((i.get(m)||W$).map(oe=>oe.getRealPlayer())).filter(oe=>{let K=oe;return K.element?K.element===m:!1}),S=s.get(m),k=o.get(m),L=kI(this._normalizer,p.keyframes,S,k),W=this._buildPlayer(p,L,w);if(p.subTimeline&&r&&d.add(m),D){let oe=new Oc(n,a,m);oe.setRealPlayer(W),c.push(oe)}return W});c.forEach(p=>{Qn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>Q$(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>ci(p,wI));let f=ss(h);return f.onDestroy(()=>{u.forEach(p=>Pa(p,wI)),tr(l,e.toStyles)}),d.forEach(p=>{Qn(r,p,[]).push(f)}),f}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new rs(n.duration,n.delay)}},Oc=class{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new rs,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Ey(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){let e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Qn(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){let e=this._player;e.triggerCallback&&e.triggerCallback(n)}};function Q$(t,n,e){let i=t.get(n);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&t.delete(n)}return i}function Y$(t){return t??null}function mf(t){return t&&t.nodeType===1}function K$(t){return t=="start"||t=="done"}function MI(t,n){let e=t.style.display;return t.style.display=n??"none",e}function AI(t,n,e,i,r){let s=[];e.forEach(l=>s.push(MI(l)));let o=[];i.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=n.computeStyle(c,d,r);u.set(d,h),(!h||h.length==0)&&(c[xi]=G$,o.push(c))}),t.set(c,u)});let a=0;return e.forEach(l=>MI(l,s[a++])),o}function RI(t,n){let e=new Map;if(t.forEach(a=>e.set(a,[])),n.length==0)return e;let i=1,r=new Set(n),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return n.forEach(a=>{let l=o(a);l!==i&&e.get(l).push(a)}),e}function ci(t,n){t.classList?.add(n)}function Pa(t,n){t.classList?.remove(n)}function Z$(t,n,e){ss(e).onDone(()=>t.processLeaveNode(n))}function X$(t){let n=[];return zI(t,n),n}function zI(t,n){for(let e=0;e<t.length;e++){let i=t[e];i instanceof Sc?zI(i.players,n):n.push(i)}}function J$(t,n){let e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let s=e[r];if(!n.hasOwnProperty(s)||t[s]!==n[s])return!1}return!0}function OI(t,n,e){let i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(s=>r.add(s)):n.set(t,i),e.delete(t),!0}var Na=class{constructor(n,e,i){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Cy(n.body,e,i),this._timelineEngine=new yy(n.body,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(n,e,i,r,s){let o=n+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=BI(this._driver,s,l,c);if(l.length)throw JU(r,l);c.length&&void 0,a=j$(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if(i.charAt(0)=="@"){let[s,o]=bI(i),a=r;this._timelineEngine.command(s,e,o,a)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,s){if(i.charAt(0)=="@"){let[o,a]=bI(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(n,e,i,r,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}};function e4(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=ay(n[0]),n.length>1&&(i=ay(n[n.length-1]))):n instanceof Map&&(e=ay(n)),e||i?new wy(t,e,i):null}var wy=class t{static{this.initialStylesByElement=new WeakMap}constructor(n,e,i){this._element=n,this._startStyles=e,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(n);r||t.initialStylesByElement.set(n,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&tr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tr(this._element,this._initialStyles),this._endStyles&&(tr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(to(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(to(this._element,this._endStyles),this._endStyles=null),tr(this._element,this._initialStyles),this._state=3)}};function ay(t){let n=null;return t.forEach((e,i)=>{t4(i)&&(n=n||new Map,n.set(i,e))}),n}function t4(t){return t==="display"||t==="position"}var Ef=class{constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){let e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&n.set(r,this._finished?i:My(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){let e=n==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Sf=class{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}containsElement(n,e){return FI(n,e)}getParentElement(n){return xy(n)}query(n,e,i){return PI(n,e,i)}computeStyle(n,e,i){return My(n,e)}animate(n,e,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(f=>f instanceof Ef);C$(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=v$(e).map(f=>new Map(f));d=w$(n,d,c);let h=e4(n,d);return new Ef(n,d,l,h)}};var gf="@",qI="@.disabled",xf=class{constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){e.charAt(0)==gf&&e==qI?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}},Dy=class extends xf{constructor(n,e,i,r,s){super(e,i,r,s),this.factory=n,this.namespaceId=e}setProperty(n,e,i){e.charAt(0)==gf?e.charAt(1)=="."&&e==qI?(i=i===void 0?!0:!!i,this.disableAnimations(n,i)):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if(e.charAt(0)==gf){let r=n4(n),s=e.slice(1),o="";return s.charAt(0)!=gf&&([s,o]=i4(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(n,e,i)}};function n4(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function i4(t){let n=t.indexOf("."),e=t.substring(0,n),i=t.slice(n+1);return[e,i]}var Tf=class{constructor(n,e,i){this.delegate=n,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(n,e){let i="",r=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new xf(i,r,this.engine,d),c.set(r,u)}return u}let s=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,n);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,n,c.name,c)};return e.data.animation.forEach(a),new Dy(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,i){if(n>=0&&n<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var s4=(()=>{class t extends Na{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||t)(P(Je),P(no),P(io))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})();function o4(){return new yf}function a4(t,n,e){return new Tf(t,n,e)}var GI=[{provide:io,useFactory:o4},{provide:Na,useClass:s4},{provide:qr,useFactory:a4,deps:[Hh,Na,pe]}],WI=[{provide:no,useFactory:()=>new Sf},{provide:Gi,useValue:"BrowserAnimations"},...GI],QI=[{provide:no,useClass:Ty},{provide:Gi,useValue:"NoopAnimations"},...GI],YI=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?QI:WI}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({providers:WI,imports:[jv]})}}return t})();var KI=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({providers:QI,imports:[jv]})}}return t})();var ZI={providers:[Xx({eventCoalescing:!0}),o_(KI,YI,is,Uh,Mt,Tr.forRoot())]};var zM=ar(e1());function t1(t,n,e,i,r,s,o){try{var a=t[s](o),l=a.value}catch(c){return void e(c)}a.done?n(l):Promise.resolve(l).then(i,r)}function T(t){return function(){var n=this,e=arguments;return new Promise(function(i,r){var s=t.apply(n,e);function o(l){t1(s,i,r,o,a,"next",l)}function a(l){t1(s,i,r,o,a,"throw",l)}o(void 0)})}}function Kt(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Zt(t){"@babel/helpers - typeof";return Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zt(t)}function n1(t,n){if(Zt(t)!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var i=e.call(t,n||"default");if(Zt(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Mf(t){var n=n1(t,"string");return Zt(n)=="symbol"?n:n+""}function i1(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Mf(i.key),i)}}function Rn(t,n,e){return n&&i1(t.prototype,n),e&&i1(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C(t,n,e){return(n=Mf(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var g=ar(c1());function so(){return so=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)({}).hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},so.apply(null,arguments)}function u1(t,n){if(t==null)return{};var e={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(n.includes(i))continue;e[i]=t[i]}return e}function La(t,n){if(t==null)return{};var e,i,r=u1(t,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)e=s[i],n.includes(e)||{}.propertyIsEnumerable.call(t,e)&&(r[e]=t[e])}return r}function kc(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,i=Array(n);e<n;e++)i[e]=t[e];return i}function d1(t){if(Array.isArray(t))return kc(t)}function h1(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rf(t,n){if(t){if(typeof t=="string")return kc(t,n);var e={}.toString.call(t).slice(8,-1);return e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set"?Array.from(t):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?kc(t,n):void 0}}function f1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function St(t){return d1(t)||h1(t)||Rf(t)||f1()}function Fc(t,n){return function(){return t.apply(n,arguments)}}var{toString:m4}=Object.prototype,{getPrototypeOf:Py}=Object,kf=(t=>n=>{let e=m4.call(n);return t[e]||(t[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Ti=t=>(t=t.toLowerCase(),n=>kf(n)===t),Ff=t=>n=>typeof n===t,{isArray:Va}=Array,Pc=Ff("undefined");function g4(t){return t!==null&&!Pc(t)&&t.constructor!==null&&!Pc(t.constructor)&&Yn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var g1=Ti("ArrayBuffer");function _4(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&g1(t.buffer),n}var v4=Ff("string"),Yn=Ff("function"),_1=Ff("number"),Pf=t=>t!==null&&typeof t=="object",y4=t=>t===!0||t===!1,Of=t=>{if(kf(t)!=="object")return!1;let n=Py(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},b4=Ti("Date"),C4=Ti("File"),w4=Ti("Blob"),D4=Ti("FileList"),E4=t=>Pf(t)&&Yn(t.pipe),S4=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||Yn(t.append)&&((n=kf(t))==="formdata"||n==="object"&&Yn(t.toString)&&t.toString()==="[object FormData]"))},x4=Ti("URLSearchParams"),[T4,I4,M4,A4]=["ReadableStream","Request","Response","Headers"].map(Ti),R4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nc(t,n,{allOwnKeys:e=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Va(t))for(i=0,r=t.length;i<r;i++)n.call(null,t[i],i,t);else{let s=e?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length,a;for(i=0;i<o;i++)a=s[i],n.call(null,t[a],a,t)}}function v1(t,n){n=n.toLowerCase();let e=Object.keys(t),i=e.length,r;for(;i-- >0;)if(r=e[i],n===r.toLowerCase())return r;return null}var oo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,y1=t=>!Pc(t)&&t!==oo;function Fy(){let{caseless:t}=y1(this)&&this||{},n={},e=(i,r)=>{let s=t&&v1(n,r)||r;Of(n[s])&&Of(i)?n[s]=Fy(n[s],i):Of(i)?n[s]=Fy({},i):Va(i)?n[s]=i.slice():n[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Nc(arguments[i],e);return n}var O4=(t,n,e,{allOwnKeys:i}={})=>(Nc(n,(r,s)=>{e&&Yn(r)?t[s]=Fc(r,e):t[s]=r},{allOwnKeys:i}),t),k4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),F4=(t,n,e,i)=>{t.prototype=Object.create(n.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),e&&Object.assign(t.prototype,e)},P4=(t,n,e,i)=>{let r,s,o,a={};if(n=n||{},t==null)return n;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,n))&&!a[o]&&(n[o]=t[o],a[o]=!0);t=e!==!1&&Py(t)}while(t&&(!e||e(t,n))&&t!==Object.prototype);return n},N4=(t,n,e)=>{t=String(t),(e===void 0||e>t.length)&&(e=t.length),e-=n.length;let i=t.indexOf(n,e);return i!==-1&&i===e},L4=t=>{if(!t)return null;if(Va(t))return t;let n=t.length;if(!_1(n))return null;let e=new Array(n);for(;n-- >0;)e[n]=t[n];return e},V4=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&Py(Uint8Array)),j4=(t,n)=>{let i=(t&&t[Symbol.iterator]).call(t),r;for(;(r=i.next())&&!r.done;){let s=r.value;n.call(t,s[0],s[1])}},B4=(t,n)=>{let e,i=[];for(;(e=t.exec(n))!==null;)i.push(e);return i},U4=Ti("HTMLFormElement"),$4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,r){return i.toUpperCase()+r}),p1=(({hasOwnProperty:t})=>(n,e)=>t.call(n,e))(Object.prototype),H4=Ti("RegExp"),b1=(t,n)=>{let e=Object.getOwnPropertyDescriptors(t),i={};Nc(e,(r,s)=>{let o;(o=n(r,s,t))!==!1&&(i[s]=o||r)}),Object.defineProperties(t,i)},z4=t=>{b1(t,(n,e)=>{if(Yn(t)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;let i=t[e];if(Yn(i)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},q4=(t,n)=>{let e={},i=r=>{r.forEach(s=>{e[s]=!0})};return Va(t)?i(t):i(String(t).split(n)),e},W4=()=>{},G4=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n,ky="abcdefghijklmnopqrstuvwxyz",m1="0123456789",C1={DIGIT:m1,ALPHA:ky,ALPHA_DIGIT:ky+ky.toUpperCase()+m1},Q4=(t=16,n=C1.ALPHA_DIGIT)=>{let e="",{length:i}=n;for(;t--;)e+=n[Math.random()*i|0];return e};function Y4(t){return!!(t&&Yn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var K4=t=>{let n=new Array(10),e=(i,r)=>{if(Pf(i)){if(n.indexOf(i)>=0)return;if(!("toJSON"in i)){n[r]=i;let s=Va(i)?[]:{};return Nc(i,(o,a)=>{let l=e(o,r+1);!Pc(l)&&(s[a]=l)}),n[r]=void 0,s}}return i};return e(t,0)},Z4=Ti("AsyncFunction"),X4=t=>t&&(Pf(t)||Yn(t))&&Yn(t.then)&&Yn(t.catch),w1=((t,n)=>t?setImmediate:n?((e,i)=>(oo.addEventListener("message",({source:r,data:s})=>{r===oo&&s===e&&i.length&&i.shift()()},!1),r=>{i.push(r),oo.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Yn(oo.postMessage)),J4=typeof queueMicrotask<"u"?queueMicrotask.bind(oo):typeof process<"u"&&process.nextTick||w1,F={isArray:Va,isArrayBuffer:g1,isBuffer:g4,isFormData:S4,isArrayBufferView:_4,isString:v4,isNumber:_1,isBoolean:y4,isObject:Pf,isPlainObject:Of,isReadableStream:T4,isRequest:I4,isResponse:M4,isHeaders:A4,isUndefined:Pc,isDate:b4,isFile:C4,isBlob:w4,isRegExp:H4,isFunction:Yn,isStream:E4,isURLSearchParams:x4,isTypedArray:V4,isFileList:D4,forEach:Nc,merge:Fy,extend:O4,trim:R4,stripBOM:k4,inherits:F4,toFlatObject:P4,kindOf:kf,kindOfTest:Ti,endsWith:N4,toArray:L4,forEachEntry:j4,matchAll:B4,isHTMLForm:U4,hasOwnProperty:p1,hasOwnProp:p1,reduceDescriptors:b1,freezeMethods:z4,toObjectSet:q4,toCamelCase:$4,noop:W4,toFiniteNumber:G4,findKey:v1,global:oo,isContextDefined:y1,ALPHABET:C1,generateString:Q4,isSpecCompliantForm:Y4,toJSONObject:K4,isAsyncFn:Z4,isThenable:X4,setImmediate:w1,asap:J4};function ja(t,n,e,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),e&&(this.config=e),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}F.inherits(ja,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});var D1=ja.prototype,E1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{E1[t]={value:t}});Object.defineProperties(ja,E1);Object.defineProperty(D1,"isAxiosError",{value:!0});ja.from=(t,n,e,i,r,s)=>{let o=Object.create(D1);return F.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ja.call(o,t.message,n,e,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};var Pe=ja;var Nf=null;function Ny(t){return F.isPlainObject(t)||F.isArray(t)}function x1(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function S1(t,n,e){return t?t.concat(n).map(function(r,s){return r=x1(r),!e&&s?"["+r+"]":r}).join(e?".":""):n}function eH(t){return F.isArray(t)&&!t.some(Ny)}var tH=F.toFlatObject(F,{},null,function(n){return/^is[A-Z]/.test(n)});function nH(t,n,e){if(!F.isObject(t))throw new TypeError("target must be an object");n=n||new(Nf||FormData),e=F.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,_){return!F.isUndefined(_[m])});let i=e.metaTokens,r=e.visitor||u,s=e.dots,o=e.indexes,l=(e.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(n);if(!F.isFunction(r))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(F.isDate(p))return p.toISOString();if(!l&&F.isBlob(p))throw new Pe("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(p)||F.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,_){let D=p;if(p&&!_&&typeof p=="object"){if(F.endsWith(m,"{}"))m=i?m:m.slice(0,-2),p=JSON.stringify(p);else if(F.isArray(p)&&eH(p)||(F.isFileList(p)||F.endsWith(m,"[]"))&&(D=F.toArray(p)))return m=x1(m),D.forEach(function(S,k){!(F.isUndefined(S)||S===null)&&n.append(o===!0?S1([m],k,s):o===null?m:m+"[]",c(S))}),!1}return Ny(p)?!0:(n.append(S1(_,m,s),c(p)),!1)}let d=[],h=Object.assign(tH,{defaultVisitor:u,convertValue:c,isVisitable:Ny});function f(p,m){if(!F.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),F.forEach(p,function(D,w){(!(F.isUndefined(D)||D===null)&&r.call(n,D,F.isString(w)?w.trim():w,m,h))===!0&&f(D,m?m.concat(w):[w])}),d.pop()}}if(!F.isObject(t))throw new TypeError("data must be an object");return f(t),n}var os=nH;function T1(t){let n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return n[i]})}function I1(t,n){this._pairs=[],t&&os(t,this,n)}var M1=I1.prototype;M1.append=function(n,e){this._pairs.push([n,e])};M1.toString=function(n){let e=n?function(i){return n.call(this,i,T1)}:T1;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};var Lf=I1;function iH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Lc(t,n,e){if(!n)return t;let i=e&&e.encode||iH;F.isFunction(e)&&(e={serialize:e});let r=e&&e.serialize,s;if(r?s=r(n,e):s=F.isURLSearchParams(n)?n.toString():new Lf(n,e).toString(i),s){let o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}var Ly=class{constructor(){this.handlers=[]}use(n,e,i){return this.handlers.push({fulfilled:n,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){F.forEach(this.handlers,function(i){i!==null&&n(i)})}},Vy=Ly;var Vf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var A1=typeof URLSearchParams<"u"?URLSearchParams:Lf;var R1=typeof FormData<"u"?FormData:null;var O1=typeof Blob<"u"?Blob:null;var k1={isBrowser:!0,classes:{URLSearchParams:A1,FormData:R1,Blob:O1},protocols:["http","https","file","blob","url","data"]};var Uy={};YO(Uy,{hasBrowserEnv:()=>By,hasStandardBrowserEnv:()=>rH,hasStandardBrowserWebWorkerEnv:()=>sH,navigator:()=>jy,origin:()=>oH});var By=typeof window<"u"&&typeof document<"u",jy=typeof navigator=="object"&&navigator||void 0,rH=By&&(!jy||["ReactNative","NativeScript","NS"].indexOf(jy.product)<0),sH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oH=By&&window.location.href||"http://localhost";var xt=V(V({},Uy),k1);function $y(t,n){return os(t,new xt.classes.URLSearchParams,Object.assign({visitor:function(e,i,r,s){return xt.isNode&&F.isBuffer(e)?(this.append(i,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},n))}function aH(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function lH(t){let n={},e=Object.keys(t),i,r=e.length,s;for(i=0;i<r;i++)s=e[i],n[s]=t[s];return n}function cH(t){function n(e,i,r,s){let o=e[s++];if(o==="__proto__")return!0;let a=Number.isFinite(+o),l=s>=e.length;return o=!o&&F.isArray(r)?r.length:o,l?(F.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!F.isObject(r[o]))&&(r[o]=[]),n(e,i,r[o],s)&&F.isArray(r[o])&&(r[o]=lH(r[o])),!a)}if(F.isFormData(t)&&F.isFunction(t.entries)){let e={};return F.forEachEntry(t,(i,r)=>{n(aH(i),r,e,0)}),e}return null}var jf=cH;function uH(t,n,e){if(F.isString(t))try{return(n||JSON.parse)(t),F.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(t)}var Hy={transitional:Vf,adapter:["xhr","http","fetch"],transformRequest:[function(n,e){let i=e.getContentType()||"",r=i.indexOf("application/json")>-1,s=F.isObject(n);if(s&&F.isHTMLForm(n)&&(n=new FormData(n)),F.isFormData(n))return r?JSON.stringify(jf(n)):n;if(F.isArrayBuffer(n)||F.isBuffer(n)||F.isStream(n)||F.isFile(n)||F.isBlob(n)||F.isReadableStream(n))return n;if(F.isArrayBufferView(n))return n.buffer;if(F.isURLSearchParams(n))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return $y(n,this.formSerializer).toString();if((a=F.isFileList(n))||i.indexOf("multipart/form-data")>-1){let l=this.env&&this.env.FormData;return os(a?{"files[]":n}:n,l&&new l,this.formSerializer)}}return s||r?(e.setContentType("application/json",!1),uH(n)):n}],transformResponse:[function(n){let e=this.transitional||Hy.transitional,i=e&&e.forcedJSONParsing,r=this.responseType==="json";if(F.isResponse(n)||F.isReadableStream(n))return n;if(n&&F.isString(n)&&(i&&!this.responseType||r)){let o=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(n)}catch(a){if(o)throw a.name==="SyntaxError"?Pe.from(a,Pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xt.classes.FormData,Blob:xt.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],t=>{Hy.headers[t]={}});var Ba=Hy;var dH=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F1=t=>{let n={},e,i,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),e=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!e||n[e]&&dH[e])&&(e==="set-cookie"?n[e]?n[e].push(i):n[e]=[i]:n[e]=n[e]?n[e]+", "+i:i)}),n};var P1=Symbol("internals");function Vc(t){return t&&String(t).trim().toLowerCase()}function Bf(t){return t===!1||t==null?t:F.isArray(t)?t.map(Bf):String(t)}function hH(t){let n=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,i;for(;i=e.exec(t);)n[i[1]]=i[2];return n}var fH=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zy(t,n,e,i,r){if(F.isFunction(i))return i.call(this,n,e);if(r&&(n=e),!!F.isString(n)){if(F.isString(i))return n.indexOf(i)!==-1;if(F.isRegExp(i))return i.test(n)}}function pH(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,e,i)=>e.toUpperCase()+i)}function mH(t,n){let e=F.toCamelCase(" "+n);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+e,{value:function(r,s,o){return this[i].call(this,n,r,s,o)},configurable:!0})})}var Ua=class{constructor(n){n&&this.set(n)}set(n,e,i){let r=this;function s(a,l,c){let u=Vc(l);if(!u)throw new Error("header name must be a non-empty string");let d=F.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=Bf(a))}let o=(a,l)=>F.forEach(a,(c,u)=>s(c,u,l));if(F.isPlainObject(n)||n instanceof this.constructor)o(n,e);else if(F.isString(n)&&(n=n.trim())&&!fH(n))o(F1(n),e);else if(F.isHeaders(n))for(let[a,l]of n.entries())s(l,a,i);else n!=null&&s(e,n,i);return this}get(n,e){if(n=Vc(n),n){let i=F.findKey(this,n);if(i){let r=this[i];if(!e)return r;if(e===!0)return hH(r);if(F.isFunction(e))return e.call(this,r,i);if(F.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,e){if(n=Vc(n),n){let i=F.findKey(this,n);return!!(i&&this[i]!==void 0&&(!e||zy(this,this[i],i,e)))}return!1}delete(n,e){let i=this,r=!1;function s(o){if(o=Vc(o),o){let a=F.findKey(i,o);a&&(!e||zy(i,i[a],a,e))&&(delete i[a],r=!0)}}return F.isArray(n)?n.forEach(s):s(n),r}clear(n){let e=Object.keys(this),i=e.length,r=!1;for(;i--;){let s=e[i];(!n||zy(this,this[s],s,n,!0))&&(delete this[s],r=!0)}return r}normalize(n){let e=this,i={};return F.forEach(this,(r,s)=>{let o=F.findKey(i,s);if(o){e[o]=Bf(r),delete e[s];return}let a=n?pH(s):String(s).trim();a!==s&&delete e[s],e[a]=Bf(r),i[a]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){let e=Object.create(null);return F.forEach(this,(i,r)=>{i!=null&&i!==!1&&(e[r]=n&&F.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,e])=>n+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...e){let i=new this(n);return e.forEach(r=>i.set(r)),i}static accessor(n){let i=(this[P1]=this[P1]={accessors:{}}).accessors,r=this.prototype;function s(o){let a=Vc(o);i[a]||(mH(r,o),i[a]=!0)}return F.isArray(n)?n.forEach(s):s(n),this}};Ua.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(Ua.prototype,({value:t},n)=>{let e=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(i){this[e]=i}}});F.freezeMethods(Ua);var Xt=Ua;function jc(t,n){let e=this||Ba,i=n||e,r=Xt.from(i.headers),s=i.data;return F.forEach(t,function(a){s=a.call(e,s,r.normalize(),n?n.status:void 0)}),r.normalize(),s}function Bc(t){return!!(t&&t.__CANCEL__)}function N1(t,n,e){Pe.call(this,t??"canceled",Pe.ERR_CANCELED,n,e),this.name="CanceledError"}F.inherits(N1,Pe,{__CANCEL__:!0});var ir=N1;function Uc(t,n,e){let i=e.config.validateStatus;!e.status||!i||i(e.status)?t(e):n(new Pe("Request failed with status code "+e.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function qy(t){let n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function gH(t,n){t=t||10;let e=new Array(t),i=new Array(t),r=0,s=0,o;return n=n!==void 0?n:1e3,function(l){let c=Date.now(),u=i[s];o||(o=c),e[r]=l,i[r]=c;let d=s,h=0;for(;d!==r;)h+=e[d++],d=d%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-o<n)return;let f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}var L1=gH;function _H(t,n){let e=0,i=1e3/n,r,s,o=(c,u=Date.now())=>{e=u,r=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{let u=Date.now(),d=u-e;d>=i?o(c,u):(r=c,s||(s=setTimeout(()=>{s=null,o(r)},i-d)))},()=>r&&o(r)]}var V1=_H;var $a=(t,n,e=3)=>{let i=0,r=L1(50,250);return V1(s=>{let o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=r(l),u=o<=a;i=o;let d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[n?"download":"upload"]:!0};t(d)},e)},Wy=(t,n)=>{let e=t!=null;return[i=>n[0]({lengthComputable:e,total:t,loaded:i}),n[1]]},Gy=t=>(...n)=>F.asap(()=>t(...n));var j1=xt.hasStandardBrowserEnv?((t,n)=>e=>(e=new URL(e,xt.origin),t.protocol===e.protocol&&t.host===e.host&&(n||t.port===e.port)))(new URL(xt.origin),xt.navigator&&/(msie|trident)/i.test(xt.navigator.userAgent)):()=>!0;var B1=xt.hasStandardBrowserEnv?{write(t,n,e,i,r,s){let o=[t+"="+encodeURIComponent(n)];F.isNumber(e)&&o.push("expires="+new Date(e).toGMTString()),F.isString(i)&&o.push("path="+i),F.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){let n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Qy(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Yy(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function $c(t,n){return t&&!Qy(n)?Yy(t,n):n}var U1=t=>t instanceof Xt?V({},t):t;function Ii(t,n){n=n||{};let e={};function i(c,u,d,h){return F.isPlainObject(c)&&F.isPlainObject(u)?F.merge.call({caseless:h},c,u):F.isPlainObject(u)?F.merge({},u):F.isArray(u)?u.slice():u}function r(c,u,d,h){if(F.isUndefined(u)){if(!F.isUndefined(c))return i(void 0,c,d,h)}else return i(c,u,d,h)}function s(c,u){if(!F.isUndefined(u))return i(void 0,u)}function o(c,u){if(F.isUndefined(u)){if(!F.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in n)return i(c,u);if(d in t)return i(void 0,c)}let l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>r(U1(c),U1(u),d,!0)};return F.forEach(Object.keys(Object.assign({},t,n)),function(u){let d=l[u]||r,h=d(t[u],n[u],u);F.isUndefined(h)&&d!==a||(e[u]=h)}),e}var Uf=t=>{let n=Ii({},t),{data:e,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=n;n.headers=o=Xt.from(o),n.url=Lc($c(n.baseURL,n.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(F.isFormData(e)){if(xt.hasStandardBrowserEnv||xt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){let[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(xt.hasStandardBrowserEnv&&(i&&F.isFunction(i)&&(i=i(n)),i||i!==!1&&j1(n.url))){let c=r&&s&&B1.read(s);c&&o.set(r,c)}return n};var vH=typeof XMLHttpRequest<"u",$1=vH&&function(t){return new Promise(function(e,i){let r=Uf(t),s=r.data,o=Xt.from(r.headers).normalize(),{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,d,h,f,p;function m(){f&&f(),p&&p(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let _=new XMLHttpRequest;_.open(r.method.toUpperCase(),r.url,!0),_.timeout=r.timeout;function D(){if(!_)return;let S=Xt.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),L={data:!a||a==="text"||a==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:S,config:t,request:_};Uc(function(oe){e(oe),m()},function(oe){i(oe),m()},L),_=null}"onloadend"in _?_.onloadend=D:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(D)},_.onabort=function(){_&&(i(new Pe("Request aborted",Pe.ECONNABORTED,t,_)),_=null)},_.onerror=function(){i(new Pe("Network Error",Pe.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let k=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded",L=r.transitional||Vf;r.timeoutErrorMessage&&(k=r.timeoutErrorMessage),i(new Pe(k,L.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,t,_)),_=null},s===void 0&&o.setContentType(null),"setRequestHeader"in _&&F.forEach(o.toJSON(),function(k,L){_.setRequestHeader(L,k)}),F.isUndefined(r.withCredentials)||(_.withCredentials=!!r.withCredentials),a&&a!=="json"&&(_.responseType=r.responseType),c&&([h,p]=$a(c,!0),_.addEventListener("progress",h)),l&&_.upload&&([d,f]=$a(l),_.upload.addEventListener("progress",d),_.upload.addEventListener("loadend",f)),(r.cancelToken||r.signal)&&(u=S=>{_&&(i(!S||S.type?new ir(null,t,_):S),_.abort(),_=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));let w=qy(r.url);if(w&&xt.protocols.indexOf(w)===-1){i(new Pe("Unsupported protocol "+w+":",Pe.ERR_BAD_REQUEST,t));return}_.send(s||null)})};var yH=(t,n)=>{let{length:e}=t=t?t.filter(Boolean):[];if(n||e){let i=new AbortController,r,s=function(c){if(!r){r=!0,a();let u=c instanceof Error?c:this.reason;i.abort(u instanceof Pe?u:new ir(u instanceof Error?u.message:u))}},o=n&&setTimeout(()=>{o=null,s(new Pe(`timeout ${n} of ms exceeded`,Pe.ETIMEDOUT))},n),a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));let{signal:l}=i;return l.unsubscribe=()=>F.asap(a),l}},H1=yH;var bH=function*(t,n){let e=t.byteLength;if(!n||e<n){yield t;return}let i=0,r;for(;i<e;)r=i+n,yield t.slice(i,r),i=r},CH=function(t,n){return qp(this,null,function*(){try{for(var e=Ub(wH(t)),i,r,s;i=!(r=yield new bs(e.next())).done;i=!1){let o=r.value;yield*Wp(bH(o,n))}}catch{s=[r]}finally{try{i&&(r=e.return)&&(yield new bs(r.call(e)))}finally{if(s)throw s[0]}}})},wH=function(t){return qp(this,null,function*(){if(t[Symbol.asyncIterator]){yield*Wp(t);return}let n=t.getReader();try{for(;;){let{done:e,value:i}=yield new bs(n.read());if(e)break;yield i}}finally{yield new bs(n.cancel())}})},Ky=(t,n,e,i)=>{let r=CH(t,n),s=0,o,a=c=>{o||(o=!0,i&&i(c))};return new ReadableStream({pull(c){return ne(this,null,function*(){try{let{done:u,value:d}=yield r.next();if(u){a(),c.close();return}let h=d.byteLength;if(e){let f=s+=h;e(f)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}})},cancel(c){return a(c),r.return()}},{highWaterMark:2})};var Hf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",q1=Hf&&typeof ReadableStream=="function",DH=Hf&&(typeof TextEncoder=="function"?(t=>n=>t.encode(n))(new TextEncoder):t=>ne(void 0,null,function*(){return new Uint8Array(yield new Response(t).arrayBuffer())})),W1=(t,...n)=>{try{return!!t(...n)}catch{return!1}},EH=q1&&W1(()=>{let t=!1,n=new Request(xt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!n}),z1=64*1024,Zy=q1&&W1(()=>F.isReadableStream(new Response("").body)),$f={stream:Zy&&(t=>t.body)};Hf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!$f[n]&&($f[n]=F.isFunction(t[n])?e=>e[n]():(e,i)=>{throw new Pe(`Response type '${n}' is not supported`,Pe.ERR_NOT_SUPPORT,i)})})})(new Response);var SH=t=>ne(void 0,null,function*(){if(t==null)return 0;if(F.isBlob(t))return t.size;if(F.isSpecCompliantForm(t))return(yield new Request(xt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(F.isArrayBufferView(t)||F.isArrayBuffer(t))return t.byteLength;if(F.isURLSearchParams(t)&&(t=t+""),F.isString(t))return(yield DH(t)).byteLength}),xH=(t,n)=>ne(void 0,null,function*(){let e=F.toFiniteNumber(t.getContentLength());return e??SH(n)}),G1=Hf&&(t=>ne(void 0,null,function*(){let{url:n,method:e,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Uf(t);c=c?(c+"").toLowerCase():"text";let f=H1([r,s&&s.toAbortSignal()],o),p,m=f&&f.unsubscribe&&(()=>{f.unsubscribe()}),_;try{if(l&&EH&&e!=="get"&&e!=="head"&&(_=yield xH(u,i))!==0){let L=new Request(n,{method:"POST",body:i,duplex:"half"}),W;if(F.isFormData(i)&&(W=L.headers.get("content-type"))&&u.setContentType(W),L.body){let[oe,K]=Wy(_,$a(Gy(l)));i=Ky(L.body,z1,oe,K)}}F.isString(d)||(d=d?"include":"omit");let D="credentials"in Request.prototype;p=new Request(n,Se(V({},h),{signal:f,method:e.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:D?d:void 0}));let w=yield fetch(p),S=Zy&&(c==="stream"||c==="response");if(Zy&&(a||S&&m)){let L={};["status","statusText","headers"].forEach(de=>{L[de]=w[de]});let W=F.toFiniteNumber(w.headers.get("content-length")),[oe,K]=a&&Wy(W,$a(Gy(a),!0))||[];w=new Response(Ky(w.body,z1,oe,()=>{K&&K(),m&&m()}),L)}c=c||"text";let k=yield $f[F.findKey($f,c)||"text"](w,t);return!S&&m&&m(),yield new Promise((L,W)=>{Uc(L,W,{data:k,headers:Xt.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:p})})}catch(D){throw m&&m(),D&&D.name==="TypeError"&&/fetch/i.test(D.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,t,p),{cause:D.cause||D}):Pe.from(D,D&&D.code,t,p)}}));var Xy={http:Nf,xhr:$1,fetch:G1};F.forEach(Xy,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});var Q1=t=>`- ${t}`,TH=t=>F.isFunction(t)||t===null||t===!1,zf={getAdapter:t=>{t=F.isArray(t)?t:[t];let{length:n}=t,e,i,r={};for(let s=0;s<n;s++){e=t[s];let o;if(i=e,!TH(e)&&(i=Xy[(o=String(e)).toLowerCase()],i===void 0))throw new Pe(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){let s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build")),o=n?s.length>1?`since :
`+s.map(Q1).join(`
`):" "+Q1(s[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Xy};function Jy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ir(null,t)}function qf(t){return Jy(t),t.headers=Xt.from(t.headers),t.data=jc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),zf.getAdapter(t.adapter||Ba.adapter)(t).then(function(i){return Jy(t),i.data=jc.call(t,t.transformResponse,i),i.headers=Xt.from(i.headers),i},function(i){return Bc(i)||(Jy(t),i&&i.response&&(i.response.data=jc.call(t,t.transformResponse,i.response),i.response.headers=Xt.from(i.response.headers))),Promise.reject(i)})}var Wf="1.7.9";var Gf={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{Gf[t]=function(i){return typeof i===t||"a"+(n<1?"n ":" ")+t}});var Y1={};Gf.transitional=function(n,e,i){function r(s,o){return"[Axios v"+Wf+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(n===!1)throw new Pe(r(o," has been removed"+(e?" in "+e:"")),Pe.ERR_DEPRECATED);return e&&!Y1[o]&&(Y1[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),n?n(s,o,a):!0}};Gf.spelling=function(n){return(e,i)=>(console.warn(`${i} is likely a misspelling of ${n}`),!0)};function IH(t,n,e){if(typeof t!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);let i=Object.keys(t),r=i.length;for(;r-- >0;){let s=i[r],o=n[s];if(o){let a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Pe("option "+s+" must be "+l,Pe.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Pe("Unknown option "+s,Pe.ERR_BAD_OPTION)}}var Hc={assertOptions:IH,validators:Gf};var rr=Hc.validators,Ha=class{constructor(n){this.defaults=n,this.interceptors={request:new Vy,response:new Vy}}request(n,e){return ne(this,null,function*(){try{return yield this._request(n,e)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;let s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}})}_request(n,e){typeof n=="string"?(e=e||{},e.url=n):e=n||{},e=Ii(this.defaults,e);let{transitional:i,paramsSerializer:r,headers:s}=e;i!==void 0&&Hc.assertOptions(i,{silentJSONParsing:rr.transitional(rr.boolean),forcedJSONParsing:rr.transitional(rr.boolean),clarifyTimeoutError:rr.transitional(rr.boolean)},!1),r!=null&&(F.isFunction(r)?e.paramsSerializer={serialize:r}:Hc.assertOptions(r,{encode:rr.function,serialize:rr.function},!0)),Hc.assertOptions(e,{baseUrl:rr.spelling("baseURL"),withXsrfToken:rr.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=s&&F.merge(s.common,s[e.method]);s&&F.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),e.headers=Xt.concat(o,s);let a=[],l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(e)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});let c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,h;if(!l){let p=[qf.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),h=p.length,u=Promise.resolve(e);d<h;)u=u.then(p[d++],p[d++]);return u}h=a.length;let f=e;for(d=0;d<h;){let p=a[d++],m=a[d++];try{f=p(f)}catch(_){m.call(this,_);break}}try{u=qf.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(n){n=Ii(this.defaults,n);let e=$c(n.baseURL,n.url);return Lc(e,n.params,n.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(n){Ha.prototype[n]=function(e,i){return this.request(Ii(i||{},{method:n,url:e,data:(i||{}).data}))}});F.forEach(["post","put","patch"],function(n){function e(i){return function(s,o,a){return this.request(Ii(a||{},{method:n,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ha.prototype[n]=e(),Ha.prototype[n+"Form"]=e(!0)});var zc=Ha;var e0=class t{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(s){e=s});let i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s,o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},n(function(s,o,a){i.reason||(i.reason=new ir(s,o,a),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;let e=this._listeners.indexOf(n);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){let n=new AbortController,e=i=>{n.abort(i)};return this.subscribe(e),n.signal.unsubscribe=()=>this.unsubscribe(e),n.signal}static source(){let n;return{token:new t(function(r){n=r}),cancel:n}}},K1=e0;function t0(t){return function(e){return t.apply(null,e)}}function n0(t){return F.isObject(t)&&t.isAxiosError===!0}var i0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(i0).forEach(([t,n])=>{i0[n]=t});var Z1=i0;function X1(t){let n=new zc(t),e=Fc(zc.prototype.request,n);return F.extend(e,zc.prototype,n,{allOwnKeys:!0}),F.extend(e,n,null,{allOwnKeys:!0}),e.create=function(r){return X1(Ii(t,r))},e}var Bt=X1(Ba);Bt.Axios=zc;Bt.CanceledError=ir;Bt.CancelToken=K1;Bt.isCancel=Bc;Bt.VERSION=Wf;Bt.toFormData=os;Bt.AxiosError=Pe;Bt.Cancel=Bt.CanceledError;Bt.all=function(n){return Promise.all(n)};Bt.spread=t0;Bt.isAxiosError=n0;Bt.mergeConfig=Ii;Bt.AxiosHeaders=Xt;Bt.formToJSON=t=>jf(F.isHTMLForm(t)?new FormData(t):t);Bt.getAdapter=zf.getAdapter;Bt.HttpStatusCode=Z1;Bt.default=Bt;var ao=Bt;var{Axios:pce,AxiosError:mce,CanceledError:gce,isCancel:_ce,CancelToken:vce,VERSION:yce,all:bce,Cancel:Cce,isAxiosError:wce,spread:Dce,toFormData:Ece,AxiosHeaders:Sce,HttpStatusCode:xce,formToJSON:Tce,getAdapter:Ice,mergeConfig:Mce}=ao;function J1(t){if(Array.isArray(t))return t}function eM(t,n){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(e=e.call(t)).next,n===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(i=s.call(e)).done)&&(a.push(i.value),a.length!==n);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function tM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function za(t,n){return J1(t)||eM(t,n)||Rf(t,n)||tM()}var qM=ar(iM()),WM=ar(sM());function Wa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function as(t,n){return as=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},as(t,n)}function oM(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&as(t,n)}function aM(t,n){if(n&&(Zt(n)=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wa(t)}function lo(t){return lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lo(t)}function lM(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function r0(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r0=function(){return!!t})()}function cM(t,n,e){if(r0())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,n);var r=new(t.bind.apply(t,i));return e&&as(r,e.prototype),r}function Qf(t){var n=typeof Map=="function"?new Map:void 0;return Qf=function(i){if(i===null||!lM(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(i))return n.get(i);n.set(i,r)}function r(){return cM(i,arguments,lo(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),as(r,i)},Qf(t)}function h0(t){return typeof t=="string"}function uM(t,n){return!!n&&h0(t)}function MH(t,n){var e=[];if(h0(t)&&uM(t,n)){for(var i=0,r=t.length;i<r;i++)if(t.charAt(i)){var s=t.charAt(i),o=n(s,i,t);e[i]=o}}else if(!h0(t)&&!uM(t,n)){for(var a=0,l=t.length;a<l;a++)if(a in t){var c=t[a],u=n(c,a,t);e[a]=u}}return e}var AH=function(n){return(0,zM.fromByteArray)(new Uint8Array(MH(n,function(e){return e.charCodeAt(0)})))},RH=function(n){var e={},i=String.fromCharCode,r=n.length,s,o=0,a,l,c=0,u,d="",h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0;s<64;s++)e[h.charAt(s)]=s;for(l=0;l<r;l++)for(a=e[n.charAt(l)],o=(o<<6)+a,c+=6;c>=8;)((u=o>>>(c-=8)&255)||l<r-2)&&(d+=i(u));return d},dM=function(){function t(n,e,i){Kt(this,t),C(this,"id",void 0),C(this,"data",void 0),C(this,"client",void 0),this.client=n,this.id=e,this.data=i}return Rn(t,[{key:"create",value:function(){var n=T(g.default.mark(function i(){var r,s,o,a,l,c,u,d,h,f,p;return g.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return f={id:this.id,message_template:(r=this.data)===null||r===void 0?void 0:r.message_template,segment_ids:(s=this.data)===null||s===void 0?void 0:s.segment_ids,sender_id:(o=this.data)===null||o===void 0?void 0:o.sender_id,sender_mode:(a=this.data)===null||a===void 0?void 0:a.sender_mode,channel_template:(l=this.data)===null||l===void 0?void 0:l.channel_template,create_channels:(c=this.data)===null||c===void 0?void 0:c.create_channels,description:(u=this.data)===null||u===void 0?void 0:u.description,name:(d=this.data)===null||d===void 0?void 0:d.name,user_ids:(h=this.data)===null||h===void 0?void 0:h.user_ids},_.next=3,this.client.createCampaign(f);case 3:return p=_.sent,this.id=p.campaign.id,this.data=p.campaign,_.abrupt("return",p);case 7:case"end":return _.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"verifyCampaignId",value:function(){if(!this.id)throw new Error("Campaign id is missing. Either create the campaign using campaign.create() or set the id during instantiation - const campaign = client.campaign(id)")}},{key:"start",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.verifyCampaignId(),o.next=3,this.client.startCampaign(this.id,r);case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"update",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.verifyCampaignId(),o.abrupt("return",this.client.updateCampaign(this.id,r));case 2:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"delete",value:function(){var n=T(g.default.mark(function i(){return g.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.verifyCampaignId(),s.next=3,this.client.deleteCampaign(this.id);case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"stop",value:function(){var n=T(g.default.mark(function i(){return g.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.verifyCampaignId(),s.abrupt("return",this.client.stopCampaign(this.id));case 2:case"end":return s.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"get",value:function(){var n=T(g.default.mark(function i(){return g.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.verifyCampaignId(),s.abrupt("return",this.client.getCampaign(this.id));case 2:case"end":return s.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()}]),t}(),OH=null;function hM(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function Yc(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?hM(Object(e),!0).forEach(function(i){C(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):hM(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}function kH(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=FH(t))||n&&t&&typeof t.length=="number"){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(l){function c(u){return l.apply(this,arguments)}return c.toString=function(){return l.toString()},c}(function(l){throw l}),f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){e=e.call(t)},n:function(){var c=e.next();return s=c.done,c},e:function(l){function c(u){return l.apply(this,arguments)}return c.toString=function(){return l.toString()},c}(function(l){o=!0,a=l}),f:function(){try{!s&&e.return!=null&&e.return()}finally{if(o)throw a}}}}function FH(t,n){if(t){if(typeof t=="string")return fM(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return fM(t,n)}}function fM(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function PH(t,n){t.then().catch(function(e){console.warn("failed to do ".concat(n,", ran into error: "),e)})}var ho=function(n){return new Promise(function(e){return setTimeout(e,n)})};function f0(t){return t&&(Object.prototype.toString.call(t)==="[object Function]"||typeof t=="function"||t instanceof Function)}var Gc={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3};function NH(t){return t!==null&&Zt(t)==="object"&&(t.readable||typeof t._read=="function")}function LH(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function VH(t){return typeof window<"u"&&"File"in window&&t instanceof File}function jH(t){return typeof window<"u"&&"Blob"in window&&t instanceof Blob}function BH(t){var n={channel_mutes:!0,devices:!0,mutes:!0,total_unread_count:!0,unread_channels:!0,unread_count:!0,unread_threads:!0,invisible:!0,privacy_settings:!0,roles:!0,push_preferences:!0};return n[t]}function UH(t,n,e){var i=new qM.default;return NH(t)||LH(t)||VH(t)||jH(t)?n?i.append("file",t,n):i.append("file",t):i.append("file",{uri:t,name:n||t.split("/").reverse()[0],contentType:e||void 0,type:e||void 0}),i}function On(t){var n=[],e=Array.isArray(t)?t:[t],i=kH(e),r;try{for(i.s();!(r=i.n()).done;){var s=r.value,o=Object.entries(s);o.length>1&&console.warn("client._buildSort() - multiple fields in a single sort object detected. Object's field order is not guaranteed");for(var a=0,l=o;a<l.length;a++){var c=za(l[a],2),u=c[0],d=c[1];n.push({field:u,direction:d})}}}catch(h){i.e(h)}finally{i.f()}return n}function Kf(t){var n=Math.min(500+t*2e3,25e3),e=Math.min(Math.max(250,(t-1)*2e3),25e3);return Math.floor(Math.random()*(n-e)+e)}function Qa(){return $H()}function qc(t){for(var n="",e=0;e<t.length;e++)n+=t[e].toString(16).padStart(2,"0");return n}function $H(){var t=qH(16);return t[6]=t[6]&15|64,t[8]=t[8]&191|128,qc(t.subarray(0,4))+"-"+qc(t.subarray(4,6))+"-"+qc(t.subarray(6,8))+"-"+qc(t.subarray(8,10))+"-"+qc(t.subarray(10,16))}function HH(t){for(var n=Math.pow(2,8*t.byteLength/t.length),e=0;e<t.length;e++)t[e]=Math.random()*n}var zH=function(){var t;return typeof crypto<"u"&&typeof((t=crypto)===null||t===void 0?void 0:t.getRandomValues)<"u"?crypto.getRandomValues.bind(crypto):typeof msCrypto<"u"?msCrypto.getRandomValues.bind(msCrypto):HH}();function qH(t){var n=new Uint8Array(t);return zH(n),n}function WH(t){var n={};if(!t)return n;try{Object.getOwnPropertyNames(t).forEach(function(e){n[e]=Object.getOwnPropertyDescriptor(t,e)})}catch{return{error:"failed to serialize the error"}}return n}function GH(){var t=typeof navigator<"u"?navigator:typeof window<"u"&&window.navigator?window.navigator:void 0;return t?typeof t.onLine!="boolean"?!0:t.onLine:(console.warn("isOnline failed to access window.navigator and assume browser is online"),!0)}function GM(t){typeof window<"u"&&window.addEventListener&&(window.addEventListener("offline",t),window.addEventListener("online",t))}function QM(t){typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("offline",t),window.removeEventListener("online",t))}var QH=function(n){var e=[];for(var i in n)n[i]!==void 0&&(Array.isArray(n[i])||Zt(n[i])==="object"?e.push("".concat(i,"=").concat(encodeURIComponent(JSON.stringify(n[i])))):e.push("".concat(i,"=").concat(encodeURIComponent(n[i]))));return e.join("&")};function ls(t){return Yc(Yc({},t),{},{__html:t.html,pinned_at:t.pinned_at?new Date(t.pinned_at):null,created_at:t.created_at?new Date(t.created_at):new Date,updated_at:t.updated_at?new Date(t.updated_at):new Date,deleted_at:t.deleted_at?new Date(t.deleted_at):null,status:t.status||"received",reaction_groups:YH(t.reaction_groups,t.reaction_counts,t.reaction_scores)})}var YM=function(n){var e=n.needle,i=n.sortedArray,r=n.selectKey,s=n.selectValueToCompare,o=s===void 0?function(w){return w}:s,a=n.sortDirection,l=a===void 0?"ascending":a;if(!i.length)return 0;for(var c=0,u=i.length-1,d=0,h=function(){d=Math.round((c+u)/2)},f=o(e);c<=u;){h();var p=o(i[d]);l==="ascending"&&f<p||l==="descending"&&f>=p?u=d-1:c=d+1}if(r){for(var m=r(e),_=l==="ascending"?-1:1,D=c+_;0<=D&&D<i.length&&o(i[D])===f;D+=_)if(r(i[D])===m)return D}return c};function KM(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"created_at",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=r||e,o=St(t);if(e&&(o=o.filter(function(u){return!(u.id&&n.id===u.id)})),o.length===0&&s)return o.concat(n);if(o.length===0)return o;var a=n[i].getTime(),l=o.at(-1)[i].getTime()<a;if(l&&s)return o.concat(n);if(l)return o;var c=YM({needle:n,sortedArray:o,sortDirection:"ascending",selectValueToCompare:function(d){return d[i].getTime()},selectKey:function(d){return d.id}});return!e&&n.id&&o[c]&&n.id===o[c].id?(o[c]=n,o):(s&&o.splice(c,0,n),o)}function YH(t,n,e){if(t)return t;if(n&&e){for(var i={},r=0,s=Object.keys(n);r<s.length;r++){var o=s[r];i[o]={count:n[o],sum_scores:e[o]}}return i}return null}var ZM=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.leading,s=r===void 0?!0:r,o=i.trailing,a=o===void 0?!1:o,l=null,c=null;return function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];if(l){a&&(c=d);return}s&&n.apply(void 0,d);var f=function p(){if(c){n.apply(void 0,St(c)),c=null,l=setTimeout(p,e);return}l=null};l=setTimeout(f,e)}};function KH(t,n){for(var e=0,i=t.length-1;e<=i;){var r=Math.floor((e+i)/2),s=t[r].created_at;if(!s){e+=1;continue}var o=new Date(s);if(o.getTime()===n.getTime())return r;o.getTime()<n.getTime()?e=r+1:i=r-1}return e}var ZH=function(n){var e=n.parentSet,i=n.requestedPageSize,r=n.returnedPage,s=n.messagePaginationOptions,o=Yc({},e.pagination);if(!(s!=null&&s.created_at_around))return o;var a,l,c,u,d=new Date(s.created_at_around),h=[r[0],r.slice(-1)[0]],f=h[0],p=h[1],m=!!(f!=null&&f.created_at)&&new Date(f.created_at)>d,_=!!(p!=null&&p.created_at)&&new Date(p.created_at)<d,D=i>e.messages.length&&i>r.length,w=(i>e.messages.length||e.messages.length>=r.length)&&i>r.length;if(m)a=!1,c=!0,D&&(l=!1,u=!0);else if(_)l=!1,u=!0,D&&(a=!1,c=!0);else if(w)l=a=!1,c=u=!0;else{var S,k,L=f?.id&&f.id===((S=e.messages[0])===null||S===void 0?void 0:S.id),W=p?.id&&p.id===((k=e.messages.slice(-1)[0])===null||k===void 0?void 0:k.id);c=L,u=W;var oe=Math.floor(r.length/2),K=KH(r,d);K!==-1&&(a=oe<=K,l=oe>=K)}return c&&typeof a<"u"&&(o.hasPrev=a),u&&typeof l<"u"&&(o.hasNext=l),o},XH=function(n){var e,i,r=n.parentSet,s=n.requestedPageSize,o=n.returnedPage,a=n.messagePaginationOptions,l=Yc({},r.pagination),c=a||{},u=c.id_around;if(!u)return l;var d,h,f=[o[0],o.slice(-1)[0]],p=f[0],m=f[1],_=p?.id===((e=r.messages[0])===null||e===void 0?void 0:e.id),D=m?.id===((i=r.messages.slice(-1)[0])===null||i===void 0?void 0:i.id),w=_,S=D,k=Math.floor(o.length/2),L=(s>r.messages.length||r.messages.length>=o.length)&&s>o.length;if(L)h=d=!1,w=S=!0;else if(o[k])if(o[k].id===u)d=h=!0;else{var W,oe=[o.slice(0,k),o.slice(k)];d=h=!0;for(var K=0;K<oe.length;K++)W=oe[K].find(function(de){return de.id===u}),W&&K===0&&(d=!1),W&&K===1&&(h=!1)}else return l;return w&&typeof d<"u"&&(l.hasPrev=d),S&&typeof h<"u"&&(l.hasNext=h),l},JH=function(n){var e,i,r=n.parentSet,s=n.requestedPageSize,o=n.returnedPage,a=n.messagePaginationOptions,l=Yc({},r.pagination),c,u,d=[o[0],o.slice(-1)[0]],h=d[0],f=d[1],p=h?.id&&h.id===((e=r.messages[0])===null||e===void 0?void 0:e.id),m=f?.id&&f.id===((i=r.messages.slice(-1)[0])===null||i===void 0?void 0:i.id),_=a&&(a.created_at_after_or_equal||a.created_at_after||a.id_gt||a.id_gte),D=typeof a>"u"?!0:a.created_at_before_or_equal||a.created_at_before||a.id_lt||a.id_lte||a.offset,w=!_&&!D&&!(a!=null&&a.id_around)&&!(a!=null&&a.created_at_around),S=o.length>=s;(typeof D<"u"||w)&&(c=S),typeof _<"u"&&(u=S);var k=o.length===0;return(p||k)&&typeof c<"u"&&(l.hasPrev=c),(m||k)&&typeof u<"u"&&(l.hasNext=u),l},XM=function(n){var e,i;if(n.parentSet.messages.length<n.returnedPage.length){var r;return(r=n.logger)===null||r===void 0||r.call(n,"error","Corrupted message set state: parent set size < returned page size"),n.parentSet.pagination}return(e=n.messagePaginationOptions)!==null&&e!==void 0&&e.created_at_around?ZH(n):(i=n.messagePaginationOptions)!==null&&i!==void 0&&i.id_around?XH(n):JH(n)},e8=25,t8=100,s0={hasNext:!1,hasPrev:!1};function pM(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function sr(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?pM(Object(e),!0).forEach(function(i){C(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):pM(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}var n8=function(){function t(n){var e=this,i;Kt(this,t),C(this,"_channel",void 0),C(this,"watcher_count",void 0),C(this,"typing",void 0),C(this,"read",void 0),C(this,"pinnedMessages",void 0),C(this,"pending_messages",void 0),C(this,"threads",void 0),C(this,"mutedUsers",void 0),C(this,"watchers",void 0),C(this,"members",void 0),C(this,"unreadCount",void 0),C(this,"membership",void 0),C(this,"last_message_at",void 0),C(this,"isUpToDate",void 0),C(this,"messageSets",[]),C(this,"formatMessage",function(r){return ls(r)}),C(this,"setIsUpToDate",function(r){e.isUpToDate=r}),C(this,"removeMessageFromArray",function(r,s){var o=r.filter(function(a){return!(a.id&&s.id&&a.id===s.id)});return{removed:o.length<r.length,result:o}}),C(this,"updateUserMessages",function(r){var s=function(l,c){for(var u=0;u<l.length;u++){var d,h=l[u];((d=h.user)===null||d===void 0?void 0:d.id)===c.id&&(l[u]=sr(sr({},h),{},{user:c}))}};e.messageSets.forEach(function(a){return s(a.messages,r)});for(var o in e.threads)s(e.threads[o],r);s(e.pinnedMessages,r)}),C(this,"deleteUserMessages",function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=function(c,u){for(var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=0;h<c.length;h++){var f,p=c[h];((f=p.user)===null||f===void 0?void 0:f.id)===u.id&&(d?c[h]={cid:p.cid,created_at:p.created_at,deleted_at:u.deleted_at,id:p.id,latest_reactions:[],mentioned_users:[],own_reactions:[],parent_id:p.parent_id,reply_count:p.reply_count,status:p.status,thread_participants:p.thread_participants,type:"deleted",updated_at:p.updated_at,user:p.user}:c[h]=sr(sr({},p),{},{type:"deleted",deleted_at:u.deleted_at?new Date(u.deleted_at):null}))}};e.messageSets.forEach(function(l){return o(l.messages,r,s)});for(var a in e.threads)o(e.threads[a],r,s);o(e.pinnedMessages,r,s)}),this._channel=n,this.watcher_count=0,this.typing={},this.read={},this.initMessages(),this.pinnedMessages=[],this.pending_messages=[],this.threads={},this.mutedUsers=[],this.watchers={},this.members={},this.membership={},this.unreadCount=0,this.isUpToDate=!0,this.last_message_at=(n==null||(i=n.state)===null||i===void 0?void 0:i.last_message_at)!=null?new Date(n.state.last_message_at):null}return Rn(t,[{key:"messages",get:function(){var e;return((e=this.messageSets.find(function(i){return i.isCurrent}))===null||e===void 0?void 0:e.messages)||[]},set:function(e){var i=this.messageSets.findIndex(function(r){return r.isCurrent});this.messageSets[i].messages=e}},{key:"latestMessages",get:function(){var e;return((e=this.messageSets.find(function(i){return i.isLatest}))===null||e===void 0?void 0:e.messages)||[]},set:function(e){var i=this.messageSets.findIndex(function(r){return r.isLatest});this.messageSets[i].messages=e}},{key:"messagePagination",get:function(){var e;return((e=this.messageSets.find(function(i){return i.isCurrent}))===null||e===void 0?void 0:e.pagination)||s0}},{key:"addMessageSorted",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"latest";return this.addMessagesSorted([e],i,!1,r,s)}},{key:"addMessagesSorted",value:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"current",a=this.findTargetMessageSet(e,s,o),l=a.messagesToAdd,c=a.targetMessageSetIndex,u=0;u<l.length;u+=1){var d=l[u].shadowed;if(!d){var h=l[u].created_at instanceof Date,f=void 0;if(h)f=l[u];else{var p;f=this.formatMessage(l[u]),f.user&&(p=this._channel)!==null&&p!==void 0&&p.cid&&this._channel.getClient().state.updateUserReference(f.user,this._channel.cid),r&&f.id&&this.threads[f.id]&&delete this.threads[f.id],this.last_message_at||(this.last_message_at=new Date(f.created_at.getTime())),f.created_at.getTime()>this.last_message_at.getTime()&&(this.last_message_at=new Date(f.created_at.getTime()))}var m=f.parent_id;if((!m||f.show_in_channel)&&c!==-1&&(this.messageSets[c].messages=this._addToMessageList(this.messageSets[c].messages,f,i,"created_at",s)),m&&!r){var _=this.threads[m]||[];this.threads[m]=this._addToMessageList(_,f,i,"created_at",s)}}}return{messageSet:this.messageSets[c]}}},{key:"addPinnedMessages",value:function(e){for(var i=0;i<e.length;i+=1)this.addPinnedMessage(e[i])}},{key:"addPinnedMessage",value:function(e){this.pinnedMessages=this._addToMessageList(this.pinnedMessages,this.formatMessage(e),!1,"pinned_at")}},{key:"removePinnedMessage",value:function(e){var i=this.removeMessageFromArray(this.pinnedMessages,e),r=i.result;this.pinnedMessages=r}},{key:"addReaction",value:function(e,i,r){var s=this;if(i){var o=i;return this._updateMessage(i,function(a){return o.own_reactions=s._addOwnReactionToMessage(a.own_reactions,e,r),s.formatMessage(o)}),o}}},{key:"_addOwnReactionToMessage",value:function(e,i,r){return r?e=[]:e=this._removeOwnReactionFromMessage(e,i),e=e||[],this._channel.getClient().userID===i.user_id&&e.push(i),e}},{key:"_removeOwnReactionFromMessage",value:function(e,i){return e&&e.filter(function(r){return r.user_id!==i.user_id||r.type!==i.type})}},{key:"removeReaction",value:function(e,i){var r=this;if(i){var s=i;return this._updateMessage(i,function(o){return s.own_reactions=r._removeOwnReactionFromMessage(o.own_reactions,e),r.formatMessage(s)}),s}}},{key:"_updateQuotedMessageReferences",value:function(e){var i=this,r=e.message,s=e.remove,o=function(c){var u,d;return sr(sr({},c),{},{created_at:c.created_at.toISOString(),pinned_at:(u=c.pinned_at)===null||u===void 0?void 0:u.toISOString(),updated_at:(d=c.updated_at)===null||d===void 0?void 0:d.toISOString()})},a=function(c){var u=c.reduce(function(d,h){return h.quoted_message_id===r.id&&d.push(sr(sr({},o(h)),{},{quoted_message:s?sr(sr({},r),{},{attachments:[]}):r})),d},[]);i.addMessagesSorted(u,!0)};r.parent_id?r.parent_id&&this.threads[r.parent_id]&&a(this.threads[r.parent_id]):this.messageSets.forEach(function(l){return a(l.messages)})}},{key:"removeQuotedMessageReferences",value:function(e){this._updateQuotedMessageReferences({message:e,remove:!0})}},{key:"_updateMessage",value:function(e,i){var r=e.parent_id,s=e.show_in_channel,o=e.pinned;if(r&&this.threads[r]){var a=this.threads[r],l=a.findIndex(function(h){return h.id===e.id});l!==-1&&(a[l]=i(a[l]),this.threads[r]=a)}if(!s&&!r||s){var c=this.findMessageSetIndex(e);if(c!==-1){var u=this.messageSets[c].messages.findIndex(function(h){return h.id===e.id});u!==-1&&(this.messageSets[c].messages[u]=i(this.messageSets[c].messages[u]))}}if(o){var d=this.pinnedMessages.findIndex(function(h){return h.id===e.id});d!==-1&&(this.pinnedMessages[d]=i(this.pinnedMessages[d]))}}},{key:"_addToMessageList",value:function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"created_at",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return KM(e,i,r,s,o)}},{key:"removeMessage",value:function(e){var i=!1;if(e.parent_id&&this.threads[e.parent_id]){var r=this.removeMessageFromArray(this.threads[e.parent_id],e),s=r.removed,o=r.result;this.threads[e.parent_id]=o,i=s}else{var a,l=(a=e.messageSetIndex)!==null&&a!==void 0?a:this.findMessageSetIndex(e);if(l!==-1){var c=this.removeMessageFromArray(this.messageSets[l].messages,e),u=c.removed,d=c.result;this.messageSets[l].messages=d,i=u}}return i}},{key:"filterErrorMessages",value:function(){var e=this.latestMessages.filter(function(i){return i.type!=="error"});this.latestMessages=e}},{key:"clean",value:function(){for(var e=new Date,i=0,r=Object.entries(this.typing);i<r.length;i++){var s=za(r[i],2),o=s[0],a=s[1],l=typeof a.received_at=="string"?new Date(a.received_at):a.received_at||new Date;e.getTime()-l.getTime()>7e3&&(delete this.typing[o],this._channel.getClient().dispatchEvent({cid:this._channel.cid,type:"typing.stop",user:{id:o}}))}}},{key:"clearMessages",value:function(){this.initMessages(),this.pinnedMessages=[]}},{key:"initMessages",value:function(){this.messageSets=[{messages:[],isLatest:!0,isCurrent:!0,pagination:s0}]}},{key:"loadMessageIntoState",value:function(){var n=T(g.default.mark(function i(r,s){var o,a,l,c,u,d,h=arguments;return g.default.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(a=h.length>2&&h[2]!==void 0?h[2]:25,c=!1,u=!1,d=s||r,r!=="latest"){p.next=10;break}if(this.messages!==this.latestMessages){p.next=7;break}return p.abrupt("return");case 7:l=this.messageSets.findIndex(function(m){return m.isLatest}),p.next=11;break;case 10:l=this.findMessageSetIndex({id:d});case 11:if(l!==-1&&(this.switchToMessageSet(l),c=!0),u=!s||!!((o=this.threads[s])!==null&&o!==void 0&&o.find(function(m){return m.id===r})),!(c&&u)){p.next=15;break}return p.abrupt("return");case 15:if(c){p.next=18;break}return p.next=18,this._channel.query({messages:{id_around:d,limit:a}},"new");case 18:if(!(!u&&s)){p.next=21;break}return p.next=21,this._channel.getReplies(s,{id_around:r,limit:a});case 21:l=this.findMessageSetIndex({id:d}),l!==-1&&this.switchToMessageSet(l);case 23:case"end":return p.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"findMessage",value:function(e,i){if(i){var r=this.threads[i];return r?r.find(function(o){return o.id===e}):void 0}var s=this.findMessageSetIndex({id:e});if(s!==-1)return this.messageSets[s].messages.find(function(o){return o.id===e})}},{key:"switchToMessageSet",value:function(e){var i=this.messageSets.find(function(r){return r.isCurrent});i&&(i.isCurrent=!1,this.messageSets[e].isCurrent=!0)}},{key:"areMessageSetsOverlap",value:function(e,i){return e.some(function(r){return i.find(function(s){return r.id===s.id})})}},{key:"findMessageSetIndex",value:function(e){return this.messageSets.findIndex(function(i){return!!i.messages.find(function(r){return r.id===e.id})})}},{key:"findTargetMessageSet",value:function(e){var i=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"current",o=e,a;if(r){var l=this.messageSets.map(function(p,m){return m}).filter(function(p){return i.areMessageSetsOverlap(i.messageSets[p].messages,e)});switch(s){case"new":l.length>0?a=l[0]:e.some(function(p){return!p.parent_id})&&(this.messageSets.push({messages:[],isCurrent:!1,isLatest:!1,pagination:s0}),a=this.messageSets.length-1);break;case"current":a=this.messageSets.findIndex(function(p){return p.isCurrent});break;case"latest":a=this.messageSets.findIndex(function(p){return p.isLatest});break;default:a=-1}var c=l.splice(0,1)[0],u=St(l);if(c!==void 0&&c!==a&&u.push(a),u.length>0){var d=this.messageSets[c],h=this.messageSets.filter(function(p,m){return u.indexOf(m)!==-1});h.forEach(function(p){d.isLatest=d.isLatest||p.isLatest,d.isCurrent=d.isCurrent||p.isCurrent,d.pagination.hasPrev=p.messages[0].created_at<d.messages[0].created_at?p.pagination.hasPrev:d.pagination.hasPrev,d.pagination.hasNext=d.messages.slice(-1)[0].created_at<p.messages.slice(-1)[0].created_at?p.pagination.hasNext:d.pagination.hasNext,o=[].concat(St(o),St(p.messages))}),h.forEach(function(p){return i.messageSets.splice(i.messageSets.indexOf(p),1)});var f=this.messageSets.findIndex(function(p){return i.areMessageSetsOverlap(p.messages,e)});a=f}}else a=this.findMessageSetIndex(e[0]);return{targetMessageSetIndex:a,messagesToAdd:o}}}]),t}();function o0(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=i8(t))||n&&t&&typeof t.length=="number"){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){e=e.call(t)},n:function(){var c=e.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(o)throw a}}}}function i8(t,n){if(t){if(typeof t=="string")return mM(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return mM(t,n)}}function mM(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function gM(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function we(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?gM(Object(e),!0).forEach(function(i){C(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):gM(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}var a0=function(){function t(n,e,i,r){var s=this;Kt(this,t),C(this,"_client",void 0),C(this,"type",void 0),C(this,"id",void 0),C(this,"data",void 0),C(this,"_data",void 0),C(this,"cid",void 0),C(this,"listeners",void 0),C(this,"state",void 0),C(this,"initialized",void 0),C(this,"offlineMode",void 0),C(this,"lastKeyStroke",void 0),C(this,"lastTypingEvent",void 0),C(this,"isTyping",void 0),C(this,"disconnected",void 0),C(this,"push_preferences",void 0),C(this,"create",function(){var l=T(g.default.mark(function c(u){var d;return g.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return d=we(we({},u),{},{watch:!1,state:!1,presence:!1}),f.next=3,s.query(d,"latest");case 3:return f.abrupt("return",f.sent);case 4:case"end":return f.stop()}},c)}));return function(c){return l.apply(this,arguments)}}()),C(this,"_callChannelListeners",function(l){var c=s,u=[];c.listeners.all&&u.push.apply(u,St(c.listeners.all)),c.listeners[l.type]&&u.push.apply(u,St(c.listeners[l.type]));for(var d=0,h=u;d<h.length;d++){var f=h[d];typeof f!="string"&&f(l)}}),C(this,"_channelURL",function(){if(!s.id)throw new Error("channel id is not defined");return"".concat(s.getClient().baseURL,"/channels/").concat(encodeURIComponent(s.type),"/").concat(encodeURIComponent(s.id))});var o=/^[\w_-]+$/,a=/^[\w!_-]+$/;if(!o.test(e))throw new Error("Invalid chat type ".concat(e,', letters, numbers and "_-" are allowed'));if(typeof i=="string"&&!a.test(i))throw new Error("Invalid chat id ".concat(i,', letters, numbers and "!-_" are allowed'));this._client=n,this.type=e,this.id=i,this.data=r,this._data=we({},r),this.cid="".concat(e,":").concat(i),this.listeners={},this.state=new n8(this),this.initialized=!1,this.offlineMode=!1,this.lastTypingEvent=null,this.isTyping=!1,this.disconnected=!1}return Rn(t,[{key:"getClient",value:function(){if(this.disconnected===!0)throw Error("You can't use a channel after client.disconnect() was called");return this._client}},{key:"getConfig",value:function(){var e=this.getClient();return e.configs[this.cid]}},{key:"sendMessage",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getClient().post(this._channelURL()+"/message",we({message:r},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"sendFile",value:function(e,i,r,s){return this.getClient().sendFile("".concat(this._channelURL(),"/file"),e,i,r,s)}},{key:"sendImage",value:function(e,i,r,s){return this.getClient().sendFile("".concat(this._channelURL(),"/image"),e,i,r,s)}},{key:"deleteFile",value:function(e){return this.getClient().delete("".concat(this._channelURL(),"/file"),{url:e})}},{key:"deleteImage",value:function(e){return this.getClient().delete("".concat(this._channelURL(),"/image"),{url:e})}},{key:"sendEvent",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this._checkInitialized(),o.next=3,this.getClient().post(this._channelURL()+"/event",{event:r});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"search",value:function(){var n=T(g.default.mark(function i(r){var s,o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(s=a.length>1&&a[1]!==void 0?a[1]:{},!(s.offset&&s.next)){c.next=3;break}throw Error("Cannot specify offset with next");case 3:if(o=we(we({filter_conditions:{cid:this.cid}},s),{},{sort:s.sort?On(s.sort):void 0}),typeof r!="string"){c.next=8;break}o.query=r,c.next=13;break;case 8:if(Zt(r)!=="object"){c.next=12;break}o.message_filter_conditions=r,c.next=13;break;case 12:throw Error("Invalid type ".concat(Zt(r)," for query parameter"));case 13:return c.next=15,this.getClient().wsPromise;case 15:return c.next=17,this.getClient().get(this.getClient().baseURL+"/search",{payload:o});case 17:return c.abrupt("return",c.sent);case 18:case"end":return c.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"queryMembers",value:function(){var n=T(g.default.mark(function i(r){var s,o,a,l,c,u,d=arguments;return g.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return o=d.length>1&&d[1]!==void 0?d[1]:[],a=d.length>2&&d[2]!==void 0?d[2]:{},c=this.type,this.id?l=this.id:(s=this.data)!==null&&s!==void 0&&s.members&&Array.isArray(this.data.members)&&(u=this.data.members),f.next=6,this.getClient().get(this.getClient().baseURL+"/members",{payload:we({type:c,id:l,members:u,sort:On(o),filter_conditions:r},a)});case 6:return f.abrupt("return",f.sent);case 7:case"end":return f.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"partialUpdateMember",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r){a.next=2;break}throw Error("Please specify the user id");case 2:return a.next=4,this.getClient().patch(this._channelURL()+"/member/".concat(encodeURIComponent(r)),s);case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"sendReaction",value:function(){var n=T(g.default.mark(function i(r,s,o){return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(r){l.next=2;break}throw Error("Message id is missing");case 2:if(!(!s||Object.keys(s).length===0)){l.next=4;break}throw Error("Reaction object is missing");case 4:return l.next=6,this.getClient().post(this.getClient().baseURL+"/messages/".concat(encodeURIComponent(r),"/reaction"),we({reaction:s},o));case 6:return l.abrupt("return",l.sent);case 7:case"end":return l.stop()}},i,this)}));function e(i,r,s){return n.apply(this,arguments)}return e}()},{key:"deleteReaction",value:function(e,i,r){if(this._checkInitialized(),!i||!e)throw Error("Deleting a reaction requires specifying both the message and reaction type");var s=this.getClient().baseURL+"/messages/".concat(encodeURIComponent(e),"/reaction/").concat(encodeURIComponent(i));return r?this.getClient().delete(s,{user_id:r}):this.getClient().delete(s,{})}},{key:"update",value:function(){var n=T(g.default.mark(function i(){var r,s,o,a,l=arguments;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r=l.length>0&&l[0]!==void 0?l[0]:{},s=l.length>1?l[1]:void 0,o=l.length>2?l[2]:void 0,a=["config","cid","created_by","id","member_count","type","created_at","updated_at","last_message_at","own_capabilities"],a.forEach(function(d){delete r[d]}),u.next=7,this._update(we({message:s,data:r},o));case 7:return u.abrupt("return",u.sent);case 8:case"end":return u.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"updatePartial",value:function(){var n=T(g.default.mark(function i(r){var s,o,a,l;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.getClient().patch(this._channelURL(),r);case 2:return a=u.sent,l=St(a.channel.own_capabilities||[]).sort().join()!==St(Array.isArray((s=this.data)===null||s===void 0?void 0:s.own_capabilities)?(o=this.data)===null||o===void 0?void 0:o.own_capabilities:[]).sort().join(),this.data=a.channel,l&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:a.channel.own_capabilities}),u.abrupt("return",a);case 7:case"end":return u.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"enableSlowMode",value:function(){var n=T(g.default.mark(function i(r){var s;return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getClient().post(this._channelURL(),{cooldown:r});case 2:return s=a.sent,this.data=s.channel,a.abrupt("return",s);case 5:case"end":return a.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"disableSlowMode",value:function(){var n=T(g.default.mark(function i(){var r;return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getClient().post(this._channelURL(),{cooldown:0});case 2:return r=o.sent,this.data=r.channel,o.abrupt("return",r);case 5:case"end":return o.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"delete",value:function(){var n=T(g.default.mark(function i(){var r,s=arguments;return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=s.length>0&&s[0]!==void 0?s[0]:{},a.next=3,this.getClient().delete(this._channelURL(),we({},r));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"truncate",value:function(){var n=T(g.default.mark(function i(){var r,s=arguments;return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=s.length>0&&s[0]!==void 0?s[0]:{},a.next=3,this.getClient().post(this._channelURL()+"/truncate",r);case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"acceptInvite",value:function(){var n=T(g.default.mark(function i(){var r,s=arguments;return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=s.length>0&&s[0]!==void 0?s[0]:{},a.next=3,this._update(we({accept_invite:!0},r));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"rejectInvite",value:function(){var n=T(g.default.mark(function i(){var r,s=arguments;return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=s.length>0&&s[0]!==void 0?s[0]:{},a.next=3,this._update(we({reject_invite:!0},r));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"addMembers",value:function(){var n=T(g.default.mark(function i(r,s){var o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.length>2&&a[2]!==void 0?a[2]:{},c.next=3,this._update(we({add_members:r,message:s},o));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"addModerators",value:function(){var n=T(g.default.mark(function i(r,s){var o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.length>2&&a[2]!==void 0?a[2]:{},c.next=3,this._update(we({add_moderators:r,message:s},o));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"assignRoles",value:function(){var n=T(g.default.mark(function i(r,s){var o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.length>2&&a[2]!==void 0?a[2]:{},c.next=3,this._update(we({assign_roles:r,message:s},o));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"inviteMembers",value:function(){var n=T(g.default.mark(function i(r,s){var o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.length>2&&a[2]!==void 0?a[2]:{},c.next=3,this._update(we({invites:r,message:s},o));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"removeMembers",value:function(){var n=T(g.default.mark(function i(r,s){var o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.length>2&&a[2]!==void 0?a[2]:{},c.next=3,this._update(we({remove_members:r,message:s},o));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"demoteModerators",value:function(){var n=T(g.default.mark(function i(r,s){var o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.length>2&&a[2]!==void 0?a[2]:{},c.next=3,this._update(we({demote_moderators:r,message:s},o));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"_update",value:function(){var n=T(g.default.mark(function i(r){var s;return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getClient().post(this._channelURL(),r);case 2:return s=a.sent,this.data=s.channel,a.abrupt("return",s);case 5:case"end":return a.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"mute",value:function(){var n=T(g.default.mark(function i(){var r,s=arguments;return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=s.length>0&&s[0]!==void 0?s[0]:{},a.next=3,this.getClient().post(this.getClient().baseURL+"/moderation/mute/channel",we({channel_cid:this.cid},r));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"unmute",value:function(){var n=T(g.default.mark(function i(){var r,s=arguments;return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=s.length>0&&s[0]!==void 0?s[0]:{},a.next=3,this.getClient().post(this.getClient().baseURL+"/moderation/unmute/channel",we({channel_cid:this.cid},r));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"archive",value:function(){var n=T(g.default.mark(function i(){var r,s,o,a,l=arguments;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(r=l.length>0&&l[0]!==void 0?l[0]:{},s=this.getClient(),o=r.user_id||s.userID,o){u.next=5;break}throw Error("A user_id is required for archiving a channel");case 5:return u.next=7,this.partialUpdateMember(o,{set:{archived:!0}});case 7:return a=u.sent,u.abrupt("return",a.channel_member);case 9:case"end":return u.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"unarchive",value:function(){var n=T(g.default.mark(function i(){var r,s,o,a,l=arguments;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(r=l.length>0&&l[0]!==void 0?l[0]:{},s=this.getClient(),o=r.user_id||s.userID,o){u.next=5;break}throw Error("A user_id is required for unarchiving a channel");case 5:return u.next=7,this.partialUpdateMember(o,{set:{archived:!1}});case 7:return a=u.sent,u.abrupt("return",a.channel_member);case 9:case"end":return u.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"pin",value:function(){var n=T(g.default.mark(function i(){var r,s,o,a,l=arguments;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(r=l.length>0&&l[0]!==void 0?l[0]:{},s=this.getClient(),o=r.user_id||s.userID,o){u.next=5;break}throw new Error("A user_id is required for pinning a channel");case 5:return u.next=7,this.partialUpdateMember(o,{set:{pinned:!0}});case 7:return a=u.sent,u.abrupt("return",a.channel_member);case 9:case"end":return u.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"unpin",value:function(){var n=T(g.default.mark(function i(){var r,s,o,a,l=arguments;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(r=l.length>0&&l[0]!==void 0?l[0]:{},s=this.getClient(),o=r.user_id||s.userID,o){u.next=5;break}throw new Error("A user_id is required for unpinning a channel");case 5:return u.next=7,this.partialUpdateMember(o,{set:{pinned:!1}});case 7:return a=u.sent,u.abrupt("return",a.channel_member);case 9:case"end":return u.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"muteStatus",value:function(){return this._checkInitialized(),this.getClient()._muteStatus(this.cid)}},{key:"sendAction",value:function(e,i){if(this._checkInitialized(),!e)throw Error("Message id is missing");return this.getClient().post(this.getClient().baseURL+"/messages/".concat(encodeURIComponent(e),"/action"),{message_id:e,form_data:i,id:this.id,type:this.type})}},{key:"keystroke",value:function(){var n=T(g.default.mark(function i(r,s){var o,a;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this._isTypingIndicatorsEnabled()){c.next=2;break}return c.abrupt("return");case 2:if(o=new Date,a=this.lastTypingEvent&&o.getTime()-this.lastTypingEvent.getTime(),this.lastKeyStroke=o,this.isTyping=!0,!(a===null||a>2e3)){c.next=10;break}return this.lastTypingEvent=new Date,c.next=10,this.sendEvent(we({type:"typing.start",parent_id:r},s||{}));case 10:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"updateAIState",value:function(){var n=T(g.default.mark(function i(r,s){var o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.length>2&&a[2]!==void 0?a[2]:{},c.next=3,this.sendEvent(we(we({},o),{},{type:"ai_indicator.update",message_id:r,ai_state:s}));case 3:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"clearAIIndicator",value:function(){var n=T(g.default.mark(function i(){return g.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.sendEvent({type:"ai_indicator.clear"});case 2:case"end":return s.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"stopAIResponse",value:function(){var n=T(g.default.mark(function i(){return g.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.sendEvent({type:"ai_indicator.stop"});case 2:case"end":return s.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"stopTyping",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this._isTypingIndicatorsEnabled()){a.next=2;break}return a.abrupt("return");case 2:return this.lastTypingEvent=null,this.isTyping=!1,a.next=6,this.sendEvent(we({type:"typing.stop",parent_id:r},s||{}));case 6:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"_isTypingIndicatorsEnabled",value:function(){var e,i,r,s,o;return(e=this.getConfig())!==null&&e!==void 0&&e.typing_events?(i=(r=this.getClient().user)===null||r===void 0||(s=r.privacy_settings)===null||s===void 0||(o=s.typing_indicators)===null||o===void 0?void 0:o.enabled)!==null&&i!==void 0?i:!0:!1}},{key:"lastMessage",value:function(){var e=this.state.latestMessages.length-5;e<0&&(e=0);var i=this.state.latestMessages.length+1,r=this.state.latestMessages.slice(e,i);return r.sort(function(s,o){return o.created_at.getTime()-s.created_at.getTime()}),r[0]}},{key:"markRead",value:function(){var n=T(g.default.mark(function i(){var r,s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=o.length>0&&o[0]!==void 0?o[0]:{},this._checkInitialized(),!(!((r=this.getConfig())!==null&&r!==void 0&&r.read_events)&&!this.getClient()._isUsingServerAuth())){l.next=4;break}return l.abrupt("return",Promise.resolve(null));case 4:return l.next=6,this.getClient().post(this._channelURL()+"/read",we({},s));case 6:return l.abrupt("return",l.sent);case 7:case"end":return l.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"markUnread",value:function(){var n=T(g.default.mark(function i(r){var s;return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this._checkInitialized(),!(!((s=this.getConfig())!==null&&s!==void 0&&s.read_events)&&!this.getClient()._isUsingServerAuth())){a.next=3;break}return a.abrupt("return",Promise.resolve(null));case 3:return a.next=5,this.getClient().post(this._channelURL()+"/unread",we({},r));case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"clean",value:function(){if(this.lastKeyStroke){var e=new Date,i=e.getTime()-this.lastKeyStroke.getTime();i>1e3&&this.isTyping&&PH(this.stopTyping(),"stop typing event")}this.state.clean()}},{key:"watch",value:function(){var n=T(g.default.mark(function i(r){var s,o,a;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s={state:!0,watch:!0,presence:!1},c.next=3,this.getClient().wsPromise;case 3:return this.getClient()._hasConnectionID()||(s.watch=!1),o=we(we({},s),r),c.next=7,this.query(o,"latest");case 7:return a=c.sent,this.initialized=!0,this.data=a.channel,this._client.logger("info","channel:watch() - started watching channel ".concat(this.cid),{tags:["channel"],channel:this}),c.abrupt("return",a);case 12:case"end":return c.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"stopWatching",value:function(){var n=T(g.default.mark(function i(){var r;return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getClient().post(this._channelURL()+"/stop-watching",{});case 2:return r=o.sent,this._client.logger("info","channel:watch() - stopped watching channel ".concat(this.cid),{tags:["channel"],channel:this}),o.abrupt("return",r);case 5:case"end":return o.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"getReplies",value:function(){var n=T(g.default.mark(function i(r,s,o){var a,l;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=o?On(o):void 0,u.next=3,this.getClient().get(this.getClient().baseURL+"/messages/".concat(encodeURIComponent(r),"/replies"),we({sort:a},s));case 3:return l=u.sent,l.messages&&this.state.addMessagesSorted(l.messages),u.abrupt("return",l);case 6:case"end":return u.stop()}},i,this)}));function e(i,r,s){return n.apply(this,arguments)}return e}()},{key:"getPinnedMessages",value:function(){var n=T(g.default.mark(function i(r){var s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&o[1]!==void 0?o[1]:[],l.next=3,this.getClient().get(this._channelURL()+"/pinned_messages",{payload:we(we({},r),{},{sort:On(s)})});case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"getReactions",value:function(e,i){return this.getClient().get(this.getClient().baseURL+"/messages/".concat(encodeURIComponent(e),"/reactions"),we({},i))}},{key:"getMessagesById",value:function(e){return this.getClient().get(this._channelURL()+"/messages",{ids:e.join(",")})}},{key:"lastRead",value:function(){var e=this.getClient(),i=e.userID;if(i)return this.state.read[i]?this.state.read[i].last_read:null}},{key:"_countMessageAsUnread",value:function(e){var i,r,s,o;return!(e.shadowed||e.silent||e.parent_id&&!e.show_in_channel||((i=e.user)===null||i===void 0?void 0:i.id)===this.getClient().userID||(r=e.user)!==null&&r!==void 0&&r.id&&this.getClient().userMuteStatus(e.user.id)||Array.isArray((s=this.data)===null||s===void 0?void 0:s.own_capabilities)&&!((o=this.data)!==null&&o!==void 0&&o.own_capabilities.includes("read-events"))||this.muteStatus().muted)}},{key:"countUnread",value:function(e){if(!e)return this.state.unreadCount;for(var i=0,r=0;r<this.state.latestMessages.length;r+=1){var s=this.state.latestMessages[r];s.created_at>e&&this._countMessageAsUnread(s)&&i++}return i}},{key:"countUnreadMentions",value:function(){for(var e=this.lastRead(),i=this.getClient().userID,r=0,s=0;s<this.state.latestMessages.length;s+=1){var o,a=this.state.latestMessages[s];this._countMessageAsUnread(a)&&(!e||a.created_at>e)&&(o=a.mentioned_users)!==null&&o!==void 0&&o.some(function(l){return l.id===i})&&r++}return r}},{key:"query",value:function(){var n=T(g.default.mark(function i(r){var s,o,a,l,c,u,d,h,f,p,m,_,D=arguments;return g.default.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return c=D.length>1&&D[1]!==void 0?D[1]:"current",S.next=3,this.getClient().wsPromise;case 3:return u="".concat(this.getClient().baseURL,"/channels/").concat(encodeURIComponent(this.type)),this.id&&(u+="/".concat(encodeURIComponent(this.id))),S.next=7,this.getClient().post(u+"/query",we({data:this._data,state:!0},r));case 7:return d=S.sent,this.id||(this.id=d.channel.id,this.cid=d.channel.cid,h=d.members.map(function(k){var L;return k.user_id||((L=k.user)===null||L===void 0?void 0:L.id)}).sort().join(","),f="".concat(this.type,":!members-").concat(h),f in this.getClient().activeChannels&&delete this.getClient().activeChannels[f],!(this.cid in this.getClient().activeChannels)&&this.getClient()._cacheEnabled()&&(this.getClient().activeChannels[this.cid]=this)),this.getClient()._addChannelConfig(d.channel),p=this._initializeState(d,c),m=p.messageSet,m.pagination=we(we({},m.pagination),XM({parentSet:m,messagePaginationOptions:r?.messages,requestedPageSize:(s=r==null||(o=r.messages)===null||o===void 0?void 0:o.limit)!==null&&s!==void 0?s:t8,returnedPage:d.messages,logger:this.getClient().logger})),this.getClient().polls.hydratePollCache(d.messages,!0),_=St(d.channel.own_capabilities||[]).sort().join()!==St(Array.isArray((a=this.data)===null||a===void 0?void 0:a.own_capabilities)?(l=this.data)===null||l===void 0?void 0:l.own_capabilities:[]).sort().join(),this.data=d.channel,this.offlineMode=!1,_&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:d.channel.own_capabilities}),this.getClient().dispatchEvent({type:"channels.queried",queriedChannels:{channels:[d],isLatestMessageSet:m.isLatest}}),S.abrupt("return",d);case 19:case"end":return S.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"banUser",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this._checkInitialized(),a.next=3,this.getClient().banUser(r,we(we({},s),{},{type:this.type,id:this.id}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"hide",value:function(){var n=T(g.default.mark(function i(){var r,s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=o.length>0&&o[0]!==void 0?o[0]:null,s=o.length>1&&o[1]!==void 0?o[1]:!1,this._checkInitialized(),l.next=5,this.getClient().post("".concat(this._channelURL(),"/hide"),{user_id:r,clear_history:s});case 5:return l.abrupt("return",l.sent);case 6:case"end":return l.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"show",value:function(){var n=T(g.default.mark(function i(){var r,s=arguments;return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=s.length>0&&s[0]!==void 0?s[0]:null,this._checkInitialized(),a.next=4,this.getClient().post("".concat(this._channelURL(),"/show"),{user_id:r});case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"unbanUser",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this._checkInitialized(),o.next=3,this.getClient().unbanUser(r,{type:this.type,id:this.id});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"shadowBan",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this._checkInitialized(),a.next=3,this.getClient().shadowBan(r,we(we({},s),{},{type:this.type,id:this.id}));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"removeShadowBan",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this._checkInitialized(),o.next=3,this.getClient().removeShadowBan(r,{type:this.type,id:this.id});case 3:return o.abrupt("return",o.sent);case 4:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"createCall",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getClient().post(this._channelURL()+"/call",r);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"vote",value:function(){var n=T(g.default.mark(function i(r,s,o){return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.getClient().castPollVote(r,s,o);case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},i,this)}));function e(i,r,s){return n.apply(this,arguments)}return e}()},{key:"removeVote",value:function(){var n=T(g.default.mark(function i(r,s,o){return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.getClient().removePollVote(r,s,o);case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},i,this)}));function e(i,r,s){return n.apply(this,arguments)}return e}()},{key:"on",value:function(e,i){var r=this,s=i?e:"all",o=i||e;return s in this.listeners||(this.listeners[s]=[]),this._client.logger("info","Attaching listener for ".concat(s," event on channel ").concat(this.cid),{tags:["event","channel"],channel:this}),this.listeners[s].push(o),{unsubscribe:function(){r._client.logger("info","Removing listener for ".concat(s," event from channel ").concat(r.cid),{tags:["event","channel"],channel:r}),r.listeners[s]=r.listeners[s].filter(function(l){return l!==o})}}}},{key:"off",value:function(e,i){var r=i?e:"all",s=i||e;r in this.listeners||(this.listeners[r]=[]),this._client.logger("info","Removing listener for ".concat(r," event from channel ").concat(this.cid),{tags:["event","channel"],channel:this}),this.listeners[r]=this.listeners[r].filter(function(o){return o!==s})}},{key:"_handleChannelEvent",value:function(e){var i,r,s,o,a,l,c,u,d,h,f,p,m,_,D,w=this;this._client.logger("info","channel:_handleChannelEvent - Received event of type { ".concat(e.type," } on ").concat(this.cid),{tags:["event","channel"],channel:this});var S=w.state;switch(e.type){case"typing.start":(i=e.user)!==null&&i!==void 0&&i.id&&(S.typing[e.user.id]=e);break;case"typing.stop":(r=e.user)!==null&&r!==void 0&&r.id&&delete S.typing[e.user.id];break;case"message.read":if((s=e.user)!==null&&s!==void 0&&s.id&&e.created_at){var k,L;S.read[e.user.id]={last_read:new Date(e.created_at),last_read_message_id:e.last_read_message_id,user:e.user,unread_messages:0},((k=e.user)===null||k===void 0?void 0:k.id)===((L=this.getClient().user)===null||L===void 0?void 0:L.id)&&(S.unreadCount=0)}break;case"user.watching.start":case"user.updated":(o=e.user)!==null&&o!==void 0&&o.id&&(S.watchers[e.user.id]=e.user);break;case"user.watching.stop":(a=e.user)!==null&&a!==void 0&&a.id&&delete S.watchers[e.user.id];break;case"message.deleted":e.message&&(this._extendEventWithOwnReactions(e),e.hard_delete?S.removeMessage(e.message):S.addMessageSorted(e.message,!1,!1),S.removeQuotedMessageReferences(e.message),e.message.pinned&&S.removePinnedMessage(e.message));break;case"message.new":if(e.message){var W,oe,K,de=((W=e.user)===null||W===void 0?void 0:W.id)===((oe=this.getClient().user)===null||oe===void 0?void 0:oe.id),it=e.message.parent_id&&!e.message.show_in_channel;(this.state.isUpToDate||it)&&S.addMessageSorted(e.message,de),e.message.pinned&&S.addPinnedMessage(e.message);var Ye=de||it;if(Ye)break;if((K=e.user)!==null&&K!==void 0&&K.id)for(var ae in S.read)ae===e.user.id?S.read[e.user.id]={last_read:new Date(e.created_at),user:e.user,unread_messages:0}:S.read[ae].unread_messages+=1;this._countMessageAsUnread(e.message)&&(S.unreadCount=S.unreadCount+1)}break;case"message.updated":case"message.undeleted":e.message&&(this._extendEventWithOwnReactions(e),S.addMessageSorted(e.message,!1,!1),S._updateQuotedMessageReferences({message:e.message}),e.message.pinned?S.addPinnedMessage(e.message):S.removePinnedMessage(e.message));break;case"channel.truncated":if((l=e.channel)!==null&&l!==void 0&&l.truncated_at){var Z=+new Date(e.channel.truncated_at);S.messageSets.forEach(function(mt,Sn){mt.messages.forEach(function(Fn){var BO=Fn.created_at,UO=Fn.id;Z>+BO&&S.removeMessage({id:UO,messageSetIndex:Sn})})}),S.pinnedMessages.forEach(function(mt){var Sn=mt.id,Fn=mt.created_at;Z>+Fn&&S.removePinnedMessage({id:Sn})})}else S.clearMessages();S.unreadCount=0,e.message&&(S.addMessageSorted(e.message),e.message.pinned&&S.addPinnedMessage(e.message));break;case"member.added":case"member.updated":(c=e.member)!==null&&c!==void 0&&c.user&&(S.members=we(we({},S.members),{},C({},e.member.user.id,e.member))),typeof((u=S.membership.user)===null||u===void 0?void 0:u.id)=="string"&&typeof((d=e.member)===null||d===void 0||(h=d.user)===null||h===void 0?void 0:h.id)=="string"&&e.member.user.id===S.membership.user.id&&(S.membership=e.member);break;case"member.removed":if((f=e.user)!==null&&f!==void 0&&f.id){var X=we({},S.members);delete X[e.user.id],S.members=X}break;case"notification.mark_unread":{var ce,A,R,O=((ce=e.user)===null||ce===void 0?void 0:ce.id)===((A=this.getClient().user)===null||A===void 0?void 0:A.id);if(!(O&&e.user))break;var B=(R=e.unread_messages)!==null&&R!==void 0?R:0;S.read[e.user.id]={first_unread_message_id:e.first_unread_message_id,last_read:new Date(e.last_read_at),last_read_message_id:e.last_read_message_id,user:e.user,unread_messages:B},S.unreadCount=B;break}case"channel.updated":if(e.channel){var Y,te,be,ze,Ae,Tt,Nt,Ke,wt=((Y=e.channel)===null||Y===void 0?void 0:Y.frozen)!==void 0&&e.channel.frozen!==((te=w.data)===null||te===void 0?void 0:te.frozen);wt&&this.query({state:!1,messages:{limit:0},watchers:{limit:0}}),w.data=we(we({},e.channel),{},{hidden:(be=(ze=e.channel)===null||ze===void 0?void 0:ze.hidden)!==null&&be!==void 0?be:(Ae=w.data)===null||Ae===void 0?void 0:Ae.hidden,own_capabilities:(Tt=(Nt=e.channel)===null||Nt===void 0?void 0:Nt.own_capabilities)!==null&&Tt!==void 0?Tt:(Ke=w.data)===null||Ke===void 0?void 0:Ke.own_capabilities})}break;case"reaction.new":e.message&&e.reaction&&(e.message=S.addReaction(e.reaction,e.message));break;case"reaction.deleted":e.reaction&&(e.message=S.removeReaction(e.reaction,e.message));break;case"reaction.updated":e.reaction&&(e.message=S.addReaction(e.reaction,e.message,!0));break;case"channel.hidden":w.data=we(we({},w.data),{},{hidden:!0}),e.clear_history&&S.clearMessages();break;case"channel.visible":w.data=we(we({},w.data),{},{hidden:!1});break;case"user.banned":if(!((p=e.user)!==null&&p!==void 0&&p.id))break;S.members[e.user.id]=we(we({},S.members[e.user.id]||{}),{},{shadow_banned:!!e.shadow,banned:!e.shadow,user:we(we({},((m=S.members[e.user.id])===null||m===void 0?void 0:m.user)||{}),e.user)});break;case"user.unbanned":if(!((_=e.user)!==null&&_!==void 0&&_.id))break;S.members[e.user.id]=we(we({},S.members[e.user.id]||{}),{},{shadow_banned:!1,banned:!1,user:we(we({},((D=S.members[e.user.id])===null||D===void 0?void 0:D.user)||{}),e.user)});break}e.watcher_count!==void 0&&(w.state.watcher_count=e.watcher_count)}},{key:"_checkInitialized",value:function(){if(!this.initialized&&!this.offlineMode&&!this.getClient()._isUsingServerAuth())throw Error("Channel ".concat(this.cid," hasn't been initialized yet. Make sure to call .watch() and wait for it to resolve"))}},{key:"_initializeState",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"latest",r=this.getClient(),s=r.state,o=r.user,a=r.userID;if(e.members){this._hydrateMembers({members:e.members});var l=o0(e.members),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;u.user&&s.updateUserReference(u.user,this.cid)}}catch(W){l.e(W)}finally{l.f()}}this.state.membership=e.membership||{};var d=e.messages||[];this.state.messages||this.state.initMessages();var h=this.state.addMessagesSorted(d,!1,!0,!0,i),f=h.messageSet;if(this.state.pinnedMessages||(this.state.pinnedMessages=[]),this.state.addPinnedMessages(e.pinned_messages||[]),e.pending_messages&&(this.state.pending_messages=e.pending_messages),e.watcher_count!==void 0&&(this.state.watcher_count=e.watcher_count),e.watchers){var p=o0(e.watchers),m;try{for(p.s();!(m=p.n()).done;){var _=m.value;_&&(s.updateUserReference(_,this.cid),this.state.watchers[_.id]=_)}}catch(W){p.e(W)}finally{p.f()}}if(a!=null){var D=this.state.last_message_at||new Date;o&&(this.state.read[o.id]={user:o,last_read:D,unread_messages:0})}if(e.read){var w=o0(e.read),S;try{for(w.s();!(S=w.n()).done;){var k,L=S.value;this.state.read[L.user.id]={last_read:new Date(L.last_read),last_read_message_id:L.last_read_message_id,unread_messages:(k=L.unread_messages)!==null&&k!==void 0?k:0,user:L.user},L.user.id===o?.id&&(this.state.unreadCount=this.state.read[L.user.id].unread_messages)}}catch(W){w.e(W)}finally{w.f()}}return{messageSet:f}}},{key:"_extendEventWithOwnReactions",value:function(e){if(e.message){var i=this.state.findMessage(e.message.id,e.message.parent_id);i&&(e.message.own_reactions=i.own_reactions)}}},{key:"_hydrateMembers",value:function(e){var i=e.members,r=e.overrideCurrentState,s=r===void 0?!0:r,o=i.reduce(function(a,l){return l.user&&(a[l.user.id]=l),a},{});s?this.state.members=o:!s&&i.length&&(this.state.members=we(we({},this.state.members),o))}},{key:"_disconnect",value:function(){this._client.logger("info","channel:disconnect() - Disconnecting the channel ".concat(this.cid),{tags:["connection","channel"],channel:this}),this.disconnected=!0,this.state.setIsUpToDate(!1)}}]),t}();function r8(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=s8(t))||n&&t&&typeof t.length=="number"){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){e=e.call(t)},n:function(){var c=e.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(o)throw a}}}}function s8(t,n){if(t){if(typeof t=="string")return _M(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _M(t,n)}}function _M(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var vM=function(){function t(n){var e=n.client;Kt(this,t),C(this,"client",void 0),C(this,"users",void 0),C(this,"userChannelReferences",void 0),this.client=e,this.users={},this.userChannelReferences={}}return Rn(t,[{key:"updateUsers",value:function(e){var i=r8(e),r;try{for(i.s();!(r=i.n()).done;){var s=r.value;this.updateUser(s)}}catch(o){i.e(o)}finally{i.f()}}},{key:"updateUser",value:function(e){e!=null&&this.client._cacheEnabled()&&(this.users[e.id]=e)}},{key:"updateUserReference",value:function(e,i){e==null||!this.client._cacheEnabled()||(this.updateUser(e),this.userChannelReferences[e.id]||(this.userChannelReferences[e.id]={}),this.userChannelReferences[e.id][i]=!0)}},{key:"deleteAllChannelReference",value:function(e){for(var i in this.userChannelReferences)delete this.userChannelReferences[i][e]}}]),t}();function yM(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function bM(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?yM(Object(e),!0).forEach(function(i){C(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):yM(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}var o8=function t(){Kt(this,t),C(this,"connectionStartTimestamp",void 0),C(this,"wsConsecutiveFailures",void 0),C(this,"wsTotalFailures",void 0),C(this,"instanceClientId",void 0),this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=Qa()},Qc=function(){var t=T(g.default.mark(function n(e,i){var r,s;return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r=3,s=0;case 2:if(!(s<r)){a.next=17;break}return a.prev=3,a.next=6,ao.post("https://chat-insights.getstream.io/insights/".concat(e),i);case 6:a.next=13;break;case 8:return a.prev=8,a.t0=a.catch(3),a.next=12,ho((s+1)*3e3);case 12:return a.abrupt("continue",14);case 13:return a.abrupt("break",17);case 14:s++,a.next=2;break;case 17:case"end":return a.stop()}},n,null,[[3,8]])}));return function(e,i){return t.apply(this,arguments)}}();function a8(t,n){return bM(bM({},n),JM(t))}function JM(t){var n,e,i,r=t.client;return{ready_state:(n=t.ws)===null||n===void 0?void 0:n.readyState,url:t._buildUrl(),api_key:r.key,start_ts:r.insightMetrics.connectionStartTimestamp,end_ts:new Date().getTime(),auth_type:r.getAuthType(),token:r.tokenManager.token,user_id:r.userID,user_details:r._user,device:r.options.device,client_id:t.connectionID,ws_details:t.ws,ws_consecutive_failures:r.insightMetrics.wsConsecutiveFailures,ws_total_failures:r.insightMetrics.wsTotalFailures,request_id:t.requestID,online:typeof navigator<"u"?(e=navigator)===null||e===void 0?void 0:e.onLine:null,user_agent:typeof navigator<"u"?(i=navigator)===null||i===void 0?void 0:i.userAgent:null,instance_client_id:r.insightMetrics.instanceClientId}}function l8(t){return JM(t)}function CM(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function c8(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?CM(Object(e),!0).forEach(function(i){C(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):CM(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}var u8=function(n){return n.code!==void 0},d8=function(n){return n.error!==void 0},h8=function(){function t(n){var e=this,i=n.client;Kt(this,t),C(this,"client",void 0),C(this,"connectionID",void 0),C(this,"connectionOpen",void 0),C(this,"consecutiveFailures",void 0),C(this,"pingInterval",void 0),C(this,"healthCheckTimeoutRef",void 0),C(this,"isConnecting",void 0),C(this,"isDisconnected",void 0),C(this,"isHealthy",void 0),C(this,"isResolved",void 0),C(this,"lastEvent",void 0),C(this,"connectionCheckTimeout",void 0),C(this,"connectionCheckTimeoutRef",void 0),C(this,"rejectPromise",void 0),C(this,"requestID",void 0),C(this,"resolvePromise",void 0),C(this,"totalFailures",void 0),C(this,"ws",void 0),C(this,"wsID",void 0),C(this,"_buildUrl",function(){var r=encodeURIComponent(e.client._buildWSPayload(e.requestID)),s=e.client.tokenManager.getToken();return"".concat(e.client.wsBaseURL,"/connect?json=").concat(r,"&api_key=").concat(e.client.key,"&authorization=").concat(s,"&stream-auth-type=").concat(e.client.getAuthType(),"&X-Stream-Client=").concat(e.client.getUserAgent())}),C(this,"onlineStatusChanged",function(r){r.type==="offline"?(e._log("onlineStatusChanged() - Status changing to offline"),e._setHealth(!1)):r.type==="online"&&(e._log("onlineStatusChanged() - Status changing to online. isHealthy: ".concat(e.isHealthy)),e.isHealthy||e._reconnect({interval:10}))}),C(this,"onopen",function(r){e.wsID===r&&e._log("onopen() - onopen callback",{wsID:r})}),C(this,"onmessage",function(r,s){if(e.wsID===r){e._log("onmessage() - onmessage callback",{event:s,wsID:r});var o=typeof s.data=="string"?JSON.parse(s.data):null;if(!e.isResolved&&o){var a;if(e.isResolved=!0,o.error){var l;(l=e.rejectPromise)===null||l===void 0||l.call(e,e._errorFromWSEvent(o,!1));return}(a=e.resolvePromise)===null||a===void 0||a.call(e,o),e._setHealth(!0)}e.lastEvent=new Date,o&&o.type==="health.check"&&e.scheduleNextPing(),e.client.handleEvent(s),e.scheduleConnectionCheck()}}),C(this,"onclose",function(r,s){if(e.wsID===r)if(e._log("onclose() - onclose callback - "+s.code,{event:s,wsID:r}),s.code===Gc.WS_CLOSED_SUCCESS){var o,a=new Error("WS connection reject with error ".concat(s.reason));a.reason=s.reason,a.code=s.code,a.wasClean=s.wasClean,a.target=s.target,(o=e.rejectPromise)===null||o===void 0||o.call(e,a),e._log("onclose() - WS connection reject with error ".concat(s.reason),{event:s})}else{var l;e.consecutiveFailures+=1,e.totalFailures+=1,e._setHealth(!1),e.isConnecting=!1,(l=e.rejectPromise)===null||l===void 0||l.call(e,e._errorFromWSEvent(s)),e._log("onclose() - WS connection closed. Calling reconnect ...",{event:s}),e._reconnect()}}),C(this,"onerror",function(r,s){var o;e.wsID===r&&(e.consecutiveFailures+=1,e.totalFailures+=1,e._setHealth(!1),e.isConnecting=!1,(o=e.rejectPromise)===null||o===void 0||o.call(e,e._errorFromWSEvent(s)),e._log("onerror() - WS connection resulted into error",{event:s}),e._reconnect())}),C(this,"_setHealth",function(r){if(r!==e.isHealthy){if(e.isHealthy=r,e.isHealthy){e.client.dispatchEvent({type:"connection.changed",online:e.isHealthy});return}setTimeout(function(){e.isHealthy||e.client.dispatchEvent({type:"connection.changed",online:e.isHealthy})},5e3)}}),C(this,"_errorFromWSEvent",function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o,a,l;u8(r)&&(o=r.code,a="unknown",l=r.reason),d8(r)&&(o=r.error.code,a=r.error.StatusCode,l=r.error.message),e._log("_errorFromWSEvent() - WS failed with code ".concat(o),{event:r},"warn");var c=new Error("WS failed with code ".concat(o," and reason - ").concat(l));return c.code=o,c.StatusCode=a,c.isWSFailure=s,c}),C(this,"_setupConnectionPromise",function(){e.isResolved=!1,e.connectionOpen=new Promise(function(r,s){e.resolvePromise=r,e.rejectPromise=s})}),C(this,"scheduleNextPing",function(){e.healthCheckTimeoutRef&&clearTimeout(e.healthCheckTimeoutRef),e.healthCheckTimeoutRef=setTimeout(function(){var r=[{type:"health.check",client_id:e.client.clientID}];try{var s;(s=e.ws)===null||s===void 0||s.send(JSON.stringify(r))}catch{}},e.pingInterval)}),C(this,"scheduleConnectionCheck",function(){e.connectionCheckTimeoutRef&&clearTimeout(e.connectionCheckTimeoutRef),e.connectionCheckTimeoutRef=setTimeout(function(){var r=new Date;e.lastEvent&&r.getTime()-e.lastEvent.getTime()>e.connectionCheckTimeout&&(e._log("scheduleConnectionCheck - going to reconnect"),e._setHealth(!1),e._reconnect())},e.connectionCheckTimeout)}),this.client=i,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25*1e3,this.connectionCheckTimeout=this.pingInterval+10*1e3,GM(this.onlineStatusChanged)}return Rn(t,[{key:"_log",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"info";this.client.logger(r,"connection:"+e,c8({tags:["connection"]},i))}},{key:"setClient",value:function(e){this.client=e}},{key:"connect",value:function(){var n=T(g.default.mark(function i(){var r,s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(r=o.length>0&&o[0]!==void 0?o[0]:15e3,!this.isConnecting){l.next=3;break}throw Error("You've called connect twice, can only attempt 1 connection at the time");case 3:return this.isDisconnected=!1,l.prev=4,l.next=7,this._connect();case 7:s=l.sent,this.consecutiveFailures=0,this._log("connect() - Established ws connection with healthcheck: ".concat(s)),l.next=23;break;case 12:if(l.prev=12,l.t0=l.catch(4),this.isHealthy=!1,this.consecutiveFailures+=1,!(l.t0.code===Gc.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())){l.next=21;break}this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0}),l.next=23;break;case 21:if(l.t0.isWSFailure){l.next=23;break}throw new Error(JSON.stringify({code:l.t0.code,StatusCode:l.t0.StatusCode,message:l.t0.message,isWSFailure:l.t0.isWSFailure}));case 23:return l.next=25,this._waitForHealthy(r);case 25:return l.abrupt("return",l.sent);case 26:case"end":return l.stop()}},i,this,[[4,12]])}));function e(){return n.apply(this,arguments)}return e}()},{key:"_waitForHealthy",value:function(){var n=T(g.default.mark(function i(){var r=this,s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>0&&o[0]!==void 0?o[0]:15e3,l.abrupt("return",Promise.race([T(g.default.mark(function c(){var u,d;return g.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:u=50,d=0;case 2:if(!(d<=s)){f.next=18;break}return f.prev=3,f.next=6,r.connectionOpen;case 6:return f.abrupt("return",f.sent);case 9:if(f.prev=9,f.t0=f.catch(3),d!==s){f.next=13;break}throw new Error(JSON.stringify({code:f.t0.code,StatusCode:f.t0.StatusCode,message:f.t0.message,isWSFailure:f.t0.isWSFailure}));case 13:return f.next=15,ho(u);case 15:d+=u,f.next=2;break;case 18:case"end":return f.stop()}},c,null,[[3,9]])}))(),T(g.default.mark(function c(){return g.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,ho(s);case 2:throw r.isConnecting=!1,new Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}));case 4:case"end":return d.stop()}},c)}))()]));case 2:case"end":return l.stop()}},i)}));function e(){return n.apply(this,arguments)}return e}()},{key:"disconnect",value:function(e){var i=this;this._log("disconnect() - Closing the websocket connection for wsID ".concat(this.wsID)),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),QM(this.onlineStatusChanged),this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();var r,s=this.ws;return s&&s.close&&s.readyState===s.OPEN?(r=new Promise(function(o){var a=function(c){i._log("disconnect() - resolving isClosedPromise ".concat(c?"with":"without"," close frame"),{event:c}),o()};s.onclose=a,setTimeout(a,e??1e3)}),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),s.close(Gc.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),r=Promise.resolve()),delete this.ws,r}},{key:"_connect",value:function(){var n=T(g.default.mark(function i(){var r,s,o,a;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)){c.next=2;break}return c.abrupt("return");case 2:return this.isConnecting=!0,this.requestID=Qa(),this.client.insightMetrics.connectionStartTimestamp=new Date().getTime(),r=!1,c.prev=6,this._log("_connect() - waiting for token"),c.next=10,this.client.tokenManager.tokenReady();case 10:r=!0,c.next=15;break;case 13:c.prev=13,c.t0=c.catch(6);case 15:if(c.prev=15,r){c.next=20;break}return this._log("_connect() - tokenProvider failed before, so going to retry"),c.next=20,this.client.tokenManager.loadToken();case 20:return this._setupConnectionPromise(),s=this._buildUrl(),this._log("_connect() - Connecting to ".concat(s),{wsURL:s,requestID:this.requestID}),this.ws=new WM.default(s),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID),c.next=30,this.connectionOpen;case 30:if(o=c.sent,this.isConnecting=!1,!o){c.next=36;break}return this.connectionID=o.connection_id,this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(Qc("ws_success_after_failure",l8(this)),this.client.insightMetrics.wsConsecutiveFailures=0),c.abrupt("return",o);case 36:c.next=44;break;case 38:throw c.prev=38,c.t1=c.catch(15),this.isConnecting=!1,this._log("_connect() - Error - ",c.t1),this.client.options.enableInsights&&(this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++,a=a8(this,WH(c.t1)),Qc?.("ws_fatal",a)),c.t1;case 44:case"end":return c.stop()}},i,this,[[6,13],[15,38]])}));function e(){return n.apply(this,arguments)}return e}()},{key:"_reconnect",value:function(){var n=T(g.default.mark(function i(){var r,s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(r=o.length>0&&o[0]!==void 0?o[0]:{},this._log("_reconnect() - Initiating the reconnect"),!(this.isConnecting||this.isHealthy)){l.next=5;break}return this._log("_reconnect() - Abort (1) since already connecting or healthy"),l.abrupt("return");case 5:return s=r.interval,s||(s=Kf(this.consecutiveFailures)),l.next=9,ho(s);case 9:if(!(this.isConnecting||this.isHealthy)){l.next=12;break}return this._log("_reconnect() - Abort (2) since already connecting or healthy"),l.abrupt("return");case 12:if(!(this.isDisconnected&&this.client.options.enableWSFallback)){l.next=15;break}return this._log("_reconnect() - Abort (3) since disconnect() is called"),l.abrupt("return");case 15:if(this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),!r.refreshToken){l.next=20;break}return l.next=20,this.client.tokenManager.loadToken();case 20:return l.prev=20,l.next=23,this._connect();case 23:return this._log("_reconnect() - Waiting for recoverCallBack"),l.next=26,this.client.recoverState();case 26:this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0,l.next=38;break;case 30:if(l.prev=30,l.t0=l.catch(20),this.isHealthy=!1,this.consecutiveFailures+=1,!(l.t0.code===Gc.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())){l.next=37;break}return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),l.abrupt("return",this._reconnect({refreshToken:!0}));case 37:l.t0.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect());case 38:this._log("_reconnect() - == END ==");case 39:case"end":return l.stop()}},i,this,[[20,30]])}));function e(){return n.apply(this,arguments)}return e}()},{key:"_destroyCurrentWSConnection",value:function(){this.wsID+=1;try{var e,i;this===null||this===void 0||(e=this.ws)===null||e===void 0||e.removeAllListeners(),this===null||this===void 0||(i=this.ws)===null||i===void 0||i.close()}catch{}}}]),t}(),f8=null,wM=null;function DM(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function p8(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?DM(Object(e),!0).forEach(function(i){C(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):DM(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}function eA(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(typeof n!="string")throw new TypeError("userId should be a string");var r=p8({user_id:n},e);throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.");var s}function EM(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={server:!0},i=so({algorithm:"HS256",noTimestamp:!0},n);return f8.sign(e,t,i)}function m8(t){var n=t.split(".");if(n.length!==3)return"";var e=n[1],i=RH(e),r=JSON.parse(i);return r.user_id}function g8(t){return["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",AH(JSON.stringify({user_id:t})),"devtoken"].join(".")}function _8(t,n,e){var i=Buffer.from(n,"utf8"),r=wM.createHmac("sha256",i).update(t).digest("hex");try{return wM.timingSafeEqual(Buffer.from(r),Buffer.from(e))}catch{return!1}}var v8=function t(n){var e=this;Kt(this,t),C(this,"loadTokenPromise",void 0),C(this,"type",void 0),C(this,"secret",void 0),C(this,"token",void 0),C(this,"tokenProvider",void 0),C(this,"user",void 0),C(this,"setTokenOrProvider",function(){var i=T(g.default.mark(function r(s,o){return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return e.validateToken(s,o),e.user=o,f0(s)&&(e.tokenProvider=s,e.type="provider"),typeof s=="string"&&(e.token=s,e.type="static"),!s&&e.user&&e.secret&&(e.token=eA(e.secret,o.id,{},{}),e.type="static"),l.next=7,e.loadToken();case 7:case"end":return l.stop()}},r)}));return function(r,s){return i.apply(this,arguments)}}()),C(this,"reset",function(){e.token=void 0,e.tokenProvider=void 0,e.type="static",e.user=void 0,e.loadTokenPromise=null}),C(this,"validateToken",function(i,r){if(!(r&&r.anon&&!i)){if(!e.secret&&!i)throw new Error("User token can not be empty");if(i&&typeof i!="string"&&!f0(i))throw new Error("user token should either be a string or a function");if(typeof i=="string"){if(r.anon&&i==="")return;var s=m8(i);if(i!=null&&(s==null||s===""||s!==r.id))throw new Error("userToken does not have a user_id or is not matching with user.id")}}}),C(this,"tokenReady",function(){return e.loadTokenPromise}),C(this,"loadToken",function(){return e.loadTokenPromise=new Promise(function(){var i=T(g.default.mark(function r(s,o){return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(e.type!=="static"){l.next=2;break}return l.abrupt("return",s(e.token));case 2:if(!(e.tokenProvider&&typeof e.tokenProvider!="string")){l.next=13;break}return l.prev=3,l.next=6,e.tokenProvider();case 6:e.token=l.sent,l.next=12;break;case 9:return l.prev=9,l.t0=l.catch(3),l.abrupt("return",o(new Error("Call to tokenProvider failed with message: ".concat(l.t0))));case 12:s(e.token);case 13:case"end":return l.stop()}},r,null,[[3,9]])}));return function(r,s){return i.apply(this,arguments)}}()),e.loadTokenPromise}),C(this,"getToken",function(){if(e.token||e.user&&e.user.anon&&!e.token)return e.token;if(e.secret)return EM(e.secret);throw new Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")}),C(this,"isStatic",function(){return e.type==="static"}),this.loadTokenPromise=null,n&&(this.secret=n),this.type="static",this.secret&&(this.token=EM(this.secret))},y8={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function b8(t){return t.code!==void 0}function SM(t){if(!t.code)return!1;var n=y8["".concat(t.code)];return n?n.retryable:!1}function C8(t){return t.code===46}function w8(t){if(typeof t.isWSFailure=="boolean")return t.isWSFailure;try{return JSON.parse(t.message).isWSFailure}catch{return!1}}function D8(t){return!t.status||t.status<200||300<=t.status}function xM(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function l0(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?xM(Object(e),!0).forEach(function(i){C(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):xM(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}var nn=function(t){return t.Closed="CLOSED",t.Connected="CONNECTED",t.Connecting="CONNECTING",t.Disconnected="DISCONNECTED",t.Init="INIT",t}(nn||{}),E8=function(){function t(n){var e=this,i=n.client;Kt(this,t),C(this,"client",void 0),C(this,"state",void 0),C(this,"consecutiveFailures",void 0),C(this,"connectionID",void 0),C(this,"cancelToken",void 0),C(this,"_onlineStatusChanged",function(r){if(e._log("_onlineStatusChanged() - ".concat(r.type)),r.type==="offline"){var s;e._setState(nn.Closed),(s=e.cancelToken)===null||s===void 0||s.cancel("disconnect() is called"),e.cancelToken=void 0;return}r.type==="online"&&e.state===nn.Closed&&e.connect(!0)}),C(this,"_req",function(){var r=T(g.default.mark(function s(o,a,l){var c,u;return g.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return!e.cancelToken&&!o.close&&(e.cancelToken=ao.CancelToken.source()),h.prev=1,h.next=4,e.client.doAxiosRequest("get",e.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:l0(l0({},a),{},{cancelToken:(c=e.cancelToken)===null||c===void 0?void 0:c.token}),params:o});case 4:return u=h.sent,e.consecutiveFailures=0,h.abrupt("return",u);case 9:if(h.prev=9,h.t0=h.catch(1),e.consecutiveFailures+=1,!(l&&SM(h.t0))){h.next=17;break}return e._log("_req() - Retryable error, retrying request"),h.next=16,ho(Kf(e.consecutiveFailures));case 16:return h.abrupt("return",e._req(o,a,l));case 17:throw h.t0;case 18:case"end":return h.stop()}},s,null,[[1,9]])}));return function(s,o,a){return r.apply(this,arguments)}}()),C(this,"_poll",T(g.default.mark(function r(){var s,o,a;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(e.state!==nn.Connected){c.next=25;break}return c.prev=1,c.next=4,e._req({},{timeout:3e4},!0);case 4:if(o=c.sent,(s=o.events)!==null&&s!==void 0&&s.length)for(a=0;a<o.events.length;a++)e.client.dispatchEvent(o.events[a]);c.next=23;break;case 8:if(c.prev=8,c.t0=c.catch(1),!ao.isCancel(c.t0)){c.next=13;break}return e._log("_poll() - axios canceled request"),c.abrupt("return");case 13:if(!C8(c.t0)){c.next=18;break}return e._log("_poll() - ConnectionID error, connecting without ID..."),e._setState(nn.Disconnected),e.connect(!0),c.abrupt("return");case 18:if(!(b8(c.t0)&&!SM(c.t0))){c.next=21;break}return e._setState(nn.Closed),c.abrupt("return");case 21:return c.next=23,ho(Kf(e.consecutiveFailures));case 23:c.next=0;break;case 25:case"end":return c.stop()}},r,null,[[1,8]])}))),C(this,"connect",T(g.default.mark(function r(){var s,o,a,l=arguments;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(s=l.length>0&&l[0]!==void 0?l[0]:!1,e.state!==nn.Connecting){u.next=4;break}return e._log("connect() - connecting already in progress",{reconnect:s},"warn"),u.abrupt("return");case 4:if(e.state!==nn.Connected){u.next=7;break}return e._log("connect() - already connected and polling",{reconnect:s},"warn"),u.abrupt("return");case 7:return e._setState(nn.Connecting),e.connectionID=void 0,u.prev=9,u.next=12,e._req({json:e.client._buildWSPayload()},{timeout:8e3},s);case 12:return o=u.sent,a=o.event,e._setState(nn.Connected),e.connectionID=a.connection_id,e.client.dispatchEvent(a),e._poll(),s&&e.client.recoverState(),u.abrupt("return",a);case 22:throw u.prev=22,u.t0=u.catch(9),e._setState(nn.Closed),u.t0;case 26:case"end":return u.stop()}},r,null,[[9,22]])}))),C(this,"isHealthy",function(){return!!e.connectionID&&e.state===nn.Connected}),C(this,"disconnect",T(g.default.mark(function r(){var s,o,a,l=arguments;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=l.length>0&&l[0]!==void 0?l[0]:2e3,QM(e._onlineStatusChanged),e._setState(nn.Disconnected),(s=e.cancelToken)===null||s===void 0||s.cancel("disconnect() is called"),e.cancelToken=void 0,a=e.connectionID,e.connectionID=void 0,u.prev=7,u.next=10,e._req({close:!0,connection_id:a},{timeout:o},!1);case 10:e._log("disconnect() - Closed connectionID"),u.next=16;break;case 13:u.prev=13,u.t0=u.catch(7),e._log("disconnect() - Failed",{err:u.t0},"error");case 16:case"end":return u.stop()}},r,null,[[7,13]])}))),this.client=i,this.state=nn.Init,this.consecutiveFailures=0,GM(this._onlineStatusChanged)}return Rn(t,[{key:"_log",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"info";this.client.logger(r,"WSConnectionFallback:"+e,l0({tags:["connection_fallback","connection"]},i))}},{key:"_setState",value:function(e){this._log("_setState() - ".concat(e)),this.state===nn.Connecting&&e===nn.Connected&&this.client.dispatchEvent({type:"connection.changed",online:!0}),(e===nn.Closed||e===nn.Disconnected)&&this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=e}}]),t}(),TM=function(){function t(n,e,i,r){Kt(this,t),C(this,"type",void 0),C(this,"id",void 0),C(this,"client",void 0),C(this,"data",void 0),this.client=n,this.type=e,this.id=i,this.data=r}return Rn(t,[{key:"create",value:function(){var n=T(g.default.mark(function i(){var r,s,o,a,l,c;return g.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return c={name:(r=this.data)===null||r===void 0?void 0:r.name,filter:(s=this.data)===null||s===void 0?void 0:s.filter,description:(o=this.data)===null||o===void 0?void 0:o.description,all_sender_channels:(a=this.data)===null||a===void 0?void 0:a.all_sender_channels,all_users:(l=this.data)===null||l===void 0?void 0:l.all_users},d.abrupt("return",this.client.createSegment(this.type,this.id,c));case 2:case"end":return d.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"verifySegmentId",value:function(){if(!this.id)throw new Error("Segment id is missing. Either create the segment using segment.create() or set the id during instantiation - const segment = client.segment(id)")}},{key:"get",value:function(){var n=T(g.default.mark(function i(){return g.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.verifySegmentId(),s.abrupt("return",this.client.getSegment(this.id));case 2:case"end":return s.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"update",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.verifySegmentId(),o.abrupt("return",this.client.updateSegment(this.id,r));case 2:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"addTargets",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.verifySegmentId(),o.abrupt("return",this.client.addSegmentTargets(this.id,r));case 2:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"removeTargets",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.verifySegmentId(),o.abrupt("return",this.client.removeSegmentTargets(this.id,r));case 2:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"delete",value:function(){var n=T(g.default.mark(function i(){return g.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.verifySegmentId(),s.abrupt("return",this.client.deleteSegment(this.id));case 2:case"end":return s.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"targetExists",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.verifySegmentId(),o.abrupt("return",this.client.segmentTargetExists(this.id,r));case 2:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"queryTargets",value:function(){var n=T(g.default.mark(function i(){var r,s,o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=a.length>0&&a[0]!==void 0?a[0]:{},s=a.length>1&&a[1]!==void 0?a[1]:[],o=a.length>2&&a[2]!==void 0?a[2]:{},this.verifySegmentId(),c.abrupt("return",this.client.querySegmentTargets(this.id,r,s,o));case 5:case"end":return c.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()}]),t}();function S8(t){var n=x8();return function(){var i=lo(t),r;if(n){var s=lo(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return aM(this,r)}}function x8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var T8=function(t){oM(e,t);var n=S8(e);function e(){var i;Kt(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=n.call.apply(n,[this].concat(s)),C(Wa(i),"code",void 0),C(Wa(i),"response",void 0),C(Wa(i),"status",void 0),i}return e}(Qf(Error));function IM(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function MM(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?IM(Object(e),!0).forEach(function(i){C(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):IM(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}function I8(t){return typeof t=="function"}var Zf=function t(n){var e=this;Kt(this,t),this.value=n,C(this,"handlerSet",new Set),C(this,"next",function(i){var r=I8(i)?i(e.value):i;if(r!==e.value){var s=e.value;e.value=r,e.handlerSet.forEach(function(o){return o(e.value,s)})}}),C(this,"partialNext",function(i){return e.next(function(r){return MM(MM({},r),i)})}),C(this,"getLatestValue",function(){return e.value}),C(this,"subscribe",function(i){return i(e.value,void 0),e.handlerSet.add(i),function(){e.handlerSet.delete(i)}}),C(this,"subscribeWithSelector",function(i,r){var s,o=function(l){var c=i(l),u=!s;Array.isArray(c)&&t.logCount>0&&(console.warn("[StreamChat]: The API of our StateStore has changed. Instead of returning an array in the selector, please return a named object of properties."),t.logCount--);for(var d in s)if(s[d]!==c[d]){u=!0;break}if(u){var h=s;s=c,r(c,h)}};return e.subscribe(o)})};C(Zf,"logCount",5);var M8=["limit","sort"];function AM(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function Ct(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?AM(Object(e),!0).forEach(function(i){C(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):AM(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}var c0=50,A8=[{created_at:-1}],R8=1e3,O8={channel:!0,channel_cid:!0,created_at:!0,created_by_user_id:!0,parent_message_id:!0,title:!0,updated_at:!0,latest_replies:!0,active_participant_count:!0,deleted_at:!0,last_message_at:!0,participant_count:!0,reply_count:!0,read:!0,thread_participants:!0,created_by:!0,parent_message:!0},RM=function(n){var e={};for(var i in n)if(!O8[i]){var r=i;e[r]=n[r]}return e},OM=function(){function t(n){var e=this,i,r,s=n.client,o=n.threadData;Kt(this,t),C(this,"state",void 0),C(this,"id",void 0),C(this,"client",void 0),C(this,"unsubscribeFunctions",new Set),C(this,"failedRepliesMap",new Map),C(this,"activate",function(){e.state.partialNext({active:!0})}),C(this,"deactivate",function(){e.state.partialNext({active:!1})}),C(this,"reload",T(g.default.mark(function c(){var u;return g.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!e.state.getLatestValue().isLoading){h.next=2;break}return h.abrupt("return");case 2:return e.state.partialNext({isLoading:!0}),h.prev=3,h.next=6,e.client.getThread(e.id,{watch:!0});case 6:u=h.sent,e.hydrateState(u);case 8:return h.prev=8,e.state.partialNext({isLoading:!1}),h.finish(8);case 11:case"end":return h.stop()}},c,null,[[3,,8,11]])}))),C(this,"hydrateState",function(c){if(c!==e){if(c.id!==e.id)throw new Error("Cannot hydrate thread state with using thread's state");var u=c.state.getLatestValue(),d=u.read,h=u.replyCount,f=u.replies,p=u.parentMessage,m=u.participants,_=u.createdAt,D=u.deletedAt,w=u.updatedAt,S=Array.from(e.failedRepliesMap.values());e.state.partialNext({read:d,replyCount:h,replies:S.length?f.concat(S):f,parentMessage:p,participants:m,createdAt:_,deletedAt:D,updatedAt:w,isStateStale:!1})}}),C(this,"registerSubscriptions",function(){e.unsubscribeFunctions.size||(e.unsubscribeFunctions.add(e.subscribeThreadUpdated()),e.unsubscribeFunctions.add(e.subscribeMarkActiveThreadRead()),e.unsubscribeFunctions.add(e.subscribeReloadActiveStaleThread()),e.unsubscribeFunctions.add(e.subscribeMarkThreadStale()),e.unsubscribeFunctions.add(e.subscribeNewReplies()),e.unsubscribeFunctions.add(e.subscribeRepliesRead()),e.unsubscribeFunctions.add(e.subscribeMessageDeleted()),e.unsubscribeFunctions.add(e.subscribeMessageUpdated()))}),C(this,"subscribeThreadUpdated",function(){return e.client.on("thread.updated",function(c){if(!(!c.thread||c.thread.parent_message_id!==e.id)){var u=c.thread;e.state.partialNext({title:u.title,updatedAt:new Date(u.updated_at),deletedAt:u.deleted_at?new Date(u.deleted_at):null,custom:RM(u)})}}).unsubscribe}),C(this,"subscribeMarkActiveThreadRead",function(){return e.state.subscribeWithSelector(function(c){return{active:c.active,unreadMessageCount:kM(e.client.userID)(c)}},function(c){var u=c.active,d=c.unreadMessageCount;!u||!d||e.throttledMarkAsRead()})}),C(this,"subscribeReloadActiveStaleThread",function(){return e.state.subscribeWithSelector(function(c){return{active:c.active,isStateStale:c.isStateStale}},function(c){var u=c.active,d=c.isStateStale;u&&d&&e.reload()})}),C(this,"subscribeMarkThreadStale",function(){return e.client.on("user.watching.stop",function(c){var u,d,h=e.state.getLatestValue(),f=h.channel;!e.client.userID||e.client.userID!==((u=c.user)===null||u===void 0?void 0:u.id)||((d=c.channel)===null||d===void 0?void 0:d.cid)!==f.cid||e.state.partialNext({isStateStale:!0})}).unsubscribe}),C(this,"subscribeNewReplies",function(){return e.client.on("message.new",function(c){var u,d;if(!(!e.client.userID||((u=c.message)===null||u===void 0?void 0:u.parent_id)!==e.id)){var h=((d=c.message.user)===null||d===void 0?void 0:d.id)===e.client.userID,f=e.state.getLatestValue(),p=f.active,m=f.read;e.upsertReplyLocally({message:c.message,timestampChanged:h}),p&&e.throttledMarkAsRead();for(var _={},D=0,w=Object.keys(m);D<w.length;D++){var S=w[D],k=m[S];if(k){var L,W=k;S===((L=c.user)===null||L===void 0?void 0:L.id)?W=Ct(Ct({},W),{},{lastReadAt:c.created_at?new Date(c.created_at):new Date,user:c.user,unreadMessageCount:0}):p&&S===e.client.userID||(W=Ct(Ct({},W),{},{unreadMessageCount:k.unreadMessageCount+1})),_[S]=W}}e.state.partialNext({read:_})}}).unsubscribe}),C(this,"subscribeRepliesRead",function(){return e.client.on("message.read",function(c){if(!(!c.user||!c.created_at||!c.thread)&&c.thread.parent_message_id===e.id){var u=c.user.id,d=c.created_at,h=c.user;e.state.next(function(f){return Ct(Ct({},f),{},{read:Ct(Ct({},f.read),{},C({},u,{lastReadAt:new Date(d),user:h,lastReadMessageId:c.last_read_message_id,unreadMessageCount:0}))})})}}).unsubscribe}),C(this,"subscribeMessageDeleted",function(){return e.client.on("message.deleted",function(c){c.message&&(c.message.parent_id===e.id&&(c.hard_delete?e.deleteReplyLocally({message:c.message}):e.upsertReplyLocally({message:c.message})),c.message.id===e.id&&e.updateParentMessageLocally({message:c.message}))}).unsubscribe}),C(this,"subscribeMessageUpdated",function(){var c=["message.updated","reaction.new","reaction.deleted","reaction.updated"],u=c.map(function(d){return e.client.on(d,function(h){h.message&&e.updateParentMessageOrReplyLocally(h.message)}).unsubscribe});return function(){return u.forEach(function(d){return d()})}}),C(this,"unregisterSubscriptions",function(){e.unsubscribeFunctions.forEach(function(c){return c()}),e.unsubscribeFunctions.clear()}),C(this,"deleteReplyLocally",function(c){var u,d=c.message,h=e.state.getLatestValue(),f=h.replies,p=YM({needle:ls(d),sortedArray:f,sortDirection:"ascending",selectValueToCompare:function(D){return D.created_at.getTime()},selectKey:function(D){return D.id}});if(((u=f[p])===null||u===void 0?void 0:u.id)===d.id){var m=St(f);m.splice(p,1),e.state.partialNext({replies:m})}}),C(this,"upsertReplyLocally",function(c){var u=c.message,d=c.timestampChanged,h=d===void 0?!1:d;if(u.parent_id!==e.id)throw new Error("Reply does not belong to this thread");var f=ls(u);u.status==="failed"?e.failedRepliesMap.set(f.id,f):e.failedRepliesMap.has(u.id)&&e.failedRepliesMap.delete(u.id),e.state.next(function(p){return Ct(Ct({},p),{},{replies:KM(p.replies,f,h)})})}),C(this,"updateParentMessageLocally",function(c){var u=c.message;if(u.id!==e.id)throw new Error("Message does not belong to this thread");e.state.next(function(d){var h,f=ls(u);return Ct(Ct({},d),{},{deletedAt:f.deleted_at,parentMessage:f,replyCount:(h=u.reply_count)!==null&&h!==void 0?h:d.replyCount})})}),C(this,"updateParentMessageOrReplyLocally",function(c){c.parent_id===e.id&&e.upsertReplyLocally({message:c}),!c.parent_id&&c.id===e.id&&e.updateParentMessageLocally({message:c})}),C(this,"markAsRead",T(g.default.mark(function c(){var u,d,h,f=arguments;return g.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(u=f.length>0&&f[0]!==void 0?f[0]:{},d=u.force,h=d===void 0?!1:d,!(e.ownUnreadCount===0&&!h)){m.next=3;break}return m.abrupt("return",null);case 3:return m.next=5,e.channel.markRead({thread_id:e.id});case 5:return m.abrupt("return",m.sent);case 6:case"end":return m.stop()}},c)}))),C(this,"throttledMarkAsRead",ZM(function(){return e.markAsRead()},R8,{trailing:!0})),C(this,"queryReplies",function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=c.limit,d=u===void 0?c0:u,h=c.sort,f=h===void 0?A8:h,p=La(c,M8);return e.channel.getReplies(e.id,Ct({limit:d},p),f)}),C(this,"loadNextPage",function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=c.limit,d=u===void 0?c0:u;return e.loadPage(d)}),C(this,"loadPrevPage",function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=c.limit,d=u===void 0?c0:u;return e.loadPage(-d)}),C(this,"loadPage",function(){var c=T(g.default.mark(function u(d){var h,f,p,m,_,D,w,S,k,L,W,oe,K,de;return g.default.wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:if(h=e.state.getLatestValue(),f=h.pagination,p=d>0?["isLoadingNext","nextCursor","push"]:["isLoadingPrev","prevCursor","unshift"],m=za(p,3),_=m[0],D=m[1],w=m[2],!(f[_]||f[D]===null)){Ye.next=4;break}return Ye.abrupt("return");case 4:return S=C({},d>0?"id_gt":"id_lt",f[D]),k=Math.abs(d),e.state.partialNext({pagination:Ct(Ct({},f),{},C({},_,!0))}),Ye.prev=7,Ye.next=10,e.queryReplies(Ct(Ct({},S),{},{limit:k}));case 10:oe=Ye.sent,K=oe.messages.map(ls),de=(L=(W=K.at(d>0?-1:0))===null||W===void 0?void 0:W.id)!==null&&L!==void 0?L:null,e.state.next(function(ae){var Z,X=ae.replies;if(K.length>0){var ce;X=St(ae.replies),(ce=X)[w].apply(ce,St(K))}return Ct(Ct({},ae),{},{replies:X,pagination:Ct(Ct({},ae.pagination),{},(Z={},C(Z,D,oe.messages.length<k?null:de),C(Z,_,!1),Z))})}),Ye.next=20;break;case 16:Ye.prev=16,Ye.t0=Ye.catch(7),e.client.logger("error",Ye.t0.message),e.state.next(function(ae){return Ct(Ct({},ae),{},{pagination:Ct(Ct({},ae.pagination),{},C({},_,!1))})});case 20:case"end":return Ye.stop()}},u,null,[[7,16]])}));return function(u){return c.apply(this,arguments)}}());var a=s.channel(o.channel.type,o.channel.id,{name:o.channel.name});a._hydrateMembers({members:(i=o.channel.members)!==null&&i!==void 0?i:[],overrideCurrentState:!1});var l=s.userID?[{user:{id:s.userID},unread_messages:0,last_read:new Date().toISOString()}]:[];this.state=new Zf({active:!1,isLoading:!1,isStateStale:!1,channel:a,createdAt:new Date(o.created_at),deletedAt:o.deleted_at?new Date(o.deleted_at):null,pagination:F8(o),parentMessage:ls(o.parent_message),participants:o.thread_participants,read:k8(!o.read||o.read.length===0?l:o.read),replies:o.latest_replies.map(ls),replyCount:(r=o.reply_count)!==null&&r!==void 0?r:0,updatedAt:o.updated_at?new Date(o.updated_at):null,title:o.title,custom:RM(o)}),this.id=o.parent_message_id,this.client=s}return Rn(t,[{key:"channel",get:function(){return this.state.getLatestValue().channel}},{key:"hasStaleState",get:function(){return this.state.getLatestValue().isStateStale}},{key:"ownUnreadCount",get:function(){return kM(this.client.userID)(this.state.getLatestValue())}}]),t}(),k8=function(n){return n.reduce(function(e,i){var r;return e[i.user.id]={user:i.user,lastReadMessageId:i.last_read_message_id,unreadMessageCount:(r=i.unread_messages)!==null&&r!==void 0?r:0,lastReadAt:new Date(i.last_read)},e},{})},F8=function(n){var e,i,r=n.latest_replies.length===n.reply_count;return{nextCursor:null,prevCursor:r?null:(e=(i=n.latest_replies.at(0))===null||i===void 0?void 0:i.id)!==null&&e!==void 0?e:null,isLoadingNext:!1,isLoadingPrev:!1}},kM=function(n){return function(e){var i;return n&&((i=e.read[n])===null||i===void 0?void 0:i.unreadMessageCount)||0}};function FM(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function co(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?FM(Object(e),!0).forEach(function(i){C(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):FM(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}var u0={user:"stream:user",message:"stream:chat:v1:message"},P8=function(){function t(n){Kt(this,t),C(this,"client",void 0),this.client=n}return Rn(t,[{key:"flagUser",value:function(){var n=T(g.default.mark(function i(r,s){var o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.length>2&&a[2]!==void 0?a[2]:{},c.abrupt("return",this.flag(u0.user,r,"",s,o));case 2:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"flagMessage",value:function(){var n=T(g.default.mark(function i(r,s){var o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.length>2&&a[2]!==void 0?a[2]:{},c.abrupt("return",this.flag(u0.message,r,"",s,o));case 2:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"flag",value:function(){var n=T(g.default.mark(function i(r,s,o,a){var l,c=arguments;return g.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return l=c.length>4&&c[4]!==void 0?c[4]:{},d.next=3,this.client.post(this.client.baseURL+"/api/v2/moderation/flag",co({entity_type:r,entity_id:s,entity_creator_id:o,reason:a},l));case 3:return d.abrupt("return",d.sent);case 4:case"end":return d.stop()}},i,this)}));function e(i,r,s,o){return n.apply(this,arguments)}return e}()},{key:"muteUser",value:function(){var n=T(g.default.mark(function i(r){var s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.client.post(this.client.baseURL+"/api/v2/moderation/mute",co({target_ids:[r]},s));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"unmuteUser",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.client.post(this.client.baseURL+"/api/v2/moderation/unmute",co({target_ids:[r]},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"getUserModerationReport",value:function(){var n=T(g.default.mark(function i(r){var s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.client.get(this.client.baseURL+"/api/v2/moderation/user_report",co({user_id:r},s));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"queryReviewQueue",value:function(){var n=T(g.default.mark(function i(){var r,s,o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=a.length>0&&a[0]!==void 0?a[0]:{},s=a.length>1&&a[1]!==void 0?a[1]:[],o=a.length>2&&a[2]!==void 0?a[2]:{},c.next=5,this.client.post(this.client.baseURL+"/api/v2/moderation/review_queue",co({filter:r,sort:On(s)},o));case 5:return c.abrupt("return",c.sent);case 6:case"end":return c.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"upsertConfig",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.client.post(this.client.baseURL+"/api/v2/moderation/config",r);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"getConfig",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.client.get(this.client.baseURL+"/api/v2/moderation/config/"+r,s);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"deleteConfig",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.client.delete(this.client.baseURL+"/api/v2/moderation/config/"+r,s);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"queryConfigs",value:function(){var n=T(g.default.mark(function i(r,s){var o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.length>2&&a[2]!==void 0?a[2]:{},c.next=3,this.client.post(this.client.baseURL+"/api/v2/moderation/configs",co({filter:r,sort:s},o));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"submitAction",value:function(){var n=T(g.default.mark(function i(r,s){var o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.length>2&&a[2]!==void 0?a[2]:{},c.next=3,this.client.post(this.client.baseURL+"/api/v2/moderation/submit_action",co({action_type:r,item_id:s},o));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"check",value:function(){var n=T(g.default.mark(function i(r,s,o,a,l,c){return g.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.client.post(this.client.baseURL+"/api/v2/moderation/check",{entity_type:r,entity_id:s,entity_creator_id:o,moderation_payload:a,config_key:l,options:c});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},i,this)}));function e(i,r,s,o,a,l){return n.apply(this,arguments)}return e}()},{key:"addCustomFlags",value:function(){var n=T(g.default.mark(function i(r,s,o,a,l){return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.client.post(this.client.baseURL+"/api/v2/moderation/custom_check",{entity_type:r,entity_id:s,entity_creator_id:o,moderation_payload:a,flags:l});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},i,this)}));function e(i,r,s,o,a){return n.apply(this,arguments)}return e}()},{key:"addCustomMessageFlags",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.addCustomFlags(u0.message,r,"",{},s);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()}]),t}();function N8(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=L8(t))||n&&t&&typeof t.length=="number"){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){e=e.call(t)},n:function(){var c=e.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(o)throw a}}}}function L8(t,n){if(t){if(typeof t=="string")return PM(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return PM(t,n)}}function PM(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function NM(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function pt(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?NM(Object(e),!0).forEach(function(i){C(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):NM(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}var V8=1e3,LM=25,VM={active:!1,isThreadOrderStale:!1,threads:[],unreadThreadCount:0,unseenThreadIds:[],lastConnectionDropAt:null,pagination:{isLoading:!1,isLoadingNext:!1,nextCursor:null},ready:!1},j8=function(){function t(n){var e=this,i=n.client;Kt(this,t),C(this,"state",void 0),C(this,"client",void 0),C(this,"unsubscribeFunctions",new Set),C(this,"threadsByIdGetterCache",void 0),C(this,"resetState",function(){e.state.next(VM)}),C(this,"activate",function(){e.state.partialNext({active:!0})}),C(this,"deactivate",function(){e.state.partialNext({active:!1})}),C(this,"registerSubscriptions",function(){e.unsubscribeFunctions.size||(e.unsubscribeFunctions.add(e.subscribeUnreadThreadsCountChange()),e.unsubscribeFunctions.add(e.subscribeManageThreadSubscriptions()),e.unsubscribeFunctions.add(e.subscribeReloadOnActivation()),e.unsubscribeFunctions.add(e.subscribeNewReplies()),e.unsubscribeFunctions.add(e.subscribeRecoverAfterConnectionDrop()),e.unsubscribeFunctions.add(e.subscribeChannelDeleted()))}),C(this,"subscribeUnreadThreadsCountChange",function(){var r,s=(r=e.client.user)!==null&&r!==void 0?r:{},o=s.unread_threads,a=o===void 0?0:o;e.state.partialNext({unreadThreadCount:a});var l=["health.check","notification.mark_read","notification.thread_message_new","notification.channel_deleted"].map(function(c){return e.client.on(c,function(u){var d,h=(d=u.me)!==null&&d!==void 0?d:u,f=h.unread_threads;typeof f=="number"&&e.state.partialNext({unreadThreadCount:f})}).unsubscribe});return function(){return l.forEach(function(c){return c()})}}),C(this,"subscribeChannelDeleted",function(){return e.client.on("notification.channel_deleted",function(r){var s=r.cid,o=e.state.getLatestValue(),a=o.threads,l=a.filter(function(c){return c.channel.cid!==s});e.state.partialNext({threads:l})}).unsubscribe}),C(this,"subscribeManageThreadSubscriptions",function(){return e.state.subscribeWithSelector(function(r){return{threads:r.threads}},function(r,s){var o=r.threads,a=s??{},l=a.threads,c=l===void 0?[]:l,u=c.filter(function(d){return d!==e.threadsById[d.id]});o.forEach(function(d){return d.registerSubscriptions()}),u.forEach(function(d){return d.unregisterSubscriptions()})})}),C(this,"subscribeReloadOnActivation",function(){return e.state.subscribeWithSelector(function(r){return{active:r.active}},function(r){var s=r.active;s&&e.reload()})}),C(this,"subscribeNewReplies",function(){return e.client.on("notification.thread_message_new",function(r){var s,o=(s=r.message)===null||s===void 0?void 0:s.parent_id;if(o){var a=e.state.getLatestValue(),l=a.unseenThreadIds,c=a.ready;c&&(e.threadsById[o]?e.state.partialNext({isThreadOrderStale:!0}):l.includes(o)||e.state.partialNext({unseenThreadIds:l.concat(o)}))}}).unsubscribe}),C(this,"subscribeRecoverAfterConnectionDrop",function(){var r=e.client.on("connection.changed",function(a){a.online===!1&&e.state.next(function(l){return l.lastConnectionDropAt?l:pt(pt({},l),{},{lastConnectionDropAt:new Date})})}).unsubscribe,s=ZM(function(){var a=e.state.getLatestValue(),l=a.lastConnectionDropAt;l&&e.reload({force:!0})},V8,{trailing:!0}),o=e.client.on("connection.recovered",s).unsubscribe;return function(){r(),o()}}),C(this,"unregisterSubscriptions",function(){e.state.getLatestValue().threads.forEach(function(r){return r.unregisterSubscriptions()}),e.unsubscribeFunctions.forEach(function(r){return r()}),e.unsubscribeFunctions.clear()}),C(this,"reload",T(g.default.mark(function r(){var s,o,a,l,c,u,d,h,f,p,m,_,D,w,S,k,L,W=arguments;return g.default.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(s=W.length>0&&W[0]!==void 0?W[0]:{},o=s.force,a=o===void 0?!1:o,l=e.state.getLatestValue(),c=l.threads,u=l.unseenThreadIds,d=l.isThreadOrderStale,h=l.pagination,f=l.ready,!h.isLoading){K.next=4;break}return K.abrupt("return");case 4:if(!(!a&&f&&!u.length&&!d)){K.next=6;break}return K.abrupt("return");case 6:return p=c.length+u.length,K.prev=7,e.state.next(function(de){return pt(pt({},de),{},{pagination:pt(pt({},de.pagination),{},{isLoading:!0})})}),K.next=11,e.queryThreads({limit:Math.min(p,LM)||LM});case 11:m=K.sent,_=e.threadsById,D=[],w=N8(m.threads);try{for(w.s();!(S=w.n()).done;)k=S.value,L=_[k.id],L?(D.push(L),L.hasStaleState&&L.hydrateState(k)):D.push(k)}catch(de){w.e(de)}finally{w.f()}e.state.next(function(de){var it;return pt(pt({},de),{},{threads:D,unseenThreadIds:[],isThreadOrderStale:!1,pagination:pt(pt({},de.pagination),{},{isLoading:!1,nextCursor:(it=m.next)!==null&&it!==void 0?it:null}),ready:!0})}),K.next=23;break;case 19:K.prev=19,K.t0=K.catch(7),e.client.logger("error",K.t0.message),e.state.next(function(de){return pt(pt({},de),{},{pagination:pt(pt({},de.pagination),{},{isLoading:!1})})});case 23:case"end":return K.stop()}},r,null,[[7,19]])}))),C(this,"queryThreads",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.client.queryThreads(pt({limit:25,participant_limit:10,reply_limit:10,watch:!0},r))}),C(this,"loadNextPage",T(g.default.mark(function r(){var s,o,a,l,c=arguments;return g.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(s=c.length>0&&c[0]!==void 0?c[0]:{},o=e.state.getLatestValue(),a=o.pagination,!(a.isLoadingNext||!a.nextCursor)){d.next=4;break}return d.abrupt("return");case 4:return d.prev=4,e.state.partialNext({pagination:pt(pt({},a),{},{isLoadingNext:!0})}),d.next=8,e.queryThreads(pt(pt({},s),{},{next:a.nextCursor}));case 8:l=d.sent,e.state.next(function(h){var f;return pt(pt({},h),{},{threads:l.threads.length?h.threads.concat(l.threads):h.threads,pagination:pt(pt({},h.pagination),{},{nextCursor:(f=l.next)!==null&&f!==void 0?f:null,isLoadingNext:!1})})}),d.next=16;break;case 12:d.prev=12,d.t0=d.catch(4),e.client.logger("error",d.t0.message),e.state.next(function(h){return pt(pt({},h),{},{pagination:pt(pt({},h.pagination),{},{isLoadingNext:!1})})});case 16:case"end":return d.stop()}},r,null,[[4,12]])}))),this.client=i,this.state=new Zf(VM),this.threadsByIdGetterCache={threads:[],threadsById:{}}}return Rn(t,[{key:"threadsById",get:function(){var e=this.state.getLatestValue(),i=e.threads;if(i===this.threadsByIdGetterCache.threads)return this.threadsByIdGetterCache.threadsById;var r=i.reduce(function(s,o){return s[o.id]=o,s},{});return this.threadsByIdGetterCache.threads=i,this.threadsByIdGetterCache.threadsById=r,r}}]),t}(),B8=["own_votes","id"],U8=["id"];function jM(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function Dn(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?jM(Object(e),!0).forEach(function(i){C(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):jM(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}var $8=function(n){return n.type==="poll.updated"},H8=function(n){return n.type==="poll.closed"},z8=function(n){return n.type==="poll.vote_casted"},q8=function(n){return n.type==="poll.vote_changed"},W8=function(n){return n.type==="poll.vote_removed"},uo=function(n){return!!(n!=null&&n.answer_text)},BM=function(){function t(n){var e=this,i=n.client,r=n.poll;Kt(this,t),C(this,"state",void 0),C(this,"id",void 0),C(this,"client",void 0),C(this,"unsubscribeFunctions",new Set),C(this,"getInitialStateFromPollResponse",function(s){var o,a=s.own_votes;s.id;var l=La(s,B8),c=(o=a?.reduce(function(h,f){return uo(f)?h.ownAnswer=f:h.ownVotes.push(f),h},{ownVotes:[]}))!==null&&o!==void 0?o:{ownVotes:[]},u=c.ownAnswer,d=c.ownVotes;return Dn(Dn({},l),{},{lastActivityAt:new Date,maxVotedOptionIds:Wc(l.vote_counts_by_option),ownAnswer:u,ownVotesByOptionId:G8(d)})}),C(this,"reinitializeState",function(s){e.state.partialNext(e.getInitialStateFromPollResponse(s))}),C(this,"handlePollUpdated",function(s){var o;if(!((o=s.poll)!==null&&o!==void 0&&o.id&&s.poll.id!==e.id)&&$8(s)){var a=Q8(s.poll),l=La(a,U8);e.state.partialNext(Dn(Dn({},l),{},{lastActivityAt:new Date(s.created_at)}))}}),C(this,"handlePollClosed",function(s){var o;(o=s.poll)!==null&&o!==void 0&&o.id&&s.poll.id!==e.id||H8(s)&&e.state.partialNext({is_closed:!0,lastActivityAt:new Date(s.created_at)})}),C(this,"handleVoteCasted",function(s){var o;if(!((o=s.poll)!==null&&o!==void 0&&o.id&&s.poll.id!==e.id)&&z8(s)){var a=e.data,l=s.poll_vote.user_id===e.client.userID,c=St(a.latest_answers),u=a.ownAnswer,d=a.ownVotesByOptionId,h=a.maxVotedOptionIds;l&&(uo(s.poll_vote)?u=s.poll_vote:s.poll_vote.option_id&&(d[s.poll_vote.option_id]=s.poll_vote)),uo(s.poll_vote)?c=[s.poll_vote].concat(St(c)):h=Wc(s.poll.vote_counts_by_option);var f=d0(s.poll);e.state.partialNext(Dn(Dn({},f),{},{latest_answers:c,lastActivityAt:new Date(s.created_at),ownAnswer:u,ownVotesByOptionId:d,maxVotedOptionIds:h}))}}),C(this,"handleVoteChanged",function(s){var o;if(!((o=s.poll)!==null&&o!==void 0&&o.id&&s.poll.id!==e.id)&&q8(s)){var a=e.data,l=s.poll_vote.user_id===e.client.userID,c=St(a.latest_answers),u=a.ownAnswer,d=a.ownVotesByOptionId,h=a.maxVotedOptionIds;if(l){if(uo(s.poll_vote))c=[s.poll_vote].concat(St(c.filter(function(m){return m.id!==s.poll_vote.id}))),u=s.poll_vote;else if(s.poll_vote.option_id){var f;s.poll.enforce_unique_votes?d=C({},s.poll_vote.option_id,s.poll_vote):(d=Object.entries(d).reduce(function(m,_){var D=za(_,2),w=D[0],S=D[1];return w!==s.poll_vote.option_id&&S.id===s.poll_vote.id||(m[w]=S),m},{}),d[s.poll_vote.option_id]=s.poll_vote),((f=u)===null||f===void 0?void 0:f.id)===s.poll_vote.id&&(u=void 0),h=Wc(s.poll.vote_counts_by_option)}}else uo(s.poll_vote)?c=[s.poll_vote].concat(St(c)):h=Wc(s.poll.vote_counts_by_option);var p=d0(s.poll);e.state.partialNext(Dn(Dn({},p),{},{latest_answers:c,lastActivityAt:new Date(s.created_at),ownAnswer:u,ownVotesByOptionId:d,maxVotedOptionIds:h}))}}),C(this,"handleVoteRemoved",function(s){var o;if(!((o=s.poll)!==null&&o!==void 0&&o.id&&s.poll.id!==e.id)&&W8(s)){var a=e.data,l=s.poll_vote.user_id===e.client.userID,c=St(a.latest_answers),u=a.ownAnswer,d=Dn({},a.ownVotesByOptionId),h=a.maxVotedOptionIds;uo(s.poll_vote)?(c=c.filter(function(p){return p.id!==s.poll_vote.id}),l&&(u=void 0)):(h=Wc(s.poll.vote_counts_by_option),l&&s.poll_vote.option_id&&delete d[s.poll_vote.option_id]);var f=d0(s.poll);e.state.partialNext(Dn(Dn({},f),{},{latest_answers:c,lastActivityAt:new Date(s.created_at),ownAnswer:u,ownVotesByOptionId:d,maxVotedOptionIds:h}))}}),C(this,"query",function(){var s=T(g.default.mark(function o(a){var l,c;return g.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,e.client.getPoll(a);case 2:return l=d.sent,c=l.poll,e.state.partialNext(Dn(Dn({},c),{},{lastActivityAt:new Date})),d.abrupt("return",c);case 6:case"end":return d.stop()}},o)}));return function(o){return s.apply(this,arguments)}}()),C(this,"update",function(){var s=T(g.default.mark(function o(a){return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.client.updatePoll(Dn(Dn({},a),{},{id:e.id}));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},o)}));return function(o){return s.apply(this,arguments)}}()),C(this,"partialUpdate",function(){var s=T(g.default.mark(function o(a){return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.client.partialUpdatePoll(e.id,a);case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},o)}));return function(o){return s.apply(this,arguments)}}()),C(this,"close",T(g.default.mark(function s(){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.client.closePoll(e.id);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},s)}))),C(this,"delete",T(g.default.mark(function s(){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.client.deletePoll(e.id);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},s)}))),C(this,"createOption",function(){var s=T(g.default.mark(function o(a){return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.client.createPollOption(e.id,a);case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},o)}));return function(o){return s.apply(this,arguments)}}()),C(this,"updateOption",function(){var s=T(g.default.mark(function o(a){return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.client.updatePollOption(e.id,a);case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},o)}));return function(o){return s.apply(this,arguments)}}()),C(this,"deleteOption",function(){var s=T(g.default.mark(function o(a){return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.client.deletePollOption(e.id,a);case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},o)}));return function(o){return s.apply(this,arguments)}}()),C(this,"castVote",function(){var s=T(g.default.mark(function o(a,l){var c,u,d,h,f,p;return g.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(c=e.data,u=c.max_votes_allowed,d=c.ownVotesByOptionId,h=u&&u===Object.keys(d).length,!h){_.next=8;break}if(p=Object.values(d)[0],Object.values(d).slice(1).forEach(function(D){var w;(!((w=p)!==null&&w!==void 0&&w.created_at)||new Date(D.created_at)<new Date(p.created_at))&&(p=D)}),!((f=p)!==null&&f!==void 0&&f.id)){_.next=8;break}return _.next=8,e.removeVote(p.id,l);case 8:return _.next=10,e.client.castPollVote(l,e.id,{option_id:a});case 10:return _.abrupt("return",_.sent);case 11:case"end":return _.stop()}},o)}));return function(o,a){return s.apply(this,arguments)}}()),C(this,"removeVote",function(){var s=T(g.default.mark(function o(a,l){return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,e.client.removePollVote(l,e.id,a);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},o)}));return function(o,a){return s.apply(this,arguments)}}()),C(this,"addAnswer",function(){var s=T(g.default.mark(function o(a,l){return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,e.client.addPollAnswer(l,e.id,a);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},o)}));return function(o,a){return s.apply(this,arguments)}}()),C(this,"removeAnswer",function(){var s=T(g.default.mark(function o(a,l){return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,e.client.removePollVote(l,e.id,a);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},o)}));return function(o,a){return s.apply(this,arguments)}}()),C(this,"queryAnswers",function(){var s=T(g.default.mark(function o(a){return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.client.queryPollAnswers(e.id,a.filter,a.sort,a.options);case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},o)}));return function(o){return s.apply(this,arguments)}}()),C(this,"queryOptionVotes",function(){var s=T(g.default.mark(function o(a){return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.client.queryPollVotes(e.id,a.filter,a.sort,a.options);case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},o)}));return function(o){return s.apply(this,arguments)}}()),this.client=i,this.id=r.id,this.state=new Zf(this.getInitialStateFromPollResponse(r))}return Rn(t,[{key:"data",get:function(){return this.state.getLatestValue()}}]),t}();function Wc(t){for(var n=0,e=[],i=0,r=Object.entries(t??{});i<r.length;i++){var s=za(r[i],2),o=s[0],a=s[1];a>n?(e=[o],n=a):a===n&&e.push(o)}return e}function G8(t){return t?t.reduce(function(n,e){return uo(e)||!e.option_id||(n[e.option_id]=e),n},{}):{}}function Q8(t){return{allow_answers:t.allow_answers,allow_user_suggested_options:t.allow_user_suggested_options,description:t.description,enforce_unique_vote:t.enforce_unique_vote,id:t.id,is_closed:t.is_closed,max_votes_allowed:t.max_votes_allowed,name:t.name,options:t.options,voting_visibility:t.voting_visibility}}function d0(t){return{answers_count:t.answers_count,latest_votes_by_option:t.latest_votes_by_option,vote_count:t.vote_count,vote_counts_by_option:t.vote_counts_by_option}}function Y8(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=K8(t))||n&&t&&typeof t.length=="number"){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){e=e.call(t)},n:function(){var c=e.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(o)throw a}}}}function K8(t,n){if(t){if(typeof t=="string")return UM(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return UM(t,n)}}function UM(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var Z8=function(){function t(n){var e=this,i=n.client;Kt(this,t),C(this,"client",void 0),C(this,"pollCache",new Map),C(this,"unsubscribeFunctions",new Set),C(this,"fromState",function(r){return e.pollCache.get(r)}),C(this,"registerSubscriptions",function(){e.unsubscribeFunctions.size||(e.unsubscribeFunctions.add(e.subscribeMessageNew()),e.unsubscribeFunctions.add(e.subscribePollUpdated()),e.unsubscribeFunctions.add(e.subscribePollClosed()),e.unsubscribeFunctions.add(e.subscribeVoteCasted()),e.unsubscribeFunctions.add(e.subscribeVoteChanged()),e.unsubscribeFunctions.add(e.subscribeVoteRemoved()))}),C(this,"unregisterSubscriptions",function(){e.unsubscribeFunctions.forEach(function(r){return r()}),e.unsubscribeFunctions.clear()}),C(this,"createPoll",function(){var r=T(g.default.mark(function s(o){var a,l;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,e.client.createPoll(o);case 2:return a=u.sent,l=a.poll,u.abrupt("return",new BM({client:e.client,poll:l}));case 5:case"end":return u.stop()}},s)}));return function(s){return r.apply(this,arguments)}}()),C(this,"getPoll",function(){var r=T(g.default.mark(function s(o){var a,l,c;return g.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(a=e.fromState(o),!a){d.next=4;break}return e.client.getPoll(o).then(function(h){var f=h.poll;return e.setOrOverwriteInCache(f,!0)}),d.abrupt("return",a);case 4:return d.next=6,e.client.getPoll(o);case 6:return l=d.sent,c=l.poll,e.setOrOverwriteInCache(c),d.abrupt("return",e.fromState(o));case 10:case"end":return d.stop()}},s)}));return function(s){return r.apply(this,arguments)}}()),C(this,"queryPolls",function(){var r=T(g.default.mark(function s(o){var a,l,c,u,d,h,f=arguments;return g.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return a=f.length>1&&f[1]!==void 0?f[1]:[],l=f.length>2&&f[2]!==void 0?f[2]:{},m.next=4,e.client.queryPolls(o,a,l);case 4:return c=m.sent,u=c.polls,d=c.next,h=u.map(function(_){return e.setOrOverwriteInCache(_,!0),e.fromState(_.id)}),m.abrupt("return",{polls:h,next:d});case 9:case"end":return m.stop()}},s)}));return function(s){return r.apply(this,arguments)}}()),C(this,"hydratePollCache",function(r,s){var o=Y8(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value;if(l.poll){var c=l.poll;e.setOrOverwriteInCache(c,s)}}}catch(u){o.e(u)}finally{o.f()}}),C(this,"setOrOverwriteInCache",function(r,s){if(e.client._cacheEnabled()){var o=e.fromState(r.id);if(o)s&&o.reinitializeState(r);else{var a=new BM({client:e.client,poll:r});e.pollCache.set(a.id,a)}}}),C(this,"subscribePollUpdated",function(){return e.client.on("poll.updated",function(r){var s;if((s=r.poll)!==null&&s!==void 0&&s.id){var o;(o=e.fromState(r.poll.id))===null||o===void 0||o.handlePollUpdated(r)}}).unsubscribe}),C(this,"subscribePollClosed",function(){return e.client.on("poll.closed",function(r){var s;if((s=r.poll)!==null&&s!==void 0&&s.id){var o;(o=e.fromState(r.poll.id))===null||o===void 0||o.handlePollClosed(r)}}).unsubscribe}),C(this,"subscribeVoteCasted",function(){return e.client.on("poll.vote_casted",function(r){var s;if((s=r.poll)!==null&&s!==void 0&&s.id){var o;(o=e.fromState(r.poll.id))===null||o===void 0||o.handleVoteCasted(r)}}).unsubscribe}),C(this,"subscribeVoteChanged",function(){return e.client.on("poll.vote_changed",function(r){var s;if((s=r.poll)!==null&&s!==void 0&&s.id){var o;(o=e.fromState(r.poll.id))===null||o===void 0||o.handleVoteChanged(r)}}).unsubscribe}),C(this,"subscribeVoteRemoved",function(){return e.client.on("poll.vote_removed",function(r){var s;if((s=r.poll)!==null&&s!==void 0&&s.id){var o;(o=e.fromState(r.poll.id))===null||o===void 0||o.handleVoteRemoved(r)}}).unsubscribe}),C(this,"subscribeMessageNew",function(){return e.client.on("message.new",function(r){var s=r.message;if(s){var o=ls(s);e.hydratePollCache([o])}}).unsubscribe}),this.client=i}return Rn(t,[{key:"data",get:function(){return this.pollCache}}]),t}(),X8=["created_at","updated_at","last_active","online"],J8=["params","headers"];function Yf(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=e6(t))||n&&t&&typeof t.length=="number"){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){e=e.call(t)},n:function(){var c=e.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(o)throw a}}}}function e6(t,n){if(t){if(typeof t=="string")return $M(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return $M(t,n)}}function $M(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function HM(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function z(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?HM(Object(e),!0).forEach(function(i){C(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):HM(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}function Ga(t){return typeof t=="string"||t instanceof String}var p0=function(){function t(n,e,i){var r=this,s;Kt(this,t),C(this,"_user",void 0),C(this,"activeChannels",void 0),C(this,"threads",void 0),C(this,"polls",void 0),C(this,"anonymous",void 0),C(this,"persistUserOnConnectionFailure",void 0),C(this,"axiosInstance",void 0),C(this,"baseURL",void 0),C(this,"browser",void 0),C(this,"cleaningIntervalRef",void 0),C(this,"clientID",void 0),C(this,"configs",void 0),C(this,"key",void 0),C(this,"listeners",void 0),C(this,"logger",void 0),C(this,"recoverStateOnReconnect",void 0),C(this,"moderation",void 0),C(this,"mutedChannels",void 0),C(this,"mutedUsers",void 0),C(this,"node",void 0),C(this,"options",void 0),C(this,"secret",void 0),C(this,"setUserPromise",void 0),C(this,"state",void 0),C(this,"tokenManager",void 0),C(this,"user",void 0),C(this,"userAgent",void 0),C(this,"userID",void 0),C(this,"wsBaseURL",void 0),C(this,"wsConnection",void 0),C(this,"wsFallback",void 0),C(this,"wsPromise",void 0),C(this,"consecutiveFailures",void 0),C(this,"insightMetrics",void 0),C(this,"defaultWSTimeoutWithFallback",void 0),C(this,"defaultWSTimeout",void 0),C(this,"nextRequestAbortController",null),C(this,"_getConnectionID",function(){var a,l;return((a=r.wsConnection)===null||a===void 0?void 0:a.connectionID)||((l=r.wsFallback)===null||l===void 0?void 0:l.connectionID)}),C(this,"_hasConnectionID",function(){return!!r._getConnectionID()}),C(this,"connectUser",function(){var a=T(g.default.mark(function l(c,u){var d,h;return g.default.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(c.id){p.next=2;break}throw new Error('The "id" field on the user is missing');case 2:if(!(r.userID===c.id&&r.setUserPromise)){p.next=5;break}return console.warn("Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),p.abrupt("return",r.setUserPromise);case 5:if(!r.userID){p.next=7;break}throw new Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");case 7:return(r._isUsingServerAuth()||r.node)&&!r.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),r.userID=c.id,r.anonymous=!1,d=r._setToken(c,u),r._setUser(c),h=r.openConnection(),r.setUserPromise=Promise.all([d,h]).then(function(m){return m[1]}),p.prev=14,p.next=17,r.setUserPromise;case 17:return p.abrupt("return",p.sent);case 20:throw p.prev=20,p.t0=p.catch(14),r.persistUserOnConnectionFailure?r.closeConnection():r.disconnectUser(),p.t0;case 24:case"end":return p.stop()}},l,null,[[14,20]])}));return function(l,c){return a.apply(this,arguments)}}()),C(this,"setUser",this.connectUser),C(this,"_setToken",function(a,l){return r.tokenManager.setTokenOrProvider(l,a)}),C(this,"closeConnection",function(){var a=T(g.default.mark(function l(c){var u,d;return g.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return r.cleaningIntervalRef!=null&&(clearInterval(r.cleaningIntervalRef),r.cleaningIntervalRef=void 0),f.next=3,Promise.all([(u=r.wsConnection)===null||u===void 0?void 0:u.disconnect(c),(d=r.wsFallback)===null||d===void 0?void 0:d.disconnect(c)]);case 3:return f.abrupt("return",Promise.resolve());case 4:case"end":return f.stop()}},l)}));return function(l){return a.apply(this,arguments)}}()),C(this,"openConnection",T(g.default.mark(function a(){var l,c,u;return g.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(r.userID){h.next=2;break}throw Error("User is not set on client, use client.connectUser or client.connectAnonymousUser instead");case 2:if(!((l=r.wsConnection)!==null&&l!==void 0&&l.isConnecting&&r.wsPromise)){h.next=5;break}return r.logger("info","client:openConnection() - connection already in progress",{tags:["connection","client"]}),h.abrupt("return",r.wsPromise);case 5:if(!(((c=r.wsConnection)!==null&&c!==void 0&&c.isHealthy||(u=r.wsFallback)!==null&&u!==void 0&&u.isHealthy())&&r._hasConnectionID())){h.next=8;break}return r.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists",{tags:["connection","client"]}),h.abrupt("return");case 8:return r.clientID="".concat(r.userID,"--").concat(Qa()),r.wsPromise=r.connect(),r._startCleaning(),h.abrupt("return",r.wsPromise);case 12:case"end":return h.stop()}},a)}))),C(this,"_setupConnection",this.openConnection),C(this,"_normalizeDate",function(a){if(a instanceof Date&&(a=a.toISOString()),a==="")throw new Error("Don't pass blank string for since, use null instead if resetting the token revoke");return a}),C(this,"disconnectUser",function(){var a=T(g.default.mark(function l(c){var u,d,h,f;return g.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:for(r.logger("info","client:disconnect() - Disconnecting the client",{tags:["connection","client"]}),delete r.user,delete r._user,delete r.userID,r.anonymous=!1,u=r.closeConnection(c),d=0,h=Object.values(r.activeChannels);d<h.length;d++)f=h[d],f._disconnect();return r.activeChannels={},r.state=new vM({client:r}),r.threads.resetState(),setTimeout(r.tokenManager.reset),m.abrupt("return",u);case 12:case"end":return m.stop()}},l)}));return function(l){return a.apply(this,arguments)}}()),C(this,"disconnect",this.disconnectUser),C(this,"connectAnonymousUser",function(){(r._isUsingServerAuth()||r.node)&&!r.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),r.anonymous=!0,r.userID=Qa();var a={id:r.userID,anon:!0};return r._setToken(a,""),r._setUser(a),r._setupConnection()}),C(this,"setAnonymousUser",this.connectAnonymousUser),C(this,"doAxiosRequest",function(){var a=T(g.default.mark(function l(c,u,d){var h,f,p,m,_=arguments;return g.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return h=_.length>3&&_[3]!==void 0?_[3]:{},w.next=3,r.tokenManager.tokenReady();case 3:f=r._enrichAxiosOptions(h),w.prev=4,r._logApiRequest(c,u,d,f),w.t0=c,w.next=w.t0==="get"?9:w.t0==="delete"?13:w.t0==="post"?17:w.t0==="postForm"?21:w.t0==="put"?25:w.t0==="patch"?29:w.t0==="options"?33:37;break;case 9:return w.next=11,r.axiosInstance.get(u,f);case 11:return p=w.sent,w.abrupt("break",38);case 13:return w.next=15,r.axiosInstance.delete(u,f);case 15:return p=w.sent,w.abrupt("break",38);case 17:return w.next=19,r.axiosInstance.post(u,d,f);case 19:return p=w.sent,w.abrupt("break",38);case 21:return w.next=23,r.axiosInstance.postForm(u,d,f);case 23:return p=w.sent,w.abrupt("break",38);case 25:return w.next=27,r.axiosInstance.put(u,d,f);case 27:return p=w.sent,w.abrupt("break",38);case 29:return w.next=31,r.axiosInstance.patch(u,d,f);case 31:return p=w.sent,w.abrupt("break",38);case 33:return w.next=35,r.axiosInstance.options(u,f);case 35:return p=w.sent,w.abrupt("break",38);case 37:throw new Error("Invalid request type");case 38:return r._logApiResponse(c,u,p),r.consecutiveFailures=0,w.abrupt("return",r.handleResponse(p));case 43:if(w.prev=43,w.t1=w.catch(4),w.t1.client_request_id=(m=f.headers)===null||m===void 0?void 0:m["x-client-request-id"],r._logApiError(c,u,w.t1),r.consecutiveFailures+=1,!w.t1.response){w.next=60;break}if(!(w.t1.response.data.code===Gc.TOKEN_EXPIRED&&!r.tokenManager.isStatic())){w.next=57;break}if(!(r.consecutiveFailures>1)){w.next=53;break}return w.next=53,ho(Kf(r.consecutiveFailures));case 53:return r.tokenManager.loadToken(),w.next=56,r.doAxiosRequest(c,u,d,h);case 56:return w.abrupt("return",w.sent);case 57:return w.abrupt("return",r.handleResponse(w.t1.response));case 60:throw w.t1;case 61:case"end":return w.stop()}},l,null,[[4,43]])}));return function(l,c,u){return a.apply(this,arguments)}}()),C(this,"dispatchEvent",function(a){a.received_at||(a.received_at=new Date);var l=r._handleClientEvent(a),c=a.cid,u=c?r.activeChannels[c]:void 0;u&&u._handleChannelEvent(a),r._callClientListeners(a),u&&u._callChannelListeners(a),l.forEach(function(d){return d()})}),C(this,"handleEvent",function(a){var l=a.data,c=JSON.parse(l);r.dispatchEvent(c)}),C(this,"_updateMemberWatcherReferences",function(a){var l=r.state.userChannelReferences[a.id]||{};for(var c in l){var u=r.activeChannels[c];u!=null&&u.state&&(u.state.members[a.id]&&(u.state.members[a.id].user=a),u.state.watchers[a.id]&&(u.state.watchers[a.id]=a),u.state.read[a.id]&&(u.state.read[a.id].user=a))}}),C(this,"_updateUserReferences",this._updateMemberWatcherReferences),C(this,"_updateUserMessageReferences",function(a){var l=r.state.userChannelReferences[a.id]||{};for(var c in l){var u=r.activeChannels[c];if(u){var d=u.state;d?.updateUserMessages(a)}}}),C(this,"_deleteUserMessageReference",function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=r.state.userChannelReferences[a.id]||{};for(var u in c){var d=r.activeChannels[u];if(d){var h=d.state;h?.deleteUserMessages(a,l)}}}),C(this,"_handleUserEvent",function(a){if(a.user){if(a.type==="user.presence.changed"||a.type==="user.updated"){if(a.user.id===r.userID){var l=z({},r.user||{}),c=z({},r._user||{});for(var u in r.user)u in a.user||BH(u)||(delete l[u],delete c[u]);for(var d in a.user)c&&d in c&&(c[d]=a.user[d]);r._user=z({},c),r.user=z(z({},l),a.user)}r.state.updateUser(a.user),r._updateMemberWatcherReferences(a.user)}a.type==="user.updated"&&r._updateUserMessageReferences(a.user),a.type==="user.deleted"&&a.user.deleted_at&&(a.mark_messages_deleted||a.hard_delete)&&r._deleteUserMessageReference(a.user,a.hard_delete)}}),C(this,"_callClientListeners",function(a){var l=r,c=[];l.listeners.all&&c.push.apply(c,St(l.listeners.all)),l.listeners[a.type]&&c.push.apply(c,St(l.listeners[a.type]));for(var u=0,d=c;u<d.length;u++){var h=d[u];h(a)}}),C(this,"recoverState",T(g.default.mark(function a(){var l;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(r.logger("info","client:recoverState() - Start of recoverState with connectionID ".concat(r._getConnectionID()),{tags:["connection"]}),l=Object.keys(r.activeChannels),!(l.length&&r.recoverStateOnReconnect)){u.next=10;break}return r.logger("info","client:recoverState() - Start the querying of ".concat(l.length," channels"),{tags:["connection","client"]}),u.next=6,r.queryChannels({cid:{$in:l}},{last_message_at:-1},{limit:30});case 6:r.logger("info","client:recoverState() - Querying channels finished",{tags:["connection","client"]}),r.dispatchEvent({type:"connection.recovered"}),u.next=11;break;case 10:r.dispatchEvent({type:"connection.recovered"});case 11:r.wsPromise=Promise.resolve(),r.setUserPromise=Promise.resolve();case 13:case"end":return u.stop()}},a)}))),C(this,"getChannelByMembers",function(a,l){var c=St(l.members||[]).sort().join(","),u="".concat(a,":!members-").concat(c);if(!c)throw Error("Please specify atleast one member when creating unique conversation");for(var d in r.activeChannels){var h=r.activeChannels[d];if(!h.disconnected){if(d===u)return h;if(d.indexOf("".concat(a,":!members-"))===0){var f=Object.keys(h.state.members).sort().join(",");if(f===c)return h}}}var p=new a0(r,a,void 0,l);return r._cacheEnabled()&&(r.activeChannels[u]=p),p}),C(this,"getChannelById",function(a,l,c){if(typeof l=="string"&&~l.indexOf(":"))throw Error("Invalid channel id ".concat(l,", can't contain the : character"));var u="".concat(a,":").concat(l);if(u in r.activeChannels&&r.activeChannels[u]&&!r.activeChannels[u].disconnected){var d=r.activeChannels[u];return Object.keys(c).length>0&&(d.data=z(z({},d.data),c),d._data=z(z({},d._data),c)),d}var h=new a0(r,a,l,c);return r._cacheEnabled()&&(r.activeChannels[h.cid]=h),h}),C(this,"updateUsers",this.upsertUsers),C(this,"updateUser",this.upsertUser),C(this,"_unblockMessage",this.unblockMessage),C(this,"markAllRead",this.markChannelsRead),C(this,"_isUsingServerAuth",function(){return!!r.secret}),C(this,"_cacheEnabled",function(){return!r._isUsingServerAuth()||!r.options.disableCache}),C(this,"_buildWSPayload",function(a){return JSON.stringify({user_id:r.userID,user_details:r._user,device:r.options.device,client_request_id:a})}),this.key=n,this.listeners={},this.state=new vM({client:this}),this.mutedChannels=[],this.mutedUsers=[],this.moderation=new P8(this),e&&Ga(e)&&(this.secret=e);var o=i||(e&&!Ga(e)?e:{});this.browser=typeof o.browser<"u"?o.browser:typeof window<"u",this.node=!this.browser,this.options=z({timeout:3e3,withCredentials:!1,warmUp:!1,recoverStateOnReconnect:!0,disableCache:!1},o),this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new OH.Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.axiosInstance=ao.create(this.options),this.setBaseURL(this.options.baseURL||"https://chat.stream-io-api.com"),typeof process<"u"&&"env"in process&&process.env.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030"),typeof process<"u"&&"env"in process&&process.env.STREAM_LOCAL_TEST_HOST&&this.setBaseURL("http://"+process.env.STREAM_LOCAL_TEST_HOST),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.activeChannels={},this.configs={},this.anonymous=!1,this.persistUserOnConnectionFailure=(s=this.options)===null||s===void 0?void 0:s.persistUserOnConnectionFailure,this.tokenManager=new v8(this.secret),this.consecutiveFailures=0,this.insightMetrics=new o8,this.defaultWSTimeoutWithFallback=6*1e3,this.defaultWSTimeout=15*1e3,this.axiosInstance.defaults.paramsSerializer=QH,this.logger=f0(o.logger)?o.logger:function(){return null},this.recoverStateOnReconnect=this.options.recoverStateOnReconnect,this.threads=new j8({client:this}),this.polls=new Z8({client:this})}return Rn(t,[{key:"devToken",value:function(e){return g8(e)}},{key:"getAuthType",value:function(){return this.anonymous?"anonymous":"jwt"}},{key:"setBaseURL",value:function(e){this.baseURL=e,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")}},{key:"_setUser",value:function(e){this.user=e,this.userID=e.id,this._user=z({},e)}},{key:"updateAppSettings",value:function(){var n=T(g.default.mark(function i(r){var s;return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=r.apn_config,s!=null&&s.p12_cert&&(r=z(z({},r),{},{apn_config:z(z({},s),{},{p12_cert:Buffer.from(s.p12_cert).toString("base64")})})),a.next=4,this.patch(this.baseURL+"/app",r);case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"revokeTokens",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.updateAppSettings({revoke_tokens_issued_before:this._normalizeDate(r)});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"revokeUserToken",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.revokeUsersToken([r],s);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"revokeUsersToken",value:function(){var n=T(g.default.mark(function i(r,s){var o,a,l,c;return g.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:s===void 0?s=new Date().toISOString():s=this._normalizeDate(s),o=[],a=Yf(r);try{for(a.s();!(l=a.n()).done;)c=l.value,o.push({id:c,set:{revoke_tokens_issued_before:s}})}catch(h){a.e(h)}finally{a.f()}return d.next=6,this.partialUpdateUsers(o);case 6:return d.abrupt("return",d.sent);case 7:case"end":return d.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"getAppSettings",value:function(){var n=T(g.default.mark(function i(){return g.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.get(this.baseURL+"/app");case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"testPushSettings",value:function(){var n=T(g.default.mark(function i(r){var s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/check_push",z(z(z(z(z(z(z({user_id:r},s.messageID?{message_id:s.messageID}:{}),s.apnTemplate?{apn_template:s.apnTemplate}:{}),s.firebaseTemplate?{firebase_template:s.firebaseTemplate}:{}),s.firebaseDataTemplate?{firebase_data_template:s.firebaseDataTemplate}:{}),s.skipDevices?{skip_devices:!0}:{}),s.pushProviderName?{push_provider_name:s.pushProviderName}:{}),s.pushProviderType?{push_provider_type:s.pushProviderType}:{}));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"testSQSSettings",value:function(){var n=T(g.default.mark(function i(){var r,s=arguments;return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=s.length>0&&s[0]!==void 0?s[0]:{},a.next=3,this.post(this.baseURL+"/check_sqs",r);case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"testSNSSettings",value:function(){var n=T(g.default.mark(function i(){var r,s=arguments;return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=s.length>0&&s[0]!==void 0?s[0]:{},a.next=3,this.post(this.baseURL+"/check_sns",r);case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"setGuestUser",value:function(){var n=T(g.default.mark(function i(r){var s,o,a;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.anonymous=!0,c.prev=1,c.next=4,this.post(this.baseURL+"/guest",{user:r});case 4:s=c.sent,c.next=11;break;case 7:throw c.prev=7,c.t0=c.catch(1),this.anonymous=!1,c.t0;case 11:return this.anonymous=!1,o=s.user,o.created_at,o.updated_at,o.last_active,o.online,a=La(o,X8),c.next=15,this.connectUser(a,s.access_token);case 15:return c.abrupt("return",c.sent);case 16:case"end":return c.stop()}},i,this,[[1,7]])}));function e(i){return n.apply(this,arguments)}return e}()},{key:"createToken",value:function(e,i,r){if(this.secret==null)throw Error("tokens can only be created server-side using the API Secret");var s={};return i&&(s.exp=i),r&&(s.iat=r),eA(this.secret,e,s,{})}},{key:"on",value:function(e,i){var r=this,s=i?e:"all",o=i||e;return s in this.listeners||(this.listeners[s]=[]),this.logger("info","Attaching listener for ".concat(s," event"),{tags:["event","client"]}),this.listeners[s].push(o),{unsubscribe:function(){r.logger("info","Removing listener for ".concat(s," event"),{tags:["event","client"]}),r.listeners[s]=r.listeners[s].filter(function(l){return l!==o})}}}},{key:"off",value:function(e,i){var r=i?e:"all",s=i||e;r in this.listeners||(this.listeners[r]=[]),this.logger("info","Removing listener for ".concat(r," event"),{tags:["event","client"]}),this.listeners[r]=this.listeners[r].filter(function(o){return o!==s})}},{key:"_logApiRequest",value:function(e,i,r,s){this.logger("info","client: ".concat(e," - Request - ").concat(i),{tags:["api","api_request","client"],url:i,payload:r,config:s})}},{key:"_logApiResponse",value:function(e,i,r){this.logger("info","client:".concat(e," - Response - url: ").concat(i," > status ").concat(r.status),{tags:["api","api_response","client"],url:i,response:r})}},{key:"_logApiError",value:function(e,i,r){this.logger("error","client:".concat(e," - Error - url: ").concat(i),{tags:["api","api_response","client"],url:i,error:r})}},{key:"get",value:function(e,i){return this.doAxiosRequest("get",e,null,{params:i})}},{key:"put",value:function(e,i){return this.doAxiosRequest("put",e,i)}},{key:"post",value:function(e,i){return this.doAxiosRequest("post",e,i)}},{key:"patch",value:function(e,i){return this.doAxiosRequest("patch",e,i)}},{key:"delete",value:function(e,i){return this.doAxiosRequest("delete",e,null,{params:i})}},{key:"sendFile",value:function(e,i,r,s,o){var a=UH(i,r,s||"multipart/form-data");return o!=null&&a.append("user",JSON.stringify(o)),this.doAxiosRequest("postForm",e,a,{headers:a.getHeaders?a.getHeaders():{},config:{timeout:0,maxContentLength:1/0,maxBodyLength:1/0}})}},{key:"errorFromResponse",value:function(e){var i;return i=new T8("StreamChat error HTTP code: ".concat(e.status)),e.data&&e.data.code&&(i=new Error("StreamChat error code ".concat(e.data.code,": ").concat(e.data.message)),i.code=e.data.code),i.response=e,i.status=e.status,i}},{key:"handleResponse",value:function(e){var i=e.data;if(D8(e))throw this.errorFromResponse(e);return i}},{key:"_handleClientEvent",value:function(e){var i,r,s=this,o=this,a=[];if(this.logger("info","client:_handleClientEvent - Received event of type { ".concat(e.type," }"),{tags:["event","client"],event:e}),(e.type==="user.presence.changed"||e.type==="user.updated"||e.type==="user.deleted")&&this._handleUserEvent(e),e.type==="health.check"&&e.me&&(o.user=e.me,o.state.updateUser(e.me),o.mutedChannels=e.me.channel_mutes,o.mutedUsers=e.me.mutes),e.channel&&e.type==="notification.message_new"&&this._addChannelConfig(e.channel),e.type==="notification.channel_mutes_updated"&&(i=e.me)!==null&&i!==void 0&&i.channel_mutes&&(this.mutedChannels=e.me.channel_mutes),e.type==="notification.mutes_updated"&&(r=e.me)!==null&&r!==void 0&&r.mutes&&(this.mutedUsers=e.me.mutes),e.type==="notification.mark_read"&&e.unread_channels===0){var l=Object.keys(this.activeChannels);l.forEach(function(u){return s.activeChannels[u].state.unreadCount=0})}if((e.type==="channel.deleted"||e.type==="notification.channel_deleted")&&e.cid){var c;o.state.deleteAllChannelReference(e.cid),(c=this.activeChannels[e.cid])===null||c===void 0||c._disconnect(),a.push(function(){e.cid&&delete s.activeChannels[e.cid]})}return a}},{key:"_muteStatus",value:function(e){for(var i,r=0;r<this.mutedChannels.length;r++){var s,o=this.mutedChannels[r];if(((s=o.channel)===null||s===void 0?void 0:s.cid)===e){i={muted:o.expires?new Date(o.expires).getTime()>new Date().getTime():!0,createdAt:o.created_at?new Date(o.created_at):new Date,expiresAt:o.expires?new Date(o.expires):null};break}}return i||{muted:!1,createdAt:null,expiresAt:null}}},{key:"connect",value:function(){var n=T(g.default.mark(function i(){return g.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(!this.userID||!this._user)){s.next=2;break}throw Error("Call connectUser or connectAnonymousUser before starting the connection");case 2:if(this.wsBaseURL){s.next=4;break}throw Error("Websocket base url not set");case 4:if(this.clientID){s.next=6;break}throw Error("clientID is not set");case 6:if(!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new h8({client:this}),s.prev=8,!this.wsFallback){s.next=13;break}return s.next=12,this.wsFallback.connect();case 12:return s.abrupt("return",s.sent);case 13:return s.next=15,this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout);case 15:return s.abrupt("return",s.sent);case 18:if(s.prev=18,s.t0=s.catch(8),!(this.options.enableWSFallback&&w8(s.t0)&&GH())){s.next=29;break}return this.logger("info","client:connect() - WS failed, fallback to longpoll",{tags:["connection","client"]}),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new E8({client:this}),s.next=28,this.wsFallback.connect();case 28:return s.abrupt("return",s.sent);case 29:throw s.t0;case 30:case"end":return s.stop()}},i,this,[[8,18]])}));function e(){return n.apply(this,arguments)}return e}()},{key:"_sayHi",value:function(){var e=this,i=Qa(),r={headers:{"x-client-request-id":i}};this.doAxiosRequest("get",this.baseURL+"/hi",null,r).catch(function(s){e.options.enableInsights&&Qc("http_hi_failed",{api_key:e.key,err:s,client_request_id:i})})}},{key:"queryUsers",value:function(){var n=T(g.default.mark(function i(r){var s,o,a,l,c=arguments;return g.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return s=c.length>1&&c[1]!==void 0?c[1]:[],o=c.length>2&&c[2]!==void 0?c[2]:{},a={presence:!1},d.next=5,this.wsPromise;case 5:return this._hasConnectionID()||(a.presence=!1),d.next=8,this.get(this.baseURL+"/users",{payload:z(z({filter_conditions:r,sort:On(s)},a),o)});case 8:return l=d.sent,this.state.updateUsers(l.users),d.abrupt("return",l);case 11:case"end":return d.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"queryBannedUsers",value:function(){var n=T(g.default.mark(function i(){var r,s,o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=a.length>0&&a[0]!==void 0?a[0]:{},s=a.length>1&&a[1]!==void 0?a[1]:[],o=a.length>2&&a[2]!==void 0?a[2]:{},c.next=5,this.get(this.baseURL+"/query_banned_users",{payload:z({filter_conditions:r,sort:On(s)},o)});case 5:return c.abrupt("return",c.sent);case 6:case"end":return c.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"queryMessageFlags",value:function(){var n=T(g.default.mark(function i(){var r,s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=o.length>0&&o[0]!==void 0?o[0]:{},s=o.length>1&&o[1]!==void 0?o[1]:{},l.next=4,this.get(this.baseURL+"/moderation/flags/message",{payload:z({filter_conditions:r},s)});case 4:return l.abrupt("return",l.sent);case 5:case"end":return l.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"queryChannels",value:function(){var n=T(g.default.mark(function i(r){var s,o,a,l,c,u,d=arguments;return g.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return s=d.length>1&&d[1]!==void 0?d[1]:[],o=d.length>2&&d[2]!==void 0?d[2]:{},a=d.length>3&&d[3]!==void 0?d[3]:{},l={state:!0,watch:!0,presence:!1},f.next=6,this.wsPromise;case 6:return this._hasConnectionID()||(l.watch=!1),c=z(z({filter_conditions:r,sort:On(s)},l),o),f.next=10,this.post(this.baseURL+"/channels",c);case 10:return u=f.sent,this.dispatchEvent({type:"channels.queried",queriedChannels:{channels:u.channels,isLatestMessageSet:!0}}),f.abrupt("return",this.hydrateActiveChannels(u.channels,a,o));case 13:case"end":return f.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"queryReactions",value:function(){var n=T(g.default.mark(function i(r,s){var o,a,l,c=arguments;return g.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=c.length>2&&c[2]!==void 0?c[2]:[],a=c.length>3&&c[3]!==void 0?c[3]:{},d.next=4,this.wsPromise;case 4:return l=z({filter:s,sort:On(o)},a),d.next=7,this.post(this.baseURL+"/messages/"+encodeURIComponent(r)+"/reactions",l);case 7:return d.abrupt("return",d.sent);case 8:case"end":return d.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"hydrateActiveChannels",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=i.skipInitialization,o=i.offlineMode,a=o===void 0?!1:o,l=[],c=Yf(e),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;this._addChannelConfig(d.channel);var h=this.channel(d.channel.type,d.channel.id);h.data=d.channel,h.offlineMode=a,h.initialized=!a,h.push_preferences=d.push_preferences;var f=void 0;if(s===void 0){var p=h._initializeState(d,"latest"),m=p.messageSet;f=m}else if(!s.includes(d.channel.id)){h.state.clearMessages();var _=h._initializeState(d,"latest"),D=_.messageSet;f=D}f&&(f.pagination=z(z({},f.pagination),XM({parentSet:f,requestedPageSize:r?.message_limit||e8,returnedPage:d.messages,logger:this.logger})),this.polls.hydratePollCache(d.messages,!0)),l.push(h)}}catch(w){c.e(w)}finally{c.f()}return l}},{key:"search",value:function(){var n=T(g.default.mark(function i(r,s){var o,a,l=arguments;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(o=l.length>2&&l[2]!==void 0?l[2]:{},!(o.offset&&o.next)){u.next=3;break}throw Error("Cannot specify offset with next");case 3:if(a=z(z({filter_conditions:r},o),{},{sort:o.sort?On(o.sort):void 0}),typeof s!="string"){u.next=8;break}a.query=s,u.next=13;break;case 8:if(Zt(s)!=="object"){u.next=12;break}a.message_filter_conditions=s,u.next=13;break;case 12:throw Error("Invalid type ".concat(Zt(s)," for query parameter"));case 13:return u.next=15,this.wsPromise;case 15:return u.next=17,this.get(this.baseURL+"/search",{payload:a});case 17:return u.abrupt("return",u.sent);case 18:case"end":return u.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"setLocalDevice",value:function(e){var i,r,s;if((i=this.wsConnection)!==null&&i!==void 0&&i.isConnecting&&this.wsPromise||((r=this.wsConnection)!==null&&r!==void 0&&r.isHealthy||(s=this.wsFallback)!==null&&s!==void 0&&s.isHealthy())&&this._hasConnectionID())throw new Error("you can only set device before opening a websocket connection");this.options.device=e}},{key:"addDevice",value:function(){var n=T(g.default.mark(function i(r,s,o,a){return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.post(this.baseURL+"/devices",z(z({id:r,push_provider:s},o!=null?{user_id:o}:{}),a!=null?{push_provider_name:a}:{}));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},i,this)}));function e(i,r,s,o){return n.apply(this,arguments)}return e}()},{key:"getDevices",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.get(this.baseURL+"/devices",r?{user_id:r}:{});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"getUnreadCount",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.get(this.baseURL+"/unread",r?{user_id:r}:{});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"getUnreadCountBatch",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.post(this.baseURL+"/unread_batch",{user_ids:r});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"setPushPreferences",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.post(this.baseURL+"/push_preferences",{preferences:r});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"removeDevice",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.delete(this.baseURL+"/devices",z({id:r},s?{user_id:s}:{}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"getRateLimits",value:function(){var n=T(g.default.mark(function i(r){var s,o,a,l,c,u;return g.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s=r||{},o=s.serverSide,a=s.web,l=s.android,c=s.ios,u=s.endpoints,h.abrupt("return",this.get(this.baseURL+"/rate_limits",{server_side:o,web:a,android:l,ios:c,endpoints:u?u.join(","):void 0}));case 2:case"end":return h.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"_addChannelConfig",value:function(e){var i=e.cid,r=e.config;this._cacheEnabled()&&(this.configs[i]=r)}},{key:"channel",value:function(e,i){var r,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!this.userID&&!this._isUsingServerAuth())throw Error("Call connectUser or connectAnonymousUser before creating a channel");if(~e.indexOf(":"))throw Error("Invalid channel group ".concat(e,", can't contain the : character"));return i&&Zt(i)==="object"?this.getChannelByMembers(e,i):!i&&Zt(s)==="object"&&(r=s.members)!==null&&r!==void 0&&r.length?this.getChannelByMembers(e,s):i?this.getChannelById(e,i,s):new a0(this,e,void 0,s)}},{key:"partialUpdateUser",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.partialUpdateUsers([r]);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"upsertUsers",value:function(){var n=T(g.default.mark(function i(r){var s,o,a,l;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:s={},o=Yf(r),u.prev=2,o.s();case 4:if((a=o.n()).done){u.next=11;break}if(l=a.value,l.id){u.next=8;break}throw Error("User ID is required when updating a user");case 8:s[l.id]=l;case 9:u.next=4;break;case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(2),o.e(u.t0);case 16:return u.prev=16,o.f(),u.finish(16);case 19:return u.next=21,this.post(this.baseURL+"/users",{users:s});case 21:return u.abrupt("return",u.sent);case 22:case"end":return u.stop()}},i,this,[[2,13,16,19]])}));function e(i){return n.apply(this,arguments)}return e}()},{key:"upsertUser",value:function(e){return this.upsertUsers([e])}},{key:"partialUpdateUsers",value:function(){var n=T(g.default.mark(function i(r){var s,o,a;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:s=Yf(r),c.prev=1,s.s();case 3:if((o=s.n()).done){c.next=9;break}if(a=o.value,a.id){c.next=7;break}throw Error("User ID is required when updating a user");case 7:c.next=3;break;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),s.e(c.t0);case 14:return c.prev=14,s.f(),c.finish(14);case 17:return c.next=19,this.patch(this.baseURL+"/users",{users:r});case 19:return c.abrupt("return",c.sent);case 20:case"end":return c.stop()}},i,this,[[1,11,14,17]])}));function e(i){return n.apply(this,arguments)}return e}()},{key:"deleteUser",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.delete(this.baseURL+"/users/".concat(encodeURIComponent(r)),s);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"restoreUsers",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.post(this.baseURL+"/users/restore",{user_ids:r});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"reactivateUser",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post(this.baseURL+"/users/".concat(encodeURIComponent(r),"/reactivate"),z({},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"reactivateUsers",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post(this.baseURL+"/users/reactivate",z({user_ids:r},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"deactivateUser",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post(this.baseURL+"/users/".concat(encodeURIComponent(r),"/deactivate"),z({},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"deactivateUsers",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post(this.baseURL+"/users/deactivate",z({user_ids:r},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"exportUser",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.get(this.baseURL+"/users/".concat(encodeURIComponent(r),"/export"),z({},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"banUser",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post(this.baseURL+"/moderation/ban",z({target_user_id:r},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"unbanUser",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.delete(this.baseURL+"/moderation/ban",z({target_user_id:r},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"shadowBan",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.banUser(r,z({shadow:!0},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"removeShadowBan",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.unbanUser(r,z({shadow:!0},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"blockUser",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post(this.baseURL+"/users/block",z({blocked_user_id:r},s?{user_id:s}:{}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"getBlockedUsers",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.get(this.baseURL+"/users/block",z({},r?{user_id:r}:{}));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"unBlockUser",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post(this.baseURL+"/users/unblock",z({blocked_user_id:r},s?{user_id:s}:{}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"muteUser",value:function(){var n=T(g.default.mark(function i(r,s){var o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.length>2&&a[2]!==void 0?a[2]:{},c.next=3,this.post(this.baseURL+"/moderation/mute",z(z({target_id:r},s?{user_id:s}:{}),o));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"unmuteUser",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post(this.baseURL+"/moderation/unmute",z({target_id:r},s?{user_id:s}:{}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"userMuteStatus",value:function(e){if(!this.user||!this.wsPromise)throw new Error("Make sure to await connectUser() first.");for(var i=0;i<this.mutedUsers.length;i+=1)if(this.mutedUsers[i].target.id===e)return!0;return!1}},{key:"flagMessage",value:function(){var n=T(g.default.mark(function i(r){var s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/moderation/flag",z({target_message_id:r},s));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"flagUser",value:function(){var n=T(g.default.mark(function i(r){var s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/moderation/flag",z({target_user_id:r},s));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"unflagMessage",value:function(){var n=T(g.default.mark(function i(r){var s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/moderation/unflag",z({target_message_id:r},s));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"unflagUser",value:function(){var n=T(g.default.mark(function i(r){var s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/moderation/unflag",z({target_user_id:r},s));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"getCallToken",value:function(){var n=T(g.default.mark(function i(r){var s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/calls/".concat(encodeURIComponent(r)),z({},s));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"_queryFlags",value:function(){var n=T(g.default.mark(function i(){var r,s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=o.length>0&&o[0]!==void 0?o[0]:{},s=o.length>1&&o[1]!==void 0?o[1]:{},l.next=4,this.post(this.baseURL+"/moderation/flags",z({filter_conditions:r},s));case 4:return l.abrupt("return",l.sent);case 5:case"end":return l.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"_queryFlagReports",value:function(){var n=T(g.default.mark(function i(){var r,s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=o.length>0&&o[0]!==void 0?o[0]:{},s=o.length>1&&o[1]!==void 0?o[1]:{},l.next=4,this.post(this.baseURL+"/moderation/reports",z({filter_conditions:r},s));case 4:return l.abrupt("return",l.sent);case 5:case"end":return l.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"_reviewFlagReport",value:function(){var n=T(g.default.mark(function i(r,s){var o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.length>2&&a[2]!==void 0?a[2]:{},c.next=3,this.patch(this.baseURL+"/moderation/reports/".concat(encodeURIComponent(r)),z({review_result:s},o));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"unblockMessage",value:function(){var n=T(g.default.mark(function i(r){var s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/moderation/unblock_message",z({target_message_id:r},s));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"markChannelsRead",value:function(){var n=T(g.default.mark(function i(){var r,s=arguments;return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=s.length>0&&s[0]!==void 0?s[0]:{},a.next=3,this.post(this.baseURL+"/channels/read",z({},r));case 3:case"end":return a.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"createCommand",value:function(e){return this.post(this.baseURL+"/commands",e)}},{key:"getCommand",value:function(e){return this.get(this.baseURL+"/commands/".concat(encodeURIComponent(e)))}},{key:"updateCommand",value:function(e,i){return this.put(this.baseURL+"/commands/".concat(encodeURIComponent(e)),i)}},{key:"deleteCommand",value:function(e){return this.delete(this.baseURL+"/commands/".concat(encodeURIComponent(e)))}},{key:"listCommands",value:function(){return this.get(this.baseURL+"/commands")}},{key:"createChannelType",value:function(e){var i=so({},{commands:["all"]},e);return this.post(this.baseURL+"/channeltypes",i)}},{key:"getChannelType",value:function(e){return this.get(this.baseURL+"/channeltypes/".concat(encodeURIComponent(e)))}},{key:"updateChannelType",value:function(e,i){return this.put(this.baseURL+"/channeltypes/".concat(encodeURIComponent(e)),i)}},{key:"deleteChannelType",value:function(e){return this.delete(this.baseURL+"/channeltypes/".concat(encodeURIComponent(e)))}},{key:"listChannelTypes",value:function(){return this.get(this.baseURL+"/channeltypes")}},{key:"translateMessage",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post(this.baseURL+"/messages/".concat(encodeURIComponent(r),"/translate"),{language:s});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"translate",value:function(){var n=T(g.default.mark(function i(r,s,o){return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.post(this.baseURL+"/translate",{text:r,source_language:o,destination_language:s});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},i,this)}));function e(i,r,s){return n.apply(this,arguments)}return e}()},{key:"_normalizeExpiration",value:function(e){var i=null;if(typeof e=="number"){var r=new Date;r.setSeconds(r.getSeconds()+e),i=r.toISOString()}else Ga(e)?i=e:e instanceof Date&&(i=e.toISOString());return i}},{key:"_validateAndGetMessageId",value:function(e,i){var r;if(typeof e=="string")r=e;else{if(!e.id)throw Error(i);r=e.id}return r}},{key:"pinMessage",value:function(e,i,r,s){var o=this._validateAndGetMessageId(e,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(o,{set:{pinned:!0,pin_expires:this._normalizeExpiration(i),pinned_at:this._normalizeExpiration(s)}},r)}},{key:"unpinMessage",value:function(e,i){var r=this._validateAndGetMessageId(e,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(r,{set:{pinned:!1}},i)}},{key:"updateMessage",value:function(){var n=T(g.default.mark(function i(r,s,o){var a,l;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(r.id){u.next=2;break}throw Error("Please specify the message id when calling updateMessage");case 2:return a=so({},r),delete a.id,l=["command","created_at","html","latest_reactions","own_reactions","quoted_message","reaction_counts","reply_count","type","updated_at","user","__html"],l.forEach(function(d){a[d]!=null&&delete a[d]}),s!=null&&(Ga(s)?a.user_id=s:a.user={id:s.id}),Array.isArray(a.mentioned_users)&&!Ga(a.mentioned_users[0])&&(a.mentioned_users=a.mentioned_users.map(function(d){return d.id})),u.next=10,this.post(this.baseURL+"/messages/".concat(encodeURIComponent(r.id)),z({message:a},o));case 10:return u.abrupt("return",u.sent);case 11:case"end":return u.stop()}},i,this)}));function e(i,r,s){return n.apply(this,arguments)}return e}()},{key:"partialUpdateMessage",value:function(){var n=T(g.default.mark(function i(r,s,o,a){var l;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(r){u.next=2;break}throw Error("Please specify the message id when calling partialUpdateMessage");case 2:return l=o,o!=null&&Ga(o)&&(l={id:o}),u.next=6,this.put(this.baseURL+"/messages/".concat(encodeURIComponent(r)),z(z(z({},s),a),{},{user:l}));case 6:return u.abrupt("return",u.sent);case 7:case"end":return u.stop()}},i,this)}));function e(i,r,s,o){return n.apply(this,arguments)}return e}()},{key:"deleteMessage",value:function(){var n=T(g.default.mark(function i(r,s){var o;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o={},s&&(o={hard:!0}),l.next=4,this.delete(this.baseURL+"/messages/".concat(encodeURIComponent(r)),o);case 4:return l.abrupt("return",l.sent);case 5:case"end":return l.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"undeleteMessage",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post(this.baseURL+"/messages/".concat(encodeURIComponent(r),"/undelete"),{undeleted_by:s});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"getMessage",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.get(this.baseURL+"/messages/".concat(encodeURIComponent(r)),z({},s));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"queryThreads",value:function(){var n=T(g.default.mark(function i(){var r=this,s,o,a,l=arguments;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return s=l.length>0&&l[0]!==void 0?l[0]:{},o=z({limit:10,participant_limit:10,reply_limit:3,watch:!0},s),u.next=4,this.post("".concat(this.baseURL,"/threads"),o);case 4:return a=u.sent,u.abrupt("return",{threads:a.threads.map(function(d){return new OM({client:r,threadData:d})}),next:a.next});case 6:case"end":return u.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"getThread",value:function(){var n=T(g.default.mark(function i(r){var s,o,a,l=arguments;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(s=l.length>1&&l[1]!==void 0?l[1]:{},r){u.next=3;break}throw Error("Please specify the messageId when calling getThread");case 3:return o=z({participant_limit:100,reply_limit:3,watch:!0},s),u.next=6,this.get("".concat(this.baseURL,"/threads/").concat(encodeURIComponent(r)),o);case 6:return a=u.sent,u.abrupt("return",new OM({client:this,threadData:a.thread}));case 8:case"end":return u.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"partialUpdateThread",value:function(){var n=T(g.default.mark(function i(r,s){var o,a;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(r){c.next=2;break}throw Error("Please specify the message id when calling partialUpdateThread");case 2:o=["created_at","id","last_message_at","type","updated_at","user","reply_count","participants","channel","custom"],c.t0=g.default.keys(z(z({},s.set),s.unset));case 4:if((c.t1=c.t0()).done){c.next=10;break}if(a=c.t1.value,!o.includes(a)){c.next=8;break}throw Error("You cannot set ".concat(a," field on Thread object. ").concat(a," is reserved for server-side use. Please omit ").concat(a," from your set object."));case 8:c.next=4;break;case 10:return c.next=12,this.patch("".concat(this.baseURL,"/threads/").concat(encodeURIComponent(r)),s);case 12:return c.abrupt("return",c.sent);case 13:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"getUserAgent",value:function(){return this.userAgent||"stream-chat-javascript-client-".concat(this.node?"node":"browser","-","8.55.0")}},{key:"setUserAgent",value:function(e){this.userAgent=e}},{key:"_enrichAxiosOptions",value:function(){var e,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{params:{},headers:{},config:{}},r=this._getToken(),s=r?{Authorization:r}:void 0,o=null;this.nextRequestAbortController!==null&&(o=this.nextRequestAbortController.signal,this.nextRequestAbortController=null),(e=i.headers)!==null&&e!==void 0&&e["x-client-request-id"]||(i.headers=z(z({},i.headers),{},{"x-client-request-id":Qa()}));var a=this.options.axiosRequestConfig||{},l=a.params,c=a.headers,u=La(a,J8);return z(z(z({params:z(z({user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key},i.params),l||{}),headers:z(z(z({},s),{},{"stream-auth-type":this.getAuthType(),"X-Stream-Client":this.getUserAgent()},i.headers),c||{})},o?{signal:o}:{}),i.config),u||{})}},{key:"_getToken",value:function(){return!this.tokenManager||this.anonymous?null:this.tokenManager.getToken()}},{key:"_startCleaning",value:function(){var e=this;this.cleaningIntervalRef==null&&(this.cleaningIntervalRef=setInterval(function(){for(var i=0,r=Object.values(e.activeChannels);i<r.length;i++){var s=r[i];s.clean()}},500))}},{key:"verifyWebhook",value:function(e,i){return!!this.secret&&_8(e,this.secret,i)}},{key:"getPermission",value:function(e){return this.get("".concat(this.baseURL,"/permissions/").concat(encodeURIComponent(e)))}},{key:"createPermission",value:function(e){return this.post("".concat(this.baseURL,"/permissions"),z({},e))}},{key:"updatePermission",value:function(e,i){return this.put("".concat(this.baseURL,"/permissions/").concat(encodeURIComponent(e)),z({},i))}},{key:"deletePermission",value:function(e){return this.delete("".concat(this.baseURL,"/permissions/").concat(encodeURIComponent(e)))}},{key:"listPermissions",value:function(){return this.get("".concat(this.baseURL,"/permissions"))}},{key:"createRole",value:function(e){return this.post("".concat(this.baseURL,"/roles"),{name:e})}},{key:"listRoles",value:function(){return this.get("".concat(this.baseURL,"/roles"))}},{key:"deleteRole",value:function(e){return this.delete("".concat(this.baseURL,"/roles/").concat(encodeURIComponent(e)))}},{key:"sync",value:function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.post("".concat(this.baseURL,"/sync"),z({channel_cids:e,last_sync_at:i},r))}},{key:"sendUserCustomEvent",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post("".concat(this.baseURL,"/users/").concat(encodeURIComponent(r),"/event"),{event:s});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"createBlockList",value:function(e){return this.post("".concat(this.baseURL,"/blocklists"),e)}},{key:"listBlockLists",value:function(e){return this.get("".concat(this.baseURL,"/blocklists"),e)}},{key:"getBlockList",value:function(e,i){return this.get("".concat(this.baseURL,"/blocklists/").concat(encodeURIComponent(e)),i)}},{key:"updateBlockList",value:function(e,i){return this.put("".concat(this.baseURL,"/blocklists/").concat(encodeURIComponent(e)),i)}},{key:"deleteBlockList",value:function(e,i){return this.delete("".concat(this.baseURL,"/blocklists/").concat(encodeURIComponent(e)),i)}},{key:"exportChannels",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=z({channels:e},i);return this.post("".concat(this.baseURL,"/export_channels"),r)}},{key:"exportUsers",value:function(e){return this.post("".concat(this.baseURL,"/export/users"),e)}},{key:"exportChannel",value:function(e,i){return this.exportChannels([e],i)}},{key:"getExportChannelStatus",value:function(e){return this.get("".concat(this.baseURL,"/export_channels/").concat(encodeURIComponent(e)))}},{key:"campaign",value:function(e,i){return e&&Zt(e)==="object"?new dM(this,null,e):new dM(this,e,i)}},{key:"segment",value:function(e,i,r){return typeof i=="string"?new TM(this,e,i,r):new TM(this,e,null,i)}},{key:"validateServerSideAuth",value:function(){if(!this.secret)throw new Error("Campaigns is a server-side only feature. Please initialize the client with a secret to use this feature.")}},{key:"createSegment",value:function(){var n=T(g.default.mark(function i(r,s,o){var a;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.validateServerSideAuth(),a=z({id:s,type:r},o),c.abrupt("return",this.post(this.baseURL+"/segments",a));case 3:case"end":return c.stop()}},i,this)}));function e(i,r,s){return n.apply(this,arguments)}return e}()},{key:"createUserSegment",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.validateServerSideAuth(),a.abrupt("return",this.createSegment("user",r,s));case 2:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"createChannelSegment",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.validateServerSideAuth(),a.abrupt("return",this.createSegment("channel",r,s));case 2:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"getSegment",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.validateServerSideAuth(),o.abrupt("return",this.get(this.baseURL+"/segments/".concat(encodeURIComponent(r))));case 2:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"updateSegment",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.validateServerSideAuth(),a.abrupt("return",this.put(this.baseURL+"/segments/".concat(encodeURIComponent(r)),s));case 2:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"addSegmentTargets",value:function(){var n=T(g.default.mark(function i(r,s){var o;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this.validateServerSideAuth(),o={target_ids:s},l.abrupt("return",this.post(this.baseURL+"/segments/".concat(encodeURIComponent(r),"/addtargets"),o));case 3:case"end":return l.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"querySegmentTargets",value:function(){var n=T(g.default.mark(function i(r){var s,o,a,l=arguments;return g.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return s=l.length>1&&l[1]!==void 0?l[1]:{},o=l.length>2&&l[2]!==void 0?l[2]:[],a=l.length>3&&l[3]!==void 0?l[3]:{},this.validateServerSideAuth(),u.abrupt("return",this.post(this.baseURL+"/segments/".concat(encodeURIComponent(r),"/targets/query"),z({filter:s||{},sort:o||[]},a)));case 5:case"end":return u.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"removeSegmentTargets",value:function(){var n=T(g.default.mark(function i(r,s){var o;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this.validateServerSideAuth(),o={target_ids:s},l.abrupt("return",this.post(this.baseURL+"/segments/".concat(encodeURIComponent(r),"/deletetargets"),o));case 3:case"end":return l.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"querySegments",value:function(){var n=T(g.default.mark(function i(r,s){var o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.length>2&&a[2]!==void 0?a[2]:{},this.validateServerSideAuth(),c.abrupt("return",this.post(this.baseURL+"/segments/query",z({filter:r,sort:s},o)));case 3:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"deleteSegment",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.validateServerSideAuth(),o.abrupt("return",this.delete(this.baseURL+"/segments/".concat(encodeURIComponent(r))));case 2:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"segmentTargetExists",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.validateServerSideAuth(),a.abrupt("return",this.get(this.baseURL+"/segments/".concat(encodeURIComponent(r),"/target/").concat(encodeURIComponent(s))));case 2:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"createCampaign",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.validateServerSideAuth(),o.abrupt("return",this.post(this.baseURL+"/campaigns",z({},r)));case 2:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"getCampaign",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.validateServerSideAuth(),o.abrupt("return",this.get(this.baseURL+"/campaigns/".concat(encodeURIComponent(r))));case 2:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"startCampaign",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.validateServerSideAuth(),a.abrupt("return",this.post(this.baseURL+"/campaigns/".concat(encodeURIComponent(r),"/start"),{scheduled_for:s?.scheduledFor,stop_at:s?.stopAt}));case 2:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"queryCampaigns",value:function(){var n=T(g.default.mark(function i(r,s,o){return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this.validateServerSideAuth(),l.next=3,this.post(this.baseURL+"/campaigns/query",z({filter:r,sort:s},o||{}));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},i,this)}));function e(i,r,s){return n.apply(this,arguments)}return e}()},{key:"updateCampaign",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.validateServerSideAuth(),a.abrupt("return",this.put(this.baseURL+"/campaigns/".concat(encodeURIComponent(r)),s));case 2:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"deleteCampaign",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.validateServerSideAuth(),o.abrupt("return",this.delete(this.baseURL+"/campaigns/".concat(encodeURIComponent(r))));case 2:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"stopCampaign",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.validateServerSideAuth(),o.abrupt("return",this.post(this.baseURL+"/campaigns/".concat(encodeURIComponent(r),"/stop")));case 2:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"enrichURL",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.get(this.baseURL+"/og",{url:r}));case 1:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"getTask",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.get("".concat(this.baseURL,"/tasks/").concat(encodeURIComponent(r))));case 1:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"deleteChannels",value:function(){var n=T(g.default.mark(function i(r){var s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&o[1]!==void 0?o[1]:{},l.next=3,this.post(this.baseURL+"/channels/delete",z({cids:r},s));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"deleteUsers",value:function(){var n=T(g.default.mark(function i(r){var s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=o.length>1&&o[1]!==void 0?o[1]:{},!(typeof s.user<"u"&&!["soft","hard","pruning"].includes(s.user))){l.next=3;break}throw new Error("Invalid delete user options. user must be one of [soft hard pruning]");case 3:if(!(typeof s.conversations<"u"&&!["soft","hard"].includes(s.conversations))){l.next=5;break}throw new Error("Invalid delete user options. conversations must be one of [soft hard]");case 5:if(!(typeof s.messages<"u"&&!["soft","hard","pruning"].includes(s.messages))){l.next=7;break}throw new Error("Invalid delete user options. messages must be one of [soft hard pruning]");case 7:return l.next=9,this.post(this.baseURL+"/users/delete",z({user_ids:r},s));case 9:return l.abrupt("return",l.sent);case 10:case"end":return l.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"_createImportURL",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.post(this.baseURL+"/import_urls",{filename:r});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"_createImport",value:function(){var n=T(g.default.mark(function i(r){var s,o=arguments;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=o.length>1&&o[1]!==void 0?o[1]:{mode:"upsert"},l.next=3,this.post(this.baseURL+"/imports",z({path:r},s));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"_getImport",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.get(this.baseURL+"/imports/".concat(encodeURIComponent(r)));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"_listImports",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.get(this.baseURL+"/imports",r);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"upsertPushProvider",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.post(this.baseURL+"/push_providers",{push_provider:r});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"deletePushProvider",value:function(){var n=T(g.default.mark(function i(r){var s,o;return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=r.type,o=r.name,l.next=3,this.delete(this.baseURL+"/push_providers/".concat(encodeURIComponent(s),"/").concat(encodeURIComponent(o)));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"listPushProviders",value:function(){var n=T(g.default.mark(function i(){return g.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.get(this.baseURL+"/push_providers");case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"createAbortControllerForNextRequest",value:function(){return this.nextRequestAbortController=new AbortController}},{key:"commitMessage",value:function(){var n=T(g.default.mark(function i(r){return g.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.post(this.baseURL+"/messages/".concat(encodeURIComponent(r),"/commit"));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"createPoll",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.post(this.baseURL+"/polls",z(z({},r),s?{user_id:s}:{}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"getPoll",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.get(this.baseURL+"/polls/".concat(encodeURIComponent(r)),s?{user_id:s}:{});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"updatePoll",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.put(this.baseURL+"/polls",z(z({},r),s?{user_id:s}:{}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"partialUpdatePoll",value:function(){var n=T(g.default.mark(function i(r,s,o){return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.patch(this.baseURL+"/polls/".concat(encodeURIComponent(r)),z(z({},s),o?{user_id:o}:{}));case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},i,this)}));function e(i,r,s){return n.apply(this,arguments)}return e}()},{key:"deletePoll",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.delete(this.baseURL+"/polls/".concat(encodeURIComponent(r)),z({},s?{user_id:s}:{}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"closePoll",value:function(){var n=T(g.default.mark(function i(r,s){return g.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.partialUpdatePoll(r,{set:{is_closed:!0}},s));case 1:case"end":return a.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()},{key:"createPollOption",value:function(){var n=T(g.default.mark(function i(r,s,o){return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.post(this.baseURL+"/polls/".concat(encodeURIComponent(r),"/options"),z(z({},s),o?{user_id:o}:{}));case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},i,this)}));function e(i,r,s){return n.apply(this,arguments)}return e}()},{key:"getPollOption",value:function(){var n=T(g.default.mark(function i(r,s,o){return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.get(this.baseURL+"/polls/".concat(encodeURIComponent(r),"/options/").concat(encodeURIComponent(s)),o?{user_id:o}:{});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},i,this)}));function e(i,r,s){return n.apply(this,arguments)}return e}()},{key:"updatePollOption",value:function(){var n=T(g.default.mark(function i(r,s,o){return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.put(this.baseURL+"/polls/".concat(encodeURIComponent(r),"/options"),z(z({},s),o?{user_id:o}:{}));case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},i,this)}));function e(i,r,s){return n.apply(this,arguments)}return e}()},{key:"deletePollOption",value:function(){var n=T(g.default.mark(function i(r,s,o){return g.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.delete(this.baseURL+"/polls/".concat(encodeURIComponent(r),"/options/").concat(encodeURIComponent(s)),o?{user_id:o}:{});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},i,this)}));function e(i,r,s){return n.apply(this,arguments)}return e}()},{key:"castPollVote",value:function(){var n=T(g.default.mark(function i(r,s,o,a){return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.post(this.baseURL+"/messages/".concat(encodeURIComponent(r),"/polls/").concat(encodeURIComponent(s),"/vote"),z({vote:o},a?{user_id:a}:{}));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},i,this)}));function e(i,r,s,o){return n.apply(this,arguments)}return e}()},{key:"addPollAnswer",value:function(){var n=T(g.default.mark(function i(r,s,o,a){return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",this.castPollVote(r,s,{answer_text:o},a));case 1:case"end":return c.stop()}},i,this)}));function e(i,r,s,o){return n.apply(this,arguments)}return e}()},{key:"removePollVote",value:function(){var n=T(g.default.mark(function i(r,s,o,a){return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.delete(this.baseURL+"/messages/".concat(encodeURIComponent(r),"/polls/").concat(encodeURIComponent(s),"/vote/").concat(encodeURIComponent(o)),z({},a?{user_id:a}:{}));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},i,this)}));function e(i,r,s,o){return n.apply(this,arguments)}return e}()},{key:"queryPolls",value:function(){var n=T(g.default.mark(function i(){var r,s,o,a,l,c=arguments;return g.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return r=c.length>0&&c[0]!==void 0?c[0]:{},s=c.length>1&&c[1]!==void 0?c[1]:[],o=c.length>2&&c[2]!==void 0?c[2]:{},a=c.length>3?c[3]:void 0,l=a?"?user_id=".concat(a):"",d.next=7,this.post(this.baseURL+"/polls/query".concat(l),z({filter:r,sort:On(s)},o));case 7:return d.abrupt("return",d.sent);case 8:case"end":return d.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"queryPollVotes",value:function(){var n=T(g.default.mark(function i(r){var s,o,a,l,c,u=arguments;return g.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s=u.length>1&&u[1]!==void 0?u[1]:{},o=u.length>2&&u[2]!==void 0?u[2]:[],a=u.length>3&&u[3]!==void 0?u[3]:{},l=u.length>4?u[4]:void 0,c=l?"?user_id=".concat(l):"",h.next=7,this.post(this.baseURL+"/polls/".concat(encodeURIComponent(r),"/votes").concat(c),z({filter:s,sort:On(o)},a));case 7:return h.abrupt("return",h.sent);case 8:case"end":return h.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"queryPollAnswers",value:function(){var n=T(g.default.mark(function i(r){var s,o,a,l,c,u=arguments;return g.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s=u.length>1&&u[1]!==void 0?u[1]:{},o=u.length>2&&u[2]!==void 0?u[2]:[],a=u.length>3&&u[3]!==void 0?u[3]:{},l=u.length>4?u[4]:void 0,c=l?"?user_id=".concat(l):"",h.next=7,this.post(this.baseURL+"/polls/".concat(encodeURIComponent(r),"/votes").concat(c),z({filter:z(z({},s),{},{is_answer:!0}),sort:On(o)},a));case 7:return h.abrupt("return",h.sent);case 8:case"end":return h.stop()}},i,this)}));function e(i){return n.apply(this,arguments)}return e}()},{key:"queryMessageHistory",value:function(){var n=T(g.default.mark(function i(){var r,s,o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=a.length>0&&a[0]!==void 0?a[0]:{},s=a.length>1&&a[1]!==void 0?a[1]:[],o=a.length>2&&a[2]!==void 0?a[2]:{},c.next=5,this.post(this.baseURL+"/messages/history",z({filter:r,sort:On(s)},o));case 5:return c.abrupt("return",c.sent);case 6:case"end":return c.stop()}},i,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"updateFlags",value:function(){var n=T(g.default.mark(function i(r,s){var o,a=arguments;return g.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.length>2&&a[2]!==void 0?a[2]:{},c.next=3,this.post(this.baseURL+"/automod/v1/moderation/update_flags",z({message_ids:r,reviewed_by:s},o));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},i,this)}));function e(i,r){return n.apply(this,arguments)}return e}()}],[{key:"getInstance",value:function(e,i,r){return t._instance||(typeof i=="string"?t._instance=new t(e,i,r):t._instance=new t(e,i)),t._instance}}]),t}();C(p0,"_instance",void 0);var tA="Allow",t6="Deny",m0=["*"],g0=["*"],n6=999,i6=1,nA=function t(n,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:g0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:tA;Kt(this,t),C(this,"name",void 0),C(this,"action",void 0),C(this,"owner",void 0),C(this,"priority",void 0),C(this,"resources",void 0),C(this,"roles",void 0),this.name=n,this.action=o,this.owner=s,this.priority=e,this.resources=i,this.roles=r},bue=new nA("Allow all",n6,m0,g0,!1,tA),Cue=new nA("Deny all",i6,m0,g0,!1,t6);var Xf,r6=new Uint8Array(16);function _0(){if(!Xf&&(Xf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xf(r6)}var un=[];for(let t=0;t<256;++t)un.push((t+256).toString(16).slice(1));function iA(t,n=0){return un[t[n+0]]+un[t[n+1]]+un[t[n+2]]+un[t[n+3]]+"-"+un[t[n+4]]+un[t[n+5]]+"-"+un[t[n+6]]+un[t[n+7]]+"-"+un[t[n+8]]+un[t[n+9]]+"-"+un[t[n+10]]+un[t[n+11]]+un[t[n+12]]+un[t[n+13]]+un[t[n+14]]+un[t[n+15]]}var s6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),v0={randomUUID:s6};function o6(t,n,e){if(v0.randomUUID&&!n&&!t)return v0.randomUUID();t=t||{};let i=t.random||(t.rng||_0)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,n){e=e||0;for(let r=0;r<16;++r)n[e+r]=i[r];return n}return iA(i)}var Jf=o6;var gp=ar(rA(),1),pR=ar(sA(),1),mR=ar(oA(),1);var lA=["top","right","bottom","left"],aA=["start","end"],S0=lA.reduce((t,n)=>t.concat(n,n+"-"+aA[0],n+"-"+aA[1]),[]),cs=Math.min,Or=Math.max,Xc=Math.round,Jc=Math.floor,Mi=t=>({x:t,y:t}),a6={left:"right",right:"left",bottom:"top",top:"bottom"},l6={start:"end",end:"start"};function ep(t,n,e){return Or(t,cs(n,e))}function kr(t,n){return typeof t=="function"?t(n):t}function Ai(t){return t.split("-")[0]}function Ri(t){return t.split("-")[1]}function tp(t){return t==="x"?"y":"x"}function np(t){return t==="y"?"height":"width"}function us(t){return["top","bottom"].includes(Ai(t))?"y":"x"}function ip(t){return tp(us(t))}function x0(t,n,e){e===void 0&&(e=!1);let i=Ri(t),r=ip(t),s=np(r),o=r==="x"?i===(e?"end":"start")?"right":"left":i==="start"?"bottom":"top";return n.reference[s]>n.floating[s]&&(o=Zc(o)),[o,Zc(o)]}function cA(t){let n=Zc(t);return[Kc(t),n,Kc(n)]}function Kc(t){return t.replace(/start|end/g,n=>l6[n])}function c6(t,n,e){let i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return e?n?r:i:n?i:r;case"left":case"right":return n?s:o;default:return[]}}function uA(t,n,e,i){let r=Ri(t),s=c6(Ai(t),e==="start",i);return r&&(s=s.map(o=>o+"-"+r),n&&(s=s.concat(s.map(Kc)))),s}function Zc(t){return t.replace(/left|right|bottom|top/g,n=>a6[n])}function u6(t){return V({top:0,right:0,bottom:0,left:0},t)}function T0(t){return typeof t!="number"?u6(t):{top:t,right:t,bottom:t,left:t}}function fo(t){let{x:n,y:e,width:i,height:r}=t;return{width:i,height:r,top:e,left:n,right:n+i,bottom:e+r,x:n,y:e}}function dA(t,n,e){let{reference:i,floating:r}=t,s=us(n),o=ip(n),a=np(o),l=Ai(n),c=s==="y",u=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,h=i[a]/2-r[a]/2,f;switch(l){case"top":f={x:u,y:i.y-r.height};break;case"bottom":f={x:u,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:d};break;case"left":f={x:i.x-r.width,y:d};break;default:f={x:i.x,y:i.y}}switch(Ri(n)){case"start":f[o]-=h*(e&&c?-1:1);break;case"end":f[o]+=h*(e&&c?-1:1);break}return f}var hA=(t,n,e)=>ne(void 0,null,function*(){let{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=e,a=s.filter(Boolean),l=yield o.isRTL==null?void 0:o.isRTL(n),c=yield o.getElementRects({reference:t,floating:n,strategy:r}),{x:u,y:d}=dA(c,i,l),h=i,f={},p=0;for(let m=0;m<a.length;m++){let{name:_,fn:D}=a[m],{x:w,y:S,data:k,reset:L}=yield D({x:u,y:d,initialPlacement:i,placement:h,strategy:r,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:n}});u=w??u,d=S??d,f=Se(V({},f),{[_]:V(V({},f[_]),k)}),L&&p<=50&&(p++,typeof L=="object"&&(L.placement&&(h=L.placement),L.rects&&(c=L.rects===!0?yield o.getElementRects({reference:t,floating:n,strategy:r}):L.rects),{x:u,y:d}=dA(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:r,middlewareData:f}});function rp(t,n){return ne(this,null,function*(){var e;n===void 0&&(n={});let{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=kr(n,t),p=T0(f),_=a[h?d==="floating"?"reference":"floating":d],D=fo(yield s.getClippingRect({element:(e=yield s.isElement==null?void 0:s.isElement(_))==null||e?_:_.contextElement||(yield s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,S=yield s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating),k=(yield s.isElement==null?void 0:s.isElement(S))?(yield s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},L=fo(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(D.top-L.top+p.top)/k.y,bottom:(L.bottom-D.bottom+p.bottom)/k.y,left:(D.left-L.left+p.left)/k.x,right:(L.right-D.right+p.right)/k.x}})}var fA=t=>({name:"arrow",options:t,fn(e){return ne(this,null,function*(){let{x:i,y:r,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=kr(t,e)||{};if(u==null)return{};let h=T0(d),f={x:i,y:r},p=ip(s),m=np(p),_=yield a.getDimensions(u),D=p==="y",w=D?"top":"left",S=D?"bottom":"right",k=D?"clientHeight":"clientWidth",L=o.reference[m]+o.reference[p]-f[p]-o.floating[m],W=f[p]-o.reference[p],oe=yield a.getOffsetParent==null?void 0:a.getOffsetParent(u),K=oe?oe[k]:0;(!K||!(yield a.isElement==null?void 0:a.isElement(oe)))&&(K=l.floating[k]||o.floating[m]);let de=L/2-W/2,it=K/2-_[m]/2-1,Ye=cs(h[w],it),ae=cs(h[S],it),Z=Ye,X=K-_[m]-ae,ce=K/2-_[m]/2+de,A=ep(Z,ce,X),R=!c.arrow&&Ri(s)!=null&&ce!==A&&o.reference[m]/2-(ce<Z?Ye:ae)-_[m]/2<0,O=R?ce<Z?ce-Z:ce-X:0;return{[p]:f[p]+O,data:V({[p]:A,centerOffset:ce-A-O},R&&{alignmentOffset:O}),reset:R}})}});function d6(t,n,e){return(t?[...e.filter(r=>Ri(r)===t),...e.filter(r=>Ri(r)!==t)]:e.filter(r=>Ai(r)===r)).filter(r=>t?Ri(r)===t||(n?Kc(r)!==r:!1):!0)}var pA=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,fn(e){return ne(this,null,function*(){var i,r,s;let{rects:o,middlewareData:a,placement:l,platform:c,elements:u}=e,Ye=kr(t,e),{crossAxis:d=!1,alignment:h,allowedPlacements:f=S0,autoAlignment:p=!0}=Ye,m=ys(Ye,["crossAxis","alignment","allowedPlacements","autoAlignment"]),_=h!==void 0||f===S0?d6(h||null,p,f):f,D=yield rp(e,m),w=((i=a.autoPlacement)==null?void 0:i.index)||0,S=_[w];if(S==null)return{};let k=x0(S,o,yield c.isRTL==null?void 0:c.isRTL(u.floating));if(l!==S)return{reset:{placement:_[0]}};let L=[D[Ai(S)],D[k[0]],D[k[1]]],W=[...((r=a.autoPlacement)==null?void 0:r.overflows)||[],{placement:S,overflows:L}],oe=_[w+1];if(oe)return{data:{index:w+1,overflows:W},reset:{placement:oe}};let K=W.map(ae=>{let Z=Ri(ae.placement);return[ae.placement,Z&&d?ae.overflows.slice(0,2).reduce((X,ce)=>X+ce,0):ae.overflows[0],ae.overflows]}).sort((ae,Z)=>ae[1]-Z[1]),it=((s=K.filter(ae=>ae[2].slice(0,Ri(ae[0])?2:3).every(Z=>Z<=0))[0])==null?void 0:s[0])||K[0][0];return it!==l?{data:{index:w+1,overflows:W},reset:{placement:it}}:{}})}}},mA=function(t){return t===void 0&&(t={}),{name:"flip",options:t,fn(e){return ne(this,null,function*(){var i,r;let{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=e,ce=kr(t,e),{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:_=!0}=ce,D=ys(ce,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((i=o.arrow)!=null&&i.alignmentOffset)return{};let w=Ai(s),S=us(l),k=Ai(l)===l,L=yield c.isRTL==null?void 0:c.isRTL(u.floating),W=f||(k||!_?[Zc(l)]:cA(l)),oe=m!=="none";!f&&oe&&W.push(...uA(l,_,m,L));let K=[l,...W],de=yield rp(e,D),it=[],Ye=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&it.push(de[w]),h){let A=x0(s,a,L);it.push(de[A[0]],de[A[1]])}if(Ye=[...Ye,{placement:s,overflows:it}],!it.every(A=>A<=0)){var ae,Z;let A=(((ae=o.flip)==null?void 0:ae.index)||0)+1,R=K[A];if(R)return{data:{index:A,overflows:Ye},reset:{placement:R}};let O=(Z=Ye.filter(B=>B.overflows[0]<=0).sort((B,Y)=>B.overflows[1]-Y.overflows[1])[0])==null?void 0:Z.placement;if(!O)switch(p){case"bestFit":{var X;let B=(X=Ye.filter(Y=>{if(oe){let te=us(Y.placement);return te===S||te==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(te=>te>0).reduce((te,be)=>te+be,0)]).sort((Y,te)=>Y[1]-te[1])[0])==null?void 0:X[0];B&&(O=B);break}case"initialPlacement":O=l;break}if(s!==O)return{reset:{placement:O}}}return{}})}}};function h6(t,n){return ne(this,null,function*(){let{placement:e,platform:i,elements:r}=t,s=yield i.isRTL==null?void 0:i.isRTL(r.floating),o=Ai(e),a=Ri(e),l=us(e)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=kr(n,t),{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}})}var gA=function(t){return t===void 0&&(t=0),{name:"offset",options:t,fn(e){return ne(this,null,function*(){var i,r;let{x:s,y:o,placement:a,middlewareData:l}=e,c=yield h6(e,t);return a===((i=l.offset)==null?void 0:i.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:Se(V({},c),{placement:a})}})}}},_A=function(t){return t===void 0&&(t={}),{name:"shift",options:t,fn(e){return ne(this,null,function*(){let{x:i,y:r,placement:s}=e,D=kr(t,e),{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x:S,y:k}=w;return{x:S,y:k}}}}=D,c=ys(D,["mainAxis","crossAxis","limiter"]),u={x:i,y:r},d=yield rp(e,c),h=us(Ai(s)),f=tp(h),p=u[f],m=u[h];if(o){let w=f==="y"?"top":"left",S=f==="y"?"bottom":"right",k=p+d[w],L=p-d[S];p=ep(k,p,L)}if(a){let w=h==="y"?"top":"left",S=h==="y"?"bottom":"right",k=m+d[w],L=m-d[S];m=ep(k,m,L)}let _=l.fn(Se(V({},e),{[f]:p,[h]:m}));return Se(V({},_),{data:{x:_.x-i,y:_.y-r,enabled:{[f]:o,[h]:a}}})})}}},vA=function(t){return t===void 0&&(t={}),{options:t,fn(n){let{x:e,y:i,placement:r,rects:s,middlewareData:o}=n,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=kr(t,n),u={x:e,y:i},d=us(r),h=tp(d),f=u[h],p=u[d],m=kr(a,n),_=typeof m=="number"?{mainAxis:m,crossAxis:0}:V({mainAxis:0,crossAxis:0},m);if(l){let S=h==="y"?"height":"width",k=s.reference[h]-s.floating[S]+_.mainAxis,L=s.reference[h]+s.reference[S]-_.mainAxis;f<k?f=k:f>L&&(f=L)}if(c){var D,w;let S=h==="y"?"width":"height",k=["top","left"].includes(Ai(r)),L=s.reference[d]-s.floating[S]+(k&&((D=o.offset)==null?void 0:D[d])||0)+(k?0:_.crossAxis),W=s.reference[d]+s.reference[S]+(k?0:((w=o.offset)==null?void 0:w[d])||0)-(k?_.crossAxis:0);p<L?p=L:p>W&&(p=W)}return{[h]:f,[d]:p}}}};function sp(){return typeof window<"u"}function po(t){return bA(t)?(t.nodeName||"").toLowerCase():"#document"}function kn(t){var n;return(t==null||(n=t.ownerDocument)==null?void 0:n.defaultView)||window}function Oi(t){var n;return(n=(bA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:n.documentElement}function bA(t){return sp()?t instanceof Node||t instanceof kn(t).Node:!1}function di(t){return sp()?t instanceof Element||t instanceof kn(t).Element:!1}function ki(t){return sp()?t instanceof HTMLElement||t instanceof kn(t).HTMLElement:!1}function yA(t){return!sp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof kn(t).ShadowRoot}function Ka(t){let{overflow:n,overflowX:e,overflowY:i,display:r}=hi(t);return/auto|scroll|overlay|hidden|clip/.test(n+i+e)&&!["inline","contents"].includes(r)}function CA(t){return["table","td","th"].includes(po(t))}function eu(t){return[":popover-open",":modal"].some(n=>{try{return t.matches(n)}catch{return!1}})}function op(t){let n=ap(),e=di(t)?hi(t):t;return["transform","translate","scale","rotate","perspective"].some(i=>e[i]?e[i]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!n&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!n&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(e.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(e.contain||"").includes(i))}function wA(t){let n=Fr(t);for(;ki(n)&&!mo(n);){if(op(n))return n;if(eu(n))return null;n=Fr(n)}return null}function ap(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mo(t){return["html","body","#document"].includes(po(t))}function hi(t){return kn(t).getComputedStyle(t)}function tu(t){return di(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fr(t){if(po(t)==="html")return t;let n=t.assignedSlot||t.parentNode||yA(t)&&t.host||Oi(t);return yA(n)?n.host:n}function DA(t){let n=Fr(t);return mo(n)?t.ownerDocument?t.ownerDocument.body:t.body:ki(n)&&Ka(n)?n:DA(n)}function Ya(t,n,e){var i;n===void 0&&(n=[]),e===void 0&&(e=!0);let r=DA(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),o=kn(r);if(s){let a=lp(o);return n.concat(o,o.visualViewport||[],Ka(r)?r:[],a&&e?Ya(a):[])}return n.concat(r,Ya(r,[],e))}function lp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xA(t){let n=hi(t),e=parseFloat(n.width)||0,i=parseFloat(n.height)||0,r=ki(t),s=r?t.offsetWidth:e,o=r?t.offsetHeight:i,a=Xc(e)!==s||Xc(i)!==o;return a&&(e=s,i=o),{width:e,height:i,$:a}}function M0(t){return di(t)?t:t.contextElement}function Za(t){let n=M0(t);if(!ki(n))return Mi(1);let e=n.getBoundingClientRect(),{width:i,height:r,$:s}=xA(n),o=(s?Xc(e.width):e.width)/i,a=(s?Xc(e.height):e.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}var f6=Mi(0);function TA(t){let n=kn(t);return!ap()||!n.visualViewport?f6:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function p6(t,n,e){return n===void 0&&(n=!1),!e||n&&e!==kn(t)?!1:n}function go(t,n,e,i){n===void 0&&(n=!1),e===void 0&&(e=!1);let r=t.getBoundingClientRect(),s=M0(t),o=Mi(1);n&&(i?di(i)&&(o=Za(i)):o=Za(t));let a=p6(s,e,i)?TA(s):Mi(0),l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,d=r.height/o.y;if(s){let h=kn(s),f=i&&di(i)?kn(i):i,p=h,m=lp(p);for(;m&&i&&f!==p;){let _=Za(m),D=m.getBoundingClientRect(),w=hi(m),S=D.left+(m.clientLeft+parseFloat(w.paddingLeft))*_.x,k=D.top+(m.clientTop+parseFloat(w.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=S,c+=k,p=kn(m),m=lp(p)}}return fo({width:u,height:d,x:l,y:c})}function A0(t,n){let e=tu(t).scrollLeft;return n?n.left+e:go(Oi(t)).left+e}function IA(t,n,e){e===void 0&&(e=!1);let i=t.getBoundingClientRect(),r=i.left+n.scrollLeft-(e?0:A0(t,i)),s=i.top+n.scrollTop;return{x:r,y:s}}function m6(t){let{elements:n,rect:e,offsetParent:i,strategy:r}=t,s=r==="fixed",o=Oi(i),a=n?eu(n.floating):!1;if(i===o||a&&s)return e;let l={scrollLeft:0,scrollTop:0},c=Mi(1),u=Mi(0),d=ki(i);if((d||!d&&!s)&&((po(i)!=="body"||Ka(o))&&(l=tu(i)),ki(i))){let f=go(i);c=Za(i),u.x=f.x+i.clientLeft,u.y=f.y+i.clientTop}let h=o&&!d&&!s?IA(o,l,!0):Mi(0);return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:e.y*c.y-l.scrollTop*c.y+u.y+h.y}}function g6(t){return Array.from(t.getClientRects())}function _6(t){let n=Oi(t),e=tu(t),i=t.ownerDocument.body,r=Or(n.scrollWidth,n.clientWidth,i.scrollWidth,i.clientWidth),s=Or(n.scrollHeight,n.clientHeight,i.scrollHeight,i.clientHeight),o=-e.scrollLeft+A0(t),a=-e.scrollTop;return hi(i).direction==="rtl"&&(o+=Or(n.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function v6(t,n){let e=kn(t),i=Oi(t),r=e.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;let c=ap();(!c||c&&n==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function y6(t,n){let e=go(t,!0,n==="fixed"),i=e.top+t.clientTop,r=e.left+t.clientLeft,s=ki(t)?Za(t):Mi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function EA(t,n,e){let i;if(n==="viewport")i=v6(t,e);else if(n==="document")i=_6(Oi(t));else if(di(n))i=y6(n,e);else{let r=TA(t);i={x:n.x-r.x,y:n.y-r.y,width:n.width,height:n.height}}return fo(i)}function MA(t,n){let e=Fr(t);return e===n||!di(e)||mo(e)?!1:hi(e).position==="fixed"||MA(e,n)}function b6(t,n){let e=n.get(t);if(e)return e;let i=Ya(t,[],!1).filter(a=>di(a)&&po(a)!=="body"),r=null,s=hi(t).position==="fixed",o=s?Fr(t):t;for(;di(o)&&!mo(o);){let a=hi(o),l=op(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Ka(o)&&!l&&MA(t,o))?i=i.filter(u=>u!==o):r=a,o=Fr(o)}return n.set(t,i),i}function C6(t){let{element:n,boundary:e,rootBoundary:i,strategy:r}=t,o=[...e==="clippingAncestors"?eu(n)?[]:b6(n,this._c):[].concat(e),i],a=o[0],l=o.reduce((c,u)=>{let d=EA(n,u,r);return c.top=Or(d.top,c.top),c.right=cs(d.right,c.right),c.bottom=cs(d.bottom,c.bottom),c.left=Or(d.left,c.left),c},EA(n,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function w6(t){let{width:n,height:e}=xA(t);return{width:n,height:e}}function D6(t,n,e){let i=ki(n),r=Oi(n),s=e==="fixed",o=go(t,!0,s,n),a={scrollLeft:0,scrollTop:0},l=Mi(0);if(i||!i&&!s)if((po(n)!=="body"||Ka(r))&&(a=tu(n)),i){let h=go(n,!0,s,n);l.x=h.x+n.clientLeft,l.y=h.y+n.clientTop}else r&&(l.x=A0(r));let c=r&&!i&&!s?IA(r,a):Mi(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function I0(t){return hi(t).position==="static"}function SA(t,n){if(!ki(t)||hi(t).position==="fixed")return null;if(n)return n(t);let e=t.offsetParent;return Oi(t)===e&&(e=e.ownerDocument.body),e}function AA(t,n){let e=kn(t);if(eu(t))return e;if(!ki(t)){let r=Fr(t);for(;r&&!mo(r);){if(di(r)&&!I0(r))return r;r=Fr(r)}return e}let i=SA(t,n);for(;i&&CA(i)&&I0(i);)i=SA(i,n);return i&&mo(i)&&I0(i)&&!op(i)?e:i||wA(t)||e}var E6=function(t){return ne(this,null,function*(){let n=this.getOffsetParent||AA,e=this.getDimensions,i=yield e(t.floating);return{reference:D6(t.reference,yield n(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}})};function S6(t){return hi(t).direction==="rtl"}var x6={convertOffsetParentRelativeRectToViewportRelativeRect:m6,getDocumentElement:Oi,getClippingRect:C6,getOffsetParent:AA,getElementRects:E6,getClientRects:g6,getDimensions:w6,getScale:Za,isElement:di,isRTL:S6};function RA(t,n){return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height}function T6(t,n){let e=null,i,r=Oi(t);function s(){var a;clearTimeout(i),(a=e)==null||a.disconnect(),e=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();let c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||n(),!h||!f)return;let p=Jc(d),m=Jc(r.clientWidth-(u+h)),_=Jc(r.clientHeight-(d+f)),D=Jc(u),S={rootMargin:-p+"px "+-m+"px "+-_+"px "+-D+"px",threshold:Or(0,cs(1,l))||1},k=!0;function L(W){let oe=W[0].intersectionRatio;if(oe!==l){if(!k)return o();oe?o(!1,oe):i=setTimeout(()=>{o(!1,1e-7)},1e3)}oe===1&&!RA(c,t.getBoundingClientRect())&&o(),k=!1}try{e=new IntersectionObserver(L,Se(V({},S),{root:r.ownerDocument}))}catch{e=new IntersectionObserver(L,S)}e.observe(t)}return o(!0),s}function OA(t,n,e,i){i===void 0&&(i={});let{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=M0(t),u=r||s?[...c?Ya(c):[],...Ya(n)]:[];u.forEach(D=>{r&&D.addEventListener("scroll",e,{passive:!0}),s&&D.addEventListener("resize",e)});let d=c&&a?T6(c,e):null,h=-1,f=null;o&&(f=new ResizeObserver(D=>{let[w]=D;w&&w.target===c&&f&&(f.unobserve(n),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=f)==null||S.observe(n)})),e()}),c&&!l&&f.observe(c),f.observe(n));let p,m=l?go(t):null;l&&_();function _(){let D=go(t);m&&!RA(m,D)&&e(),m=D,p=requestAnimationFrame(_)}return e(),()=>{var D;u.forEach(w=>{r&&w.removeEventListener("scroll",e),s&&w.removeEventListener("resize",e)}),d?.(),(D=f)==null||D.disconnect(),f=null,l&&cancelAnimationFrame(p)}}var kA=gA,FA=pA,PA=_A,NA=mA;var LA=fA;var VA=vA,jA=(t,n,e)=>{let i=new Map,r=V({platform:x6},e),s=Se(V({},r.platform),{_c:i});return hA(t,n,Se(V({},r),{platform:s}))};var I6=["floatUiViewRef"],BA=["*","*"];function M6(t,n){if(t&1&&(E(0,"div",5),rt(1),x()),t&2){let e=b();y("innerHTML",e.text,Qr)}}function A6(t,n){t&1&&(E(0,"div",6),rt(1,1),x())}var R0=function(t){return t.AUTO="auto",t.AUTOSTART="auto-start",t.AUTOEND="auto-end",t.TOP="top",t.BOTTOM="bottom",t.LEFT="left",t.RIGHT="right",t.TOPSTART="top-start",t.BOTTOMSTART="bottom-start",t.LEFTSTART="left-start",t.RIGHTSTART="right-start",t.TOPEND="top-end",t.BOTTOMEND="bottom-end",t.LEFTEND="left-end",t.RIGHTEND="right-end",t}(R0||{}),ds=function(t){return t.click="click",t.hover="hover",t.mousedown="mousedown",t.none="none",t}(ds||{}),k0=(()=>{class t{elRef;_viewRef;_changeDetectorRef;static nextId=0;get _dynamicArrowSides(){return{top:"left",right:"top",bottom:"left",left:"top"}}get _sideAxis(){return{left:"x",top:"y",right:"x",bottom:"y"}}get _staticArrowSides(){return{top:"bottom",right:"left",bottom:"top",left:"right"}}ariaHidden;arrowColor=null;displayType;floatUiOptions={disableAnimation:!1,disableDefaultStyling:!1,boundariesElement:"",trigger:ds.hover,positionFixed:!1,appendToBody:!1,popperModifiers:[]};floatUiSwitch;floatUiViewRef;id=`ngx_float_ui_${++t.nextId}`;isMouseOver=!1;onHidden=new fe;onUpdate;opacity;referenceObject;state;text;_destroy$=new ye;_resizeCtrl$=new ye;_styleId=`${this.id}_style`;constructor(e,i,r){this.elRef=e,this._viewRef=i,this._changeDetectorRef=r,this._toggleVisibility(!1)}clean(){this.toggleVisibility(!1),this.floatUiSwitch&&this.floatUiSwitch()}extractAppliedClassListExpr(e=[]){return(Array.isArray(e)?e:typeof e=="string"?e.replace(/ /,"").split(","):[]).reduce((r,s)=>(r[s]=!0,r),{})}hide(){this.floatUiSwitch&&this.floatUiSwitch(),this.toggleVisibility(!1),this.onHidden.emit()}ngOnDestroy(){this._destroy$.next(),this.clean(),this.floatUiOptions.appendTo&&this.elRef&&this.elRef.nativeElement&&this.elRef.nativeElement.parentNode&&(this._viewRef.detach(),this.elRef.nativeElement.parentNode.removeChild(this.elRef.nativeElement))}onDocumentResize(){this.update()}onMouseOver(){this.isMouseOver=!0}show(){this.referenceObject&&(this._resizeCtrl$.next(),this._determineArrowColor(),this.floatUiSwitch=OA(this.referenceObject,this.floatUiViewRef.nativeElement,()=>{this._computePosition()}),mn(document,"resize").pipe(_t(this._resizeCtrl$),_t(this._destroy$)).subscribe({next:()=>this.onDocumentResize()}))}showOnLeave(){this.isMouseOver=!1,!(this.floatUiOptions.trigger!==ds.hover&&!this.floatUiOptions.hideOnMouseLeave)&&this.hide()}toggleVisibility(e){this._toggleVisibility(e),this._changeDetectorRef.destroyed||this._changeDetectorRef.detectChanges()}update(){this._computePosition()}_computePosition(){let e=this.floatUiOptions.appendTo&&document.querySelector(this.floatUiOptions.appendTo);if(e){let c=this.elRef.nativeElement.parentNode;c!==e&&(c&&c.removeChild(this.elRef.nativeElement),e.appendChild(this.elRef.nativeElement))}let i=this.elRef.nativeElement.querySelector(".float-ui-arrow"),r=i.offsetWidth,s=Math.sqrt(2*r**2)/2,o=this.floatUiOptions.placement?.replace("auto-","")||void 0,l={placement:!this.floatUiOptions.placement||this.floatUiOptions.placement.indexOf(R0.AUTO)===0?void 0:this.floatUiOptions.placement,strategy:this.floatUiOptions.positionFixed?"fixed":"absolute",middleware:[kA(s),...this.floatUiOptions.preventOverflow?[NA()]:[],PA({limiter:VA()}),LA({element:i,padding:4})]};if(!this.floatUiOptions.preventOverflow&&!l.placement){let c=this.floatUiOptions.boundariesElement?document.querySelector(this.floatUiOptions.boundariesElement):this.referenceObject.parentElement;l.middleware.push(FA({crossAxis:!0,alignment:o,autoAlignment:this.floatUiOptions.placement===R0.AUTO,boundary:c}))}jA(this.referenceObject,this.floatUiViewRef.nativeElement,V({},l)).then(({middlewareData:c,x:u,y:d,placement:h})=>{let f=h.split("-")[0];if(this.floatUiViewRef.nativeElement.setAttribute("data-float-ui-placement",f),c.arrow){let p=this._staticArrowSides[f],m=this._dynamicArrowSides[f],_=this._sideAxis[m];Object.assign(i.style,{top:"",bottom:"",left:"",right:"",[m]:c.arrow[_]!=null?`${c.arrow[_]}px`:"",[p]:`${-r/2}px`})}Object.assign(this.floatUiViewRef.nativeElement.style,{left:`${u}px`,top:`${d}px`}),this.toggleVisibility(!0),this.onUpdate?.()})}_createArrowSelector(){return`div#${this.id}.float-ui-container > .float-ui-arrow.ngxp__force-arrow`}_determineArrowColor(){if(!this.floatUiOptions.styles||this.arrowColor)return!1;let e=this.floatUiOptions.styles["background-color"]||this.floatUiOptions.styles.backgroundColor;if(this.arrowColor===e)return!1;this.arrowColor=e;let i=document.querySelector(`#${this._styleId}`),r=this.arrowColor?`${this._createArrowSelector()}:before { background-color: ${this.arrowColor}; }`:"";i||(i=document.createElement("style"),i.id=this._styleId,i.setAttribute("type","text/css"),document.head.appendChild(i)),i.styleSheet?i.styleSheet.cssText=r:i.innerHTML=r}_toggleVisibility(e){this.displayType=["none","block"][+e],this.opacity=+e,this.ariaHidden=`${!e}`,this.state=e}static \u0275fac=function(i){return new(i||t)(M(Le),M(It),M(nt))};static \u0275cmp=Ie({type:t,selectors:[["float-ui-content"]],viewQuery:function(i,r){if(i&1&&Qe(I6,7),i&2){let s;Oe(s=ke())&&(r.floatUiViewRef=s.first)}},hostBindings:function(i,r){i&1&&se("mouseover",function(){return r.onMouseOver()})("mouseleave",function(){return r.showOnLeave()})},exportAs:["ngxFloatUiContent"],standalone:!0,features:[jt],ngContentSelectors:BA,decls:5,vars:21,consts:[["floatUiViewRef",""],[3,"ngStyle","ngClass"],["class","ngxp__inner",3,"innerHTML",4,"ngIf"],["class","ngxp__inner",4,"ngIf"],[1,"float-ui-arrow",3,"ngClass"],[1,"ngxp__inner",3,"innerHTML"],[1,"ngxp__inner"]],template:function(i,r){i&1&&(Yt(BA),E(0,"div",1,0),I(2,M6,2,1,"div",2)(3,A6,2,0,"div",3),j(4,"div",4),x()),i&2&&(Un("display",r.displayType)("opacity",r.opacity),Fe("float-ui-container",!r.floatUiOptions.disableDefaultStyling)("float-ui-animation",!r.floatUiOptions.disableAnimation)("float-ui-fixed",r.floatUiOptions.positionFixed),y("ngStyle",r.floatUiOptions.styles)("ngClass",r.extractAppliedClassListExpr(r.floatUiOptions.applyClass)),Gt("id",r.id)("aria-hidden",r.ariaHidden)("aria-describedby",r.floatUiOptions.ariaDescribe||null)("role",r.floatUiOptions.ariaRole),v(2),y("ngIf",r.text),v(),y("ngIf",!r.text),v(),Fe("ngxp__force-arrow",r.arrowColor),y("ngClass",r.extractAppliedClassListExpr(r.floatUiOptions.applyArrowClass)))},dependencies:[ac,Ph,Et],styles:[`float-ui-content{position:relative;display:block}.float-ui-container{display:none;position:absolute;border-radius:3px;border:1px solid grey;box-shadow:0 0 2px #00000080;padding:10px}.float-ui-container.float-ui-fixed{position:fixed}.float-ui-container.float-ui-animation{-webkit-animation:ngxp-fadeIn .15s ease-out;-moz-animation:ngxp-fadeIn .15s ease-out;-o-animation:ngxp-fadeIn .15s ease-out;animation:ngxp-fadeIn .15s ease-out;transition:transform .65s cubic-bezier(.43,.33,.14,1.01) 0s}.float-ui-container>.float-ui-arrow{position:absolute;width:10px;height:10px;z-index:-1;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}@-webkit-keyframes ngxp-fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}to{display:block;opacity:1}}@keyframes ngxp-fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}to{display:block;opacity:1}}
`],encapsulation:2,changeDetection:0})}return t})(),F0=new le("NGX_FLOAT_UI_DEFAULTS"),nu=class{static coerceBooleanProperty(n){return n!=null&&`${n}`!="false"}},O0=class t{_changeDetectorRef;_elementRef;_vcr;_popperDefaults;static baseOptions={showDelay:0,hideOnClickOutside:!0,hideOnMouseLeave:!1,hideOnScroll:!1,appendTo:void 0,ariaRole:"popper",ariaDescribe:"",styles:{},trigger:ds.click};set applyClass(n){n!==this._applyClass&&(this._applyClass=n,this._checkExisting("applyClass",n))}get applyClass(){return this._applyClass}set arrowClass(n){if(n!==this._arrowClass&&(this._arrowClass=n,this._content)){if(this._content.floatUiOptions.applyArrowClass=n,!this._shown)return;this._content.update()}}get arrowClass(){return this._arrowClass}set disabled(n){n!==this._disabled&&(this._disabled=!!n,this._shown&&this.hide())}get disabled(){return this._disabled}set floatUi(n){n!==this._floatUi&&(this._floatUi=n,this._content&&(typeof n=="string"?this._content.text=n:this._content=n))}get floatUi(){return this._floatUi}set hideOnClickOutside(n){this._hideOnClickOutside=nu.coerceBooleanProperty(n)}get hideOnClickOutside(){return this._hideOnClickOutside}set placement(n){this._placement=n,this._checkExisting("placement",n)}get placement(){return this._placement}set preventOverflow(n){this._preventOverflow=nu.coerceBooleanProperty(n),this._checkExisting("preventOverflow",this._preventOverflow)}get preventOverflow(){return this._preventOverflow}set showOnStart(n){this._showOnStart=nu.coerceBooleanProperty(n)}get showOnStart(){return this._showOnStart}appendTo;ariaDescribe;ariaRole;boundariesElement;disableAnimation;disableStyle;hideOnMouseLeave;hideOnScroll;hideTimeout=0;onHidden=new fe;onShown=new fe;onUpdate=new fe;positionFixed;showDelay;showTrigger;styles;targetElement;timeoutAfterShow=0;_applyClass;_arrowClass;_content;_contentClass=k0;_contentRef;_destroy$=new ye;_disabled;_floatUi;_globalEventListenersCtrl$=new ye;_hideOnClickOutside=!0;_placement;_preventOverflow;_scheduledHideTimeoutCtrl$=new ye;_scheduledShowTimeoutCtrl$=new ye;_shown=!1;_showOnStart=!1;constructor(n,e,i,r={}){this._changeDetectorRef=n,this._elementRef=e,this._vcr=i,this._popperDefaults=r,t.baseOptions=V(V({},t.baseOptions),this._popperDefaults)}static assignDefined(n,...e){for(let i of e)for(let r of Object.keys(i)){let s=i[r];s!==void 0&&(n[r]=s)}return n}applyTriggerListeners(){switch(this.showTrigger){case ds.click:this._addListener("click",this.toggle.bind(this));break;case ds.mousedown:this._addListener("mousedown",this.toggle.bind(this));break;case ds.hover:this._addListener("mouseenter",this.scheduledShow.bind(this,this.showDelay)),["touchend","touchcancel","mouseleave"].forEach(n=>{this._addListener(n,this.scheduledHide.bind(this,null,this.hideTimeout))});break}this.showTrigger!==ds.hover&&this.hideOnMouseLeave&&["touchend","touchcancel","mouseleave"].forEach(n=>{this._addListener(n,this.scheduledHide.bind(this,null,this.hideTimeout))})}getRefElement(){return this.targetElement||this._elementRef.nativeElement}hide(){if(!this.disabled){if(!this._shown){this._scheduledShowTimeoutCtrl$.next();return}this._shown=!1,this._contentRef?this._contentRef.instance.hide():this._content.hide(),this.onHidden.emit(this),this._globalEventListenersCtrl$.next()}}hideOnClickOutsideHandler(n){this.disabled||!this.hideOnClickOutside||n.target===this._content.elRef.nativeElement||this._content.elRef.nativeElement.contains(n.target)||this.scheduledHide(n,this.hideTimeout)}hideOnScrollHandler(n){this.disabled||!this.hideOnScroll||this.scheduledHide(n,this.hideTimeout)}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._content&&this._content.clean()}ngOnInit(){typeof this.floatUi=="string"?(this._content=this._constructContent(),this._content.text=this.floatUi):typeof this.floatUi>"u"?(this._content=this._constructContent(),this._content.text=""):this._content=this.floatUi;let n=this._content;n.referenceObject=this.getRefElement(),this._setContentProperties(n),this._setDefaults(),this.applyTriggerListeners(),this.showOnStart&&this.scheduledShow()}scheduledHide(n=null,e=this.hideTimeout){this.disabled||(this._scheduledHideTimeoutCtrl$.next(),Jn(e).pipe(_t(this._scheduledHideTimeoutCtrl$),_t(this._destroy$)).subscribe({next:()=>{let i=n?n.toElement:null,r=this._content.floatUiViewRef?this._content.floatUiViewRef.nativeElement:!1;!r||r===i||r.contains(i)||this.floatUi&&this.floatUi.isMouseOver||(this.hide(),this._applyChanges())}}))}scheduledShow(n=this.showDelay){this.disabled||(this._scheduledHideTimeoutCtrl$.next(),Jn(n).pipe(_t(this._scheduledShowTimeoutCtrl$),_t(this._destroy$)).subscribe({next:()=>{this.show(),this._applyChanges()}}))}show(){if(this._shown){this._scheduledHideTimeoutCtrl$.next();return}this._shown=!0;let n=this._content,e=this.getRefElement();n.referenceObject!==e&&(n.referenceObject=e),this._setContentProperties(n),n.show(),this.onShown.emit(this),this.timeoutAfterShow>0&&this.scheduledHide(null,this.timeoutAfterShow),mn(document,"click").pipe(_t(this._globalEventListenersCtrl$),_t(this._destroy$)).subscribe({next:i=>this.hideOnClickOutsideHandler(i)}),mn(this._getScrollParent(this.getRefElement()),"scroll").pipe(_t(this._globalEventListenersCtrl$),_t(this._destroy$)).subscribe({next:i=>{this.hideOnScrollHandler(i)}})}toggle(){this.disabled||(this._shown?this.scheduledHide(null,this.hideTimeout):this.scheduledShow())}_addListener(n,e){mn(this._elementRef.nativeElement,n).pipe(_t(this._destroy$)).subscribe({next:e})}_applyChanges(){this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges()}_checkExisting(n,e){if(this._content){if(this._content.floatUiOptions[n]=e,!this._shown)return;this._content.update()}}_constructContent(){return this._contentRef=this._vcr.createComponent(this._contentClass),this._contentRef.instance}_getScrollParent(n){let i=n instanceof HTMLElement&&window.getComputedStyle(n).overflowY,r=i!=="visible"&&i!=="hidden";if(n){if(r&&n.scrollHeight>n.clientHeight)return n}else return null;return this._getScrollParent(n.parentNode)||document}_onPopperUpdate(){this.onUpdate.emit()}_setContentProperties(n){n.floatUiOptions=t.assignDefined(n.floatUiOptions,t.baseOptions,{showDelay:this.showDelay,disableAnimation:this.disableAnimation,disableDefaultStyling:this.disableStyle,placement:this.placement,boundariesElement:this.boundariesElement,trigger:this.showTrigger,positionFixed:this.positionFixed,ariaDescribe:this.ariaDescribe,ariaRole:this.ariaRole,applyClass:this.applyClass,applyArrowClass:this.arrowClass,hideOnMouseLeave:this.hideOnMouseLeave,styles:this.styles,appendTo:this.appendTo,preventOverflow:this.preventOverflow}),n.onUpdate=this._onPopperUpdate.bind(this),n.onHidden.pipe(_t(this._destroy$)).subscribe(this.hide.bind(this))}_setDefaults(){["showDelay","hideOnScroll","hideOnMouseLeave","hideOnClickOutside","ariaRole","ariaDescribe"].forEach(n=>{this[n]=this[n]===void 0?t.baseOptions[n]:this[n]}),this.showTrigger=this.showTrigger||t.baseOptions.trigger,this.styles=this.styles===void 0?V({},t.baseOptions.styles):this.styles}static \u0275fac=function(e){return new(e||t)(M(nt),M(Le),M(It),M(F0))};static \u0275dir=Me({type:t,selectors:[["","floatUi",""]],inputs:{applyClass:"applyClass",arrowClass:"arrowClass",disabled:"disabled",floatUi:"floatUi",hideOnClickOutside:"hideOnClickOutside",placement:"placement",preventOverflow:"preventOverflow",showOnStart:"showOnStart",appendTo:"appendTo",ariaDescribe:"ariaDescribe",ariaRole:"ariaRole",boundariesElement:"boundariesElement",disableAnimation:"disableAnimation",disableStyle:"disableStyle",hideOnMouseLeave:"hideOnMouseLeave",hideOnScroll:"hideOnScroll",hideTimeout:"hideTimeout",positionFixed:"positionFixed",showDelay:"showDelay",showTrigger:"showTrigger",styles:"styles",targetElement:"targetElement",timeoutAfterShow:"timeoutAfterShow"},outputs:{onHidden:"onHidden",onShown:"onShown",onUpdate:"onUpdate"},exportAs:["floatUi"],standalone:!0})},$A=(()=>{class t extends O0{set floatUiLoose(e){this.floatUi=e}set loosePlacement(e){this.placement=e}set looseTrigger(e){this.showTrigger=e}constructor(e,i,r,s={}){super(e,i,r,s)}static \u0275fac=function(i){return new(i||t)(M(nt),M(Le),M(It),M(F0))};static \u0275dir=Me({type:t,selectors:[["","floatUiLoose",""]],inputs:{floatUiLoose:"floatUiLoose",loosePlacement:"loosePlacement",looseTrigger:"looseTrigger"},exportAs:["floatUiLoose"],standalone:!0,features:[pn]})}return t})();function UA(t={}){return[{provide:F0,useValue:t}]}var HA=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[UA(e)]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ee({type:t});static \u0275inj=De({providers:[UA()],imports:[Mt]})}return t})();var O6=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],k6=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],F6=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],P6=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],zA=(t,n,e)=>{let i=t;return typeof n=="string"||Array.isArray(n)?i=t.toLocaleString(n,e):(n===!0||e!==void 0)&&(i=t.toLocaleString(void 0,e)),i};function cp(t,n){if(!Number.isFinite(t))throw new TypeError(`Expected a finite number, got ${typeof t}: ${t}`);n=V({bits:!1,binary:!1,space:!0},n);let e=n.bits?n.binary?P6:F6:n.binary?k6:O6,i=n.space?" ":"";if(n.signed&&t===0)return` 0${i}${e[0]}`;let r=t<0,s=r?"-":n.signed?"+":"";r&&(t=-t);let o;if(n.minimumFractionDigits!==void 0&&(o={minimumFractionDigits:n.minimumFractionDigits}),n.maximumFractionDigits!==void 0&&(o=V({maximumFractionDigits:n.maximumFractionDigits},o)),t<1){let u=zA(t,n.locale,o);return s+u+i+e[0]}let a=Math.min(Math.floor(n.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),e.length-1);t/=(n.binary?1024:1e3)**a,o||(t=t.toPrecision(3));let l=zA(Number(t),n.locale,o),c=e[a];return s+l+i+c}var qA=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;var gR=ar(WA(),1);var XA=ar(ZA(),1);function P0(){return P0=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},P0.apply(this,arguments)}var nz=/[|\\{}()[\]^$+*?.]/g,iz=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(nz,"\\$&")},rz=[["\xDF","ss"],["\u1E9E","Ss"],["\xE4","ae"],["\xC4","Ae"],["\xF6","oe"],["\xD6","Oe"],["\xFC","ue"],["\xDC","Ue"],["\xC0","A"],["\xC1","A"],["\xC2","A"],["\xC3","A"],["\xC4","Ae"],["\xC5","A"],["\xC6","AE"],["\xC7","C"],["\xC8","E"],["\xC9","E"],["\xCA","E"],["\xCB","E"],["\xCC","I"],["\xCD","I"],["\xCE","I"],["\xCF","I"],["\xD0","D"],["\xD1","N"],["\xD2","O"],["\xD3","O"],["\xD4","O"],["\xD5","O"],["\xD6","Oe"],["\u0150","O"],["\xD8","O"],["\xD9","U"],["\xDA","U"],["\xDB","U"],["\xDC","Ue"],["\u0170","U"],["\xDD","Y"],["\xDE","TH"],["\xDF","ss"],["\xE0","a"],["\xE1","a"],["\xE2","a"],["\xE3","a"],["\xE4","ae"],["\xE5","a"],["\xE6","ae"],["\xE7","c"],["\xE8","e"],["\xE9","e"],["\xEA","e"],["\xEB","e"],["\xEC","i"],["\xED","i"],["\xEE","i"],["\xEF","i"],["\xF0","d"],["\xF1","n"],["\xF2","o"],["\xF3","o"],["\xF4","o"],["\xF5","o"],["\xF6","oe"],["\u0151","o"],["\xF8","o"],["\xF9","u"],["\xFA","u"],["\xFB","u"],["\xFC","ue"],["\u0171","u"],["\xFD","y"],["\xFE","th"],["\xFF","y"],["\u1E9E","SS"],["\xE0","a"],["\xC0","A"],["\xE1","a"],["\xC1","A"],["\xE2","a"],["\xC2","A"],["\xE3","a"],["\xC3","A"],["\xE8","e"],["\xC8","E"],["\xE9","e"],["\xC9","E"],["\xEA","e"],["\xCA","E"],["\xEC","i"],["\xCC","I"],["\xED","i"],["\xCD","I"],["\xF2","o"],["\xD2","O"],["\xF3","o"],["\xD3","O"],["\xF4","o"],["\xD4","O"],["\xF5","o"],["\xD5","O"],["\xF9","u"],["\xD9","U"],["\xFA","u"],["\xDA","U"],["\xFD","y"],["\xDD","Y"],["\u0103","a"],["\u0102","A"],["\u0110","D"],["\u0111","d"],["\u0129","i"],["\u0128","I"],["\u0169","u"],["\u0168","U"],["\u01A1","o"],["\u01A0","O"],["\u01B0","u"],["\u01AF","U"],["\u1EA1","a"],["\u1EA0","A"],["\u1EA3","a"],["\u1EA2","A"],["\u1EA5","a"],["\u1EA4","A"],["\u1EA7","a"],["\u1EA6","A"],["\u1EA9","a"],["\u1EA8","A"],["\u1EAB","a"],["\u1EAA","A"],["\u1EAD","a"],["\u1EAC","A"],["\u1EAF","a"],["\u1EAE","A"],["\u1EB1","a"],["\u1EB0","A"],["\u1EB3","a"],["\u1EB2","A"],["\u1EB5","a"],["\u1EB4","A"],["\u1EB7","a"],["\u1EB6","A"],["\u1EB9","e"],["\u1EB8","E"],["\u1EBB","e"],["\u1EBA","E"],["\u1EBD","e"],["\u1EBC","E"],["\u1EBF","e"],["\u1EBE","E"],["\u1EC1","e"],["\u1EC0","E"],["\u1EC3","e"],["\u1EC2","E"],["\u1EC5","e"],["\u1EC4","E"],["\u1EC7","e"],["\u1EC6","E"],["\u1EC9","i"],["\u1EC8","I"],["\u1ECB","i"],["\u1ECA","I"],["\u1ECD","o"],["\u1ECC","O"],["\u1ECF","o"],["\u1ECE","O"],["\u1ED1","o"],["\u1ED0","O"],["\u1ED3","o"],["\u1ED2","O"],["\u1ED5","o"],["\u1ED4","O"],["\u1ED7","o"],["\u1ED6","O"],["\u1ED9","o"],["\u1ED8","O"],["\u1EDB","o"],["\u1EDA","O"],["\u1EDD","o"],["\u1EDC","O"],["\u1EDF","o"],["\u1EDE","O"],["\u1EE1","o"],["\u1EE0","O"],["\u1EE3","o"],["\u1EE2","O"],["\u1EE5","u"],["\u1EE4","U"],["\u1EE7","u"],["\u1EE6","U"],["\u1EE9","u"],["\u1EE8","U"],["\u1EEB","u"],["\u1EEA","U"],["\u1EED","u"],["\u1EEC","U"],["\u1EEF","u"],["\u1EEE","U"],["\u1EF1","u"],["\u1EF0","U"],["\u1EF3","y"],["\u1EF2","Y"],["\u1EF5","y"],["\u1EF4","Y"],["\u1EF7","y"],["\u1EF6","Y"],["\u1EF9","y"],["\u1EF8","Y"],["\u0621","e"],["\u0622","a"],["\u0623","a"],["\u0624","w"],["\u0625","i"],["\u0626","y"],["\u0627","a"],["\u0628","b"],["\u0629","t"],["\u062A","t"],["\u062B","th"],["\u062C","j"],["\u062D","h"],["\u062E","kh"],["\u062F","d"],["\u0630","dh"],["\u0631","r"],["\u0632","z"],["\u0633","s"],["\u0634","sh"],["\u0635","s"],["\u0636","d"],["\u0637","t"],["\u0638","z"],["\u0639","e"],["\u063A","gh"],["\u0640","_"],["\u0641","f"],["\u0642","q"],["\u0643","k"],["\u0644","l"],["\u0645","m"],["\u0646","n"],["\u0647","h"],["\u0648","w"],["\u0649","a"],["\u064A","y"],["\u064E\u200E","a"],["\u064F","u"],["\u0650\u200E","i"],["\u0660","0"],["\u0661","1"],["\u0662","2"],["\u0663","3"],["\u0664","4"],["\u0665","5"],["\u0666","6"],["\u0667","7"],["\u0668","8"],["\u0669","9"],["\u0686","ch"],["\u06A9","k"],["\u06AF","g"],["\u067E","p"],["\u0698","zh"],["\u06CC","y"],["\u06F0","0"],["\u06F1","1"],["\u06F2","2"],["\u06F3","3"],["\u06F4","4"],["\u06F5","5"],["\u06F6","6"],["\u06F7","7"],["\u06F8","8"],["\u06F9","9"],["\u067C","p"],["\u0681","z"],["\u0685","c"],["\u0689","d"],["\uFEAB","d"],["\uFEAD","r"],["\u0693","r"],["\uFEAF","z"],["\u0696","g"],["\u069A","x"],["\u06AB","g"],["\u06BC","n"],["\u06C0","e"],["\u06D0","e"],["\u06CD","ai"],["\u0679","t"],["\u0688","d"],["\u0691","r"],["\u06BA","n"],["\u06C1","h"],["\u06BE","h"],["\u06D2","e"],["\u0410","A"],["\u0430","a"],["\u0411","B"],["\u0431","b"],["\u0412","V"],["\u0432","v"],["\u0413","G"],["\u0433","g"],["\u0414","D"],["\u0434","d"],["\u044A\u0435","ye"],["\u042A\u0435","Ye"],["\u044A\u0415","yE"],["\u042A\u0415","YE"],["\u0415","E"],["\u0435","e"],["\u0401","Yo"],["\u0451","yo"],["\u0416","Zh"],["\u0436","zh"],["\u0417","Z"],["\u0437","z"],["\u0418","I"],["\u0438","i"],["\u044B\u0439","iy"],["\u042B\u0439","Iy"],["\u042B\u0419","IY"],["\u044B\u0419","iY"],["\u0419","Y"],["\u0439","y"],["\u041A","K"],["\u043A","k"],["\u041B","L"],["\u043B","l"],["\u041C","M"],["\u043C","m"],["\u041D","N"],["\u043D","n"],["\u041E","O"],["\u043E","o"],["\u041F","P"],["\u043F","p"],["\u0420","R"],["\u0440","r"],["\u0421","S"],["\u0441","s"],["\u0422","T"],["\u0442","t"],["\u0423","U"],["\u0443","u"],["\u0424","F"],["\u0444","f"],["\u0425","Kh"],["\u0445","kh"],["\u0426","Ts"],["\u0446","ts"],["\u0427","Ch"],["\u0447","ch"],["\u0428","Sh"],["\u0448","sh"],["\u0429","Sch"],["\u0449","sch"],["\u042A",""],["\u044A",""],["\u042B","Y"],["\u044B","y"],["\u042C",""],["\u044C",""],["\u042D","E"],["\u044D","e"],["\u042E","Yu"],["\u044E","yu"],["\u042F","Ya"],["\u044F","ya"],["\u0103","a"],["\u0102","A"],["\u0219","s"],["\u0218","S"],["\u021B","t"],["\u021A","T"],["\u0163","t"],["\u0162","T"],["\u015F","s"],["\u015E","S"],["\xE7","c"],["\xC7","C"],["\u011F","g"],["\u011E","G"],["\u0131","i"],["\u0130","I"],["\u0561","a"],["\u0531","A"],["\u0562","b"],["\u0532","B"],["\u0563","g"],["\u0533","G"],["\u0564","d"],["\u0534","D"],["\u0565","ye"],["\u0535","Ye"],["\u0566","z"],["\u0536","Z"],["\u0567","e"],["\u0537","E"],["\u0568","y"],["\u0538","Y"],["\u0569","t"],["\u0539","T"],["\u056A","zh"],["\u053A","Zh"],["\u056B","i"],["\u053B","I"],["\u056C","l"],["\u053C","L"],["\u056D","kh"],["\u053D","Kh"],["\u056E","ts"],["\u053E","Ts"],["\u056F","k"],["\u053F","K"],["\u0570","h"],["\u0540","H"],["\u0571","dz"],["\u0541","Dz"],["\u0572","gh"],["\u0542","Gh"],["\u0573","tch"],["\u0543","Tch"],["\u0574","m"],["\u0544","M"],["\u0575","y"],["\u0545","Y"],["\u0576","n"],["\u0546","N"],["\u0577","sh"],["\u0547","Sh"],["\u0578","vo"],["\u0548","Vo"],["\u0579","ch"],["\u0549","Ch"],["\u057A","p"],["\u054A","P"],["\u057B","j"],["\u054B","J"],["\u057C","r"],["\u054C","R"],["\u057D","s"],["\u054D","S"],["\u057E","v"],["\u054E","V"],["\u057F","t"],["\u054F","T"],["\u0580","r"],["\u0550","R"],["\u0581","c"],["\u0551","C"],["\u0578\u0582","u"],["\u0548\u0552","U"],["\u0548\u0582","U"],["\u0583","p"],["\u0553","P"],["\u0584","q"],["\u0554","Q"],["\u0585","o"],["\u0555","O"],["\u0586","f"],["\u0556","F"],["\u0587","yev"],["\u10D0","a"],["\u10D1","b"],["\u10D2","g"],["\u10D3","d"],["\u10D4","e"],["\u10D5","v"],["\u10D6","z"],["\u10D7","t"],["\u10D8","i"],["\u10D9","k"],["\u10DA","l"],["\u10DB","m"],["\u10DC","n"],["\u10DD","o"],["\u10DE","p"],["\u10DF","zh"],["\u10E0","r"],["\u10E1","s"],["\u10E2","t"],["\u10E3","u"],["\u10E4","ph"],["\u10E5","q"],["\u10E6","gh"],["\u10E7","k"],["\u10E8","sh"],["\u10E9","ch"],["\u10EA","ts"],["\u10EB","dz"],["\u10EC","ts"],["\u10ED","tch"],["\u10EE","kh"],["\u10EF","j"],["\u10F0","h"],["\u010D","c"],["\u010F","d"],["\u011B","e"],["\u0148","n"],["\u0159","r"],["\u0161","s"],["\u0165","t"],["\u016F","u"],["\u017E","z"],["\u010C","C"],["\u010E","D"],["\u011A","E"],["\u0147","N"],["\u0158","R"],["\u0160","S"],["\u0164","T"],["\u016E","U"],["\u017D","Z"],["\u0780","h"],["\u0781","sh"],["\u0782","n"],["\u0783","r"],["\u0784","b"],["\u0785","lh"],["\u0786","k"],["\u0787","a"],["\u0788","v"],["\u0789","m"],["\u078A","f"],["\u078B","dh"],["\u078C","th"],["\u078D","l"],["\u078E","g"],["\u078F","gn"],["\u0790","s"],["\u0791","d"],["\u0792","z"],["\u0793","t"],["\u0794","y"],["\u0795","p"],["\u0796","j"],["\u0797","ch"],["\u0798","tt"],["\u0799","hh"],["\u079A","kh"],["\u079B","th"],["\u079C","z"],["\u079D","sh"],["\u079E","s"],["\u079F","d"],["\u07A0","t"],["\u07A1","z"],["\u07A2","a"],["\u07A3","gh"],["\u07A4","q"],["\u07A5","w"],["\u07A6","a"],["\u07A7","aa"],["\u07A8","i"],["\u07A9","ee"],["\u07AA","u"],["\u07AB","oo"],["\u07AC","e"],["\u07AD","ey"],["\u07AE","o"],["\u07AF","oa"],["\u07B0",""],["\u03B1","a"],["\u03B2","v"],["\u03B3","g"],["\u03B4","d"],["\u03B5","e"],["\u03B6","z"],["\u03B7","i"],["\u03B8","th"],["\u03B9","i"],["\u03BA","k"],["\u03BB","l"],["\u03BC","m"],["\u03BD","n"],["\u03BE","ks"],["\u03BF","o"],["\u03C0","p"],["\u03C1","r"],["\u03C3","s"],["\u03C4","t"],["\u03C5","y"],["\u03C6","f"],["\u03C7","x"],["\u03C8","ps"],["\u03C9","o"],["\u03AC","a"],["\u03AD","e"],["\u03AF","i"],["\u03CC","o"],["\u03CD","y"],["\u03AE","i"],["\u03CE","o"],["\u03C2","s"],["\u03CA","i"],["\u03B0","y"],["\u03CB","y"],["\u0390","i"],["\u0391","A"],["\u0392","B"],["\u0393","G"],["\u0394","D"],["\u0395","E"],["\u0396","Z"],["\u0397","I"],["\u0398","TH"],["\u0399","I"],["\u039A","K"],["\u039B","L"],["\u039C","M"],["\u039D","N"],["\u039E","KS"],["\u039F","O"],["\u03A0","P"],["\u03A1","R"],["\u03A3","S"],["\u03A4","T"],["\u03A5","Y"],["\u03A6","F"],["\u03A7","X"],["\u03A8","PS"],["\u03A9","O"],["\u0386","A"],["\u0388","E"],["\u038A","I"],["\u038C","O"],["\u038E","Y"],["\u0389","I"],["\u038F","O"],["\u03AA","I"],["\u03AB","Y"],["\u0101","a"],["\u0113","e"],["\u0123","g"],["\u012B","i"],["\u0137","k"],["\u013C","l"],["\u0146","n"],["\u016B","u"],["\u0100","A"],["\u0112","E"],["\u0122","G"],["\u012A","I"],["\u0136","K"],["\u013B","L"],["\u0145","N"],["\u016A","U"],["\u010D","c"],["\u0161","s"],["\u017E","z"],["\u010C","C"],["\u0160","S"],["\u017D","Z"],["\u0105","a"],["\u010D","c"],["\u0119","e"],["\u0117","e"],["\u012F","i"],["\u0161","s"],["\u0173","u"],["\u016B","u"],["\u017E","z"],["\u0104","A"],["\u010C","C"],["\u0118","E"],["\u0116","E"],["\u012E","I"],["\u0160","S"],["\u0172","U"],["\u016A","U"],["\u040C","Kj"],["\u045C","kj"],["\u0409","Lj"],["\u0459","lj"],["\u040A","Nj"],["\u045A","nj"],["\u0422\u0441","Ts"],["\u0442\u0441","ts"],["\u0105","a"],["\u0107","c"],["\u0119","e"],["\u0142","l"],["\u0144","n"],["\u015B","s"],["\u017A","z"],["\u017C","z"],["\u0104","A"],["\u0106","C"],["\u0118","E"],["\u0141","L"],["\u0143","N"],["\u015A","S"],["\u0179","Z"],["\u017B","Z"],["\u0404","Ye"],["\u0406","I"],["\u0407","Yi"],["\u0490","G"],["\u0454","ye"],["\u0456","i"],["\u0457","yi"],["\u0491","g"],["\u0132","IJ"],["\u0133","ij"],["\xA2","c"],["\xA5","Y"],["\u07FF","b"],["\u09F3","t"],["\u0AF1","Bo"],["\u0E3F","B"],["\u20A0","CE"],["\u20A1","C"],["\u20A2","Cr"],["\u20A3","F"],["\u20A5","m"],["\u20A6","N"],["\u20A7","Pt"],["\u20A8","Rs"],["\u20A9","W"],["\u20AB","s"],["\u20AC","E"],["\u20AD","K"],["\u20AE","T"],["\u20AF","Dp"],["\u20B0","S"],["\u20B1","P"],["\u20B2","G"],["\u20B3","A"],["\u20B4","S"],["\u20B5","C"],["\u20B6","tt"],["\u20B7","S"],["\u20B8","T"],["\u20B9","R"],["\u20BA","L"],["\u20BD","P"],["\u20BF","B"],["\uFE69","$"],["\uFFE0","c"],["\uFFE5","Y"],["\uFFE6","W"],["\u{1D400}","A"],["\u{1D401}","B"],["\u{1D402}","C"],["\u{1D403}","D"],["\u{1D404}","E"],["\u{1D405}","F"],["\u{1D406}","G"],["\u{1D407}","H"],["\u{1D408}","I"],["\u{1D409}","J"],["\u{1D40A}","K"],["\u{1D40B}","L"],["\u{1D40C}","M"],["\u{1D40D}","N"],["\u{1D40E}","O"],["\u{1D40F}","P"],["\u{1D410}","Q"],["\u{1D411}","R"],["\u{1D412}","S"],["\u{1D413}","T"],["\u{1D414}","U"],["\u{1D415}","V"],["\u{1D416}","W"],["\u{1D417}","X"],["\u{1D418}","Y"],["\u{1D419}","Z"],["\u{1D41A}","a"],["\u{1D41B}","b"],["\u{1D41C}","c"],["\u{1D41D}","d"],["\u{1D41E}","e"],["\u{1D41F}","f"],["\u{1D420}","g"],["\u{1D421}","h"],["\u{1D422}","i"],["\u{1D423}","j"],["\u{1D424}","k"],["\u{1D425}","l"],["\u{1D426}","m"],["\u{1D427}","n"],["\u{1D428}","o"],["\u{1D429}","p"],["\u{1D42A}","q"],["\u{1D42B}","r"],["\u{1D42C}","s"],["\u{1D42D}","t"],["\u{1D42E}","u"],["\u{1D42F}","v"],["\u{1D430}","w"],["\u{1D431}","x"],["\u{1D432}","y"],["\u{1D433}","z"],["\u{1D434}","A"],["\u{1D435}","B"],["\u{1D436}","C"],["\u{1D437}","D"],["\u{1D438}","E"],["\u{1D439}","F"],["\u{1D43A}","G"],["\u{1D43B}","H"],["\u{1D43C}","I"],["\u{1D43D}","J"],["\u{1D43E}","K"],["\u{1D43F}","L"],["\u{1D440}","M"],["\u{1D441}","N"],["\u{1D442}","O"],["\u{1D443}","P"],["\u{1D444}","Q"],["\u{1D445}","R"],["\u{1D446}","S"],["\u{1D447}","T"],["\u{1D448}","U"],["\u{1D449}","V"],["\u{1D44A}","W"],["\u{1D44B}","X"],["\u{1D44C}","Y"],["\u{1D44D}","Z"],["\u{1D44E}","a"],["\u{1D44F}","b"],["\u{1D450}","c"],["\u{1D451}","d"],["\u{1D452}","e"],["\u{1D453}","f"],["\u{1D454}","g"],["\u{1D456}","i"],["\u{1D457}","j"],["\u{1D458}","k"],["\u{1D459}","l"],["\u{1D45A}","m"],["\u{1D45B}","n"],["\u{1D45C}","o"],["\u{1D45D}","p"],["\u{1D45E}","q"],["\u{1D45F}","r"],["\u{1D460}","s"],["\u{1D461}","t"],["\u{1D462}","u"],["\u{1D463}","v"],["\u{1D464}","w"],["\u{1D465}","x"],["\u{1D466}","y"],["\u{1D467}","z"],["\u{1D468}","A"],["\u{1D469}","B"],["\u{1D46A}","C"],["\u{1D46B}","D"],["\u{1D46C}","E"],["\u{1D46D}","F"],["\u{1D46E}","G"],["\u{1D46F}","H"],["\u{1D470}","I"],["\u{1D471}","J"],["\u{1D472}","K"],["\u{1D473}","L"],["\u{1D474}","M"],["\u{1D475}","N"],["\u{1D476}","O"],["\u{1D477}","P"],["\u{1D478}","Q"],["\u{1D479}","R"],["\u{1D47A}","S"],["\u{1D47B}","T"],["\u{1D47C}","U"],["\u{1D47D}","V"],["\u{1D47E}","W"],["\u{1D47F}","X"],["\u{1D480}","Y"],["\u{1D481}","Z"],["\u{1D482}","a"],["\u{1D483}","b"],["\u{1D484}","c"],["\u{1D485}","d"],["\u{1D486}","e"],["\u{1D487}","f"],["\u{1D488}","g"],["\u{1D489}","h"],["\u{1D48A}","i"],["\u{1D48B}","j"],["\u{1D48C}","k"],["\u{1D48D}","l"],["\u{1D48E}","m"],["\u{1D48F}","n"],["\u{1D490}","o"],["\u{1D491}","p"],["\u{1D492}","q"],["\u{1D493}","r"],["\u{1D494}","s"],["\u{1D495}","t"],["\u{1D496}","u"],["\u{1D497}","v"],["\u{1D498}","w"],["\u{1D499}","x"],["\u{1D49A}","y"],["\u{1D49B}","z"],["\u{1D49C}","A"],["\u{1D49E}","C"],["\u{1D49F}","D"],["\u{1D4A2}","g"],["\u{1D4A5}","J"],["\u{1D4A6}","K"],["\u{1D4A9}","N"],["\u{1D4AA}","O"],["\u{1D4AB}","P"],["\u{1D4AC}","Q"],["\u{1D4AE}","S"],["\u{1D4AF}","T"],["\u{1D4B0}","U"],["\u{1D4B1}","V"],["\u{1D4B2}","W"],["\u{1D4B3}","X"],["\u{1D4B4}","Y"],["\u{1D4B5}","Z"],["\u{1D4B6}","a"],["\u{1D4B7}","b"],["\u{1D4B8}","c"],["\u{1D4B9}","d"],["\u{1D4BB}","f"],["\u{1D4BD}","h"],["\u{1D4BE}","i"],["\u{1D4BF}","j"],["\u{1D4C0}","h"],["\u{1D4C1}","l"],["\u{1D4C2}","m"],["\u{1D4C3}","n"],["\u{1D4C5}","p"],["\u{1D4C6}","q"],["\u{1D4C7}","r"],["\u{1D4C8}","s"],["\u{1D4C9}","t"],["\u{1D4CA}","u"],["\u{1D4CB}","v"],["\u{1D4CC}","w"],["\u{1D4CD}","x"],["\u{1D4CE}","y"],["\u{1D4CF}","z"],["\u{1D4D0}","A"],["\u{1D4D1}","B"],["\u{1D4D2}","C"],["\u{1D4D3}","D"],["\u{1D4D4}","E"],["\u{1D4D5}","F"],["\u{1D4D6}","G"],["\u{1D4D7}","H"],["\u{1D4D8}","I"],["\u{1D4D9}","J"],["\u{1D4DA}","K"],["\u{1D4DB}","L"],["\u{1D4DC}","M"],["\u{1D4DD}","N"],["\u{1D4DE}","O"],["\u{1D4DF}","P"],["\u{1D4E0}","Q"],["\u{1D4E1}","R"],["\u{1D4E2}","S"],["\u{1D4E3}","T"],["\u{1D4E4}","U"],["\u{1D4E5}","V"],["\u{1D4E6}","W"],["\u{1D4E7}","X"],["\u{1D4E8}","Y"],["\u{1D4E9}","Z"],["\u{1D4EA}","a"],["\u{1D4EB}","b"],["\u{1D4EC}","c"],["\u{1D4ED}","d"],["\u{1D4EE}","e"],["\u{1D4EF}","f"],["\u{1D4F0}","g"],["\u{1D4F1}","h"],["\u{1D4F2}","i"],["\u{1D4F3}","j"],["\u{1D4F4}","k"],["\u{1D4F5}","l"],["\u{1D4F6}","m"],["\u{1D4F7}","n"],["\u{1D4F8}","o"],["\u{1D4F9}","p"],["\u{1D4FA}","q"],["\u{1D4FB}","r"],["\u{1D4FC}","s"],["\u{1D4FD}","t"],["\u{1D4FE}","u"],["\u{1D4FF}","v"],["\u{1D500}","w"],["\u{1D501}","x"],["\u{1D502}","y"],["\u{1D503}","z"],["\u{1D504}","A"],["\u{1D505}","B"],["\u{1D507}","D"],["\u{1D508}","E"],["\u{1D509}","F"],["\u{1D50A}","G"],["\u{1D50D}","J"],["\u{1D50E}","K"],["\u{1D50F}","L"],["\u{1D510}","M"],["\u{1D511}","N"],["\u{1D512}","O"],["\u{1D513}","P"],["\u{1D514}","Q"],["\u{1D516}","S"],["\u{1D517}","T"],["\u{1D518}","U"],["\u{1D519}","V"],["\u{1D51A}","W"],["\u{1D51B}","X"],["\u{1D51C}","Y"],["\u{1D51E}","a"],["\u{1D51F}","b"],["\u{1D520}","c"],["\u{1D521}","d"],["\u{1D522}","e"],["\u{1D523}","f"],["\u{1D524}","g"],["\u{1D525}","h"],["\u{1D526}","i"],["\u{1D527}","j"],["\u{1D528}","k"],["\u{1D529}","l"],["\u{1D52A}","m"],["\u{1D52B}","n"],["\u{1D52C}","o"],["\u{1D52D}","p"],["\u{1D52E}","q"],["\u{1D52F}","r"],["\u{1D530}","s"],["\u{1D531}","t"],["\u{1D532}","u"],["\u{1D533}","v"],["\u{1D534}","w"],["\u{1D535}","x"],["\u{1D536}","y"],["\u{1D537}","z"],["\u{1D538}","A"],["\u{1D539}","B"],["\u{1D53B}","D"],["\u{1D53C}","E"],["\u{1D53D}","F"],["\u{1D53E}","G"],["\u{1D540}","I"],["\u{1D541}","J"],["\u{1D542}","K"],["\u{1D543}","L"],["\u{1D544}","M"],["\u{1D546}","N"],["\u{1D54A}","S"],["\u{1D54B}","T"],["\u{1D54C}","U"],["\u{1D54D}","V"],["\u{1D54E}","W"],["\u{1D54F}","X"],["\u{1D550}","Y"],["\u{1D552}","a"],["\u{1D553}","b"],["\u{1D554}","c"],["\u{1D555}","d"],["\u{1D556}","e"],["\u{1D557}","f"],["\u{1D558}","g"],["\u{1D559}","h"],["\u{1D55A}","i"],["\u{1D55B}","j"],["\u{1D55C}","k"],["\u{1D55D}","l"],["\u{1D55E}","m"],["\u{1D55F}","n"],["\u{1D560}","o"],["\u{1D561}","p"],["\u{1D562}","q"],["\u{1D563}","r"],["\u{1D564}","s"],["\u{1D565}","t"],["\u{1D566}","u"],["\u{1D567}","v"],["\u{1D568}","w"],["\u{1D569}","x"],["\u{1D56A}","y"],["\u{1D56B}","z"],["\u{1D56C}","A"],["\u{1D56D}","B"],["\u{1D56E}","C"],["\u{1D56F}","D"],["\u{1D570}","E"],["\u{1D571}","F"],["\u{1D572}","G"],["\u{1D573}","H"],["\u{1D574}","I"],["\u{1D575}","J"],["\u{1D576}","K"],["\u{1D577}","L"],["\u{1D578}","M"],["\u{1D579}","N"],["\u{1D57A}","O"],["\u{1D57B}","P"],["\u{1D57C}","Q"],["\u{1D57D}","R"],["\u{1D57E}","S"],["\u{1D57F}","T"],["\u{1D580}","U"],["\u{1D581}","V"],["\u{1D582}","W"],["\u{1D583}","X"],["\u{1D584}","Y"],["\u{1D585}","Z"],["\u{1D586}","a"],["\u{1D587}","b"],["\u{1D588}","c"],["\u{1D589}","d"],["\u{1D58A}","e"],["\u{1D58B}","f"],["\u{1D58C}","g"],["\u{1D58D}","h"],["\u{1D58E}","i"],["\u{1D58F}","j"],["\u{1D590}","k"],["\u{1D591}","l"],["\u{1D592}","m"],["\u{1D593}","n"],["\u{1D594}","o"],["\u{1D595}","p"],["\u{1D596}","q"],["\u{1D597}","r"],["\u{1D598}","s"],["\u{1D599}","t"],["\u{1D59A}","u"],["\u{1D59B}","v"],["\u{1D59C}","w"],["\u{1D59D}","x"],["\u{1D59E}","y"],["\u{1D59F}","z"],["\u{1D5A0}","A"],["\u{1D5A1}","B"],["\u{1D5A2}","C"],["\u{1D5A3}","D"],["\u{1D5A4}","E"],["\u{1D5A5}","F"],["\u{1D5A6}","G"],["\u{1D5A7}","H"],["\u{1D5A8}","I"],["\u{1D5A9}","J"],["\u{1D5AA}","K"],["\u{1D5AB}","L"],["\u{1D5AC}","M"],["\u{1D5AD}","N"],["\u{1D5AE}","O"],["\u{1D5AF}","P"],["\u{1D5B0}","Q"],["\u{1D5B1}","R"],["\u{1D5B2}","S"],["\u{1D5B3}","T"],["\u{1D5B4}","U"],["\u{1D5B5}","V"],["\u{1D5B6}","W"],["\u{1D5B7}","X"],["\u{1D5B8}","Y"],["\u{1D5B9}","Z"],["\u{1D5BA}","a"],["\u{1D5BB}","b"],["\u{1D5BC}","c"],["\u{1D5BD}","d"],["\u{1D5BE}","e"],["\u{1D5BF}","f"],["\u{1D5C0}","g"],["\u{1D5C1}","h"],["\u{1D5C2}","i"],["\u{1D5C3}","j"],["\u{1D5C4}","k"],["\u{1D5C5}","l"],["\u{1D5C6}","m"],["\u{1D5C7}","n"],["\u{1D5C8}","o"],["\u{1D5C9}","p"],["\u{1D5CA}","q"],["\u{1D5CB}","r"],["\u{1D5CC}","s"],["\u{1D5CD}","t"],["\u{1D5CE}","u"],["\u{1D5CF}","v"],["\u{1D5D0}","w"],["\u{1D5D1}","x"],["\u{1D5D2}","y"],["\u{1D5D3}","z"],["\u{1D5D4}","A"],["\u{1D5D5}","B"],["\u{1D5D6}","C"],["\u{1D5D7}","D"],["\u{1D5D8}","E"],["\u{1D5D9}","F"],["\u{1D5DA}","G"],["\u{1D5DB}","H"],["\u{1D5DC}","I"],["\u{1D5DD}","J"],["\u{1D5DE}","K"],["\u{1D5DF}","L"],["\u{1D5E0}","M"],["\u{1D5E1}","N"],["\u{1D5E2}","O"],["\u{1D5E3}","P"],["\u{1D5E4}","Q"],["\u{1D5E5}","R"],["\u{1D5E6}","S"],["\u{1D5E7}","T"],["\u{1D5E8}","U"],["\u{1D5E9}","V"],["\u{1D5EA}","W"],["\u{1D5EB}","X"],["\u{1D5EC}","Y"],["\u{1D5ED}","Z"],["\u{1D5EE}","a"],["\u{1D5EF}","b"],["\u{1D5F0}","c"],["\u{1D5F1}","d"],["\u{1D5F2}","e"],["\u{1D5F3}","f"],["\u{1D5F4}","g"],["\u{1D5F5}","h"],["\u{1D5F6}","i"],["\u{1D5F7}","j"],["\u{1D5F8}","k"],["\u{1D5F9}","l"],["\u{1D5FA}","m"],["\u{1D5FB}","n"],["\u{1D5FC}","o"],["\u{1D5FD}","p"],["\u{1D5FE}","q"],["\u{1D5FF}","r"],["\u{1D600}","s"],["\u{1D601}","t"],["\u{1D602}","u"],["\u{1D603}","v"],["\u{1D604}","w"],["\u{1D605}","x"],["\u{1D606}","y"],["\u{1D607}","z"],["\u{1D608}","A"],["\u{1D609}","B"],["\u{1D60A}","C"],["\u{1D60B}","D"],["\u{1D60C}","E"],["\u{1D60D}","F"],["\u{1D60E}","G"],["\u{1D60F}","H"],["\u{1D610}","I"],["\u{1D611}","J"],["\u{1D612}","K"],["\u{1D613}","L"],["\u{1D614}","M"],["\u{1D615}","N"],["\u{1D616}","O"],["\u{1D617}","P"],["\u{1D618}","Q"],["\u{1D619}","R"],["\u{1D61A}","S"],["\u{1D61B}","T"],["\u{1D61C}","U"],["\u{1D61D}","V"],["\u{1D61E}","W"],["\u{1D61F}","X"],["\u{1D620}","Y"],["\u{1D621}","Z"],["\u{1D622}","a"],["\u{1D623}","b"],["\u{1D624}","c"],["\u{1D625}","d"],["\u{1D626}","e"],["\u{1D627}","f"],["\u{1D628}","g"],["\u{1D629}","h"],["\u{1D62A}","i"],["\u{1D62B}","j"],["\u{1D62C}","k"],["\u{1D62D}","l"],["\u{1D62E}","m"],["\u{1D62F}","n"],["\u{1D630}","o"],["\u{1D631}","p"],["\u{1D632}","q"],["\u{1D633}","r"],["\u{1D634}","s"],["\u{1D635}","t"],["\u{1D636}","u"],["\u{1D637}","v"],["\u{1D638}","w"],["\u{1D639}","x"],["\u{1D63A}","y"],["\u{1D63B}","z"],["\u{1D63C}","A"],["\u{1D63D}","B"],["\u{1D63E}","C"],["\u{1D63F}","D"],["\u{1D640}","E"],["\u{1D641}","F"],["\u{1D642}","G"],["\u{1D643}","H"],["\u{1D644}","I"],["\u{1D645}","J"],["\u{1D646}","K"],["\u{1D647}","L"],["\u{1D648}","M"],["\u{1D649}","N"],["\u{1D64A}","O"],["\u{1D64B}","P"],["\u{1D64C}","Q"],["\u{1D64D}","R"],["\u{1D64E}","S"],["\u{1D64F}","T"],["\u{1D650}","U"],["\u{1D651}","V"],["\u{1D652}","W"],["\u{1D653}","X"],["\u{1D654}","Y"],["\u{1D655}","Z"],["\u{1D656}","a"],["\u{1D657}","b"],["\u{1D658}","c"],["\u{1D659}","d"],["\u{1D65A}","e"],["\u{1D65B}","f"],["\u{1D65C}","g"],["\u{1D65D}","h"],["\u{1D65E}","i"],["\u{1D65F}","j"],["\u{1D660}","k"],["\u{1D661}","l"],["\u{1D662}","m"],["\u{1D663}","n"],["\u{1D664}","o"],["\u{1D665}","p"],["\u{1D666}","q"],["\u{1D667}","r"],["\u{1D668}","s"],["\u{1D669}","t"],["\u{1D66A}","u"],["\u{1D66B}","v"],["\u{1D66C}","w"],["\u{1D66D}","x"],["\u{1D66E}","y"],["\u{1D66F}","z"],["\u{1D670}","A"],["\u{1D671}","B"],["\u{1D672}","C"],["\u{1D673}","D"],["\u{1D674}","E"],["\u{1D675}","F"],["\u{1D676}","G"],["\u{1D677}","H"],["\u{1D678}","I"],["\u{1D679}","J"],["\u{1D67A}","K"],["\u{1D67B}","L"],["\u{1D67C}","M"],["\u{1D67D}","N"],["\u{1D67E}","O"],["\u{1D67F}","P"],["\u{1D680}","Q"],["\u{1D681}","R"],["\u{1D682}","S"],["\u{1D683}","T"],["\u{1D684}","U"],["\u{1D685}","V"],["\u{1D686}","W"],["\u{1D687}","X"],["\u{1D688}","Y"],["\u{1D689}","Z"],["\u{1D68A}","a"],["\u{1D68B}","b"],["\u{1D68C}","c"],["\u{1D68D}","d"],["\u{1D68E}","e"],["\u{1D68F}","f"],["\u{1D690}","g"],["\u{1D691}","h"],["\u{1D692}","i"],["\u{1D693}","j"],["\u{1D694}","k"],["\u{1D695}","l"],["\u{1D696}","m"],["\u{1D697}","n"],["\u{1D698}","o"],["\u{1D699}","p"],["\u{1D69A}","q"],["\u{1D69B}","r"],["\u{1D69C}","s"],["\u{1D69D}","t"],["\u{1D69E}","u"],["\u{1D69F}","v"],["\u{1D6A0}","w"],["\u{1D6A1}","x"],["\u{1D6A2}","y"],["\u{1D6A3}","z"],["\u{1D6A4}","l"],["\u{1D6A5}","j"],["\u{1D6E2}","A"],["\u{1D6E3}","B"],["\u{1D6E4}","G"],["\u{1D6E5}","D"],["\u{1D6E6}","E"],["\u{1D6E7}","Z"],["\u{1D6E8}","I"],["\u{1D6E9}","TH"],["\u{1D6EA}","I"],["\u{1D6EB}","K"],["\u{1D6EC}","L"],["\u{1D6ED}","M"],["\u{1D6EE}","N"],["\u{1D6EF}","KS"],["\u{1D6F0}","O"],["\u{1D6F1}","P"],["\u{1D6F2}","R"],["\u{1D6F3}","TH"],["\u{1D6F4}","S"],["\u{1D6F5}","T"],["\u{1D6F6}","Y"],["\u{1D6F7}","F"],["\u{1D6F8}","x"],["\u{1D6F9}","PS"],["\u{1D6FA}","O"],["\u{1D6FB}","D"],["\u{1D6FC}","a"],["\u{1D6FD}","b"],["\u{1D6FE}","g"],["\u{1D6FF}","d"],["\u{1D700}","e"],["\u{1D701}","z"],["\u{1D702}","i"],["\u{1D703}","th"],["\u{1D704}","i"],["\u{1D705}","k"],["\u{1D706}","l"],["\u{1D707}","m"],["\u{1D708}","n"],["\u{1D709}","ks"],["\u{1D70A}","o"],["\u{1D70B}","p"],["\u{1D70C}","r"],["\u{1D70D}","s"],["\u{1D70E}","s"],["\u{1D70F}","t"],["\u{1D710}","y"],["\u{1D711}","f"],["\u{1D712}","x"],["\u{1D713}","ps"],["\u{1D714}","o"],["\u{1D715}","d"],["\u{1D716}","E"],["\u{1D717}","TH"],["\u{1D718}","K"],["\u{1D719}","f"],["\u{1D71A}","r"],["\u{1D71B}","p"],["\u{1D71C}","A"],["\u{1D71D}","V"],["\u{1D71E}","G"],["\u{1D71F}","D"],["\u{1D720}","E"],["\u{1D721}","Z"],["\u{1D722}","I"],["\u{1D723}","TH"],["\u{1D724}","I"],["\u{1D725}","K"],["\u{1D726}","L"],["\u{1D727}","M"],["\u{1D728}","N"],["\u{1D729}","KS"],["\u{1D72A}","O"],["\u{1D72B}","P"],["\u{1D72C}","S"],["\u{1D72D}","TH"],["\u{1D72E}","S"],["\u{1D72F}","T"],["\u{1D730}","Y"],["\u{1D731}","F"],["\u{1D732}","X"],["\u{1D733}","PS"],["\u{1D734}","O"],["\u{1D735}","D"],["\u{1D736}","a"],["\u{1D737}","v"],["\u{1D738}","g"],["\u{1D739}","d"],["\u{1D73A}","e"],["\u{1D73B}","z"],["\u{1D73C}","i"],["\u{1D73D}","th"],["\u{1D73E}","i"],["\u{1D73F}","k"],["\u{1D740}","l"],["\u{1D741}","m"],["\u{1D742}","n"],["\u{1D743}","ks"],["\u{1D744}","o"],["\u{1D745}","p"],["\u{1D746}","r"],["\u{1D747}","s"],["\u{1D748}","s"],["\u{1D749}","t"],["\u{1D74A}","y"],["\u{1D74B}","f"],["\u{1D74C}","x"],["\u{1D74D}","ps"],["\u{1D74E}","o"],["\u{1D74F}","a"],["\u{1D750}","e"],["\u{1D751}","i"],["\u{1D752}","k"],["\u{1D753}","f"],["\u{1D754}","r"],["\u{1D755}","p"],["\u{1D756}","A"],["\u{1D757}","B"],["\u{1D758}","G"],["\u{1D759}","D"],["\u{1D75A}","E"],["\u{1D75B}","Z"],["\u{1D75C}","I"],["\u{1D75D}","TH"],["\u{1D75E}","I"],["\u{1D75F}","K"],["\u{1D760}","L"],["\u{1D761}","M"],["\u{1D762}","N"],["\u{1D763}","KS"],["\u{1D764}","O"],["\u{1D765}","P"],["\u{1D766}","R"],["\u{1D767}","TH"],["\u{1D768}","S"],["\u{1D769}","T"],["\u{1D76A}","Y"],["\u{1D76B}","F"],["\u{1D76C}","X"],["\u{1D76D}","PS"],["\u{1D76E}","O"],["\u{1D76F}","D"],["\u{1D770}","a"],["\u{1D771}","v"],["\u{1D772}","g"],["\u{1D773}","d"],["\u{1D774}","e"],["\u{1D775}","z"],["\u{1D776}","i"],["\u{1D777}","th"],["\u{1D778}","i"],["\u{1D779}","k"],["\u{1D77A}","l"],["\u{1D77B}","m"],["\u{1D77C}","n"],["\u{1D77D}","ks"],["\u{1D77E}","o"],["\u{1D77F}","p"],["\u{1D780}","r"],["\u{1D781}","s"],["\u{1D782}","s"],["\u{1D783}","t"],["\u{1D784}","y"],["\u{1D785}","f"],["\u{1D786}","x"],["\u{1D787}","ps"],["\u{1D788}","o"],["\u{1D789}","a"],["\u{1D78A}","e"],["\u{1D78B}","i"],["\u{1D78C}","k"],["\u{1D78D}","f"],["\u{1D78E}","r"],["\u{1D78F}","p"],["\u{1D790}","A"],["\u{1D791}","V"],["\u{1D792}","G"],["\u{1D793}","D"],["\u{1D794}","E"],["\u{1D795}","Z"],["\u{1D796}","I"],["\u{1D797}","TH"],["\u{1D798}","I"],["\u{1D799}","K"],["\u{1D79A}","L"],["\u{1D79B}","M"],["\u{1D79C}","N"],["\u{1D79D}","KS"],["\u{1D79E}","O"],["\u{1D79F}","P"],["\u{1D7A0}","S"],["\u{1D7A1}","TH"],["\u{1D7A2}","S"],["\u{1D7A3}","T"],["\u{1D7A4}","Y"],["\u{1D7A5}","F"],["\u{1D7A6}","X"],["\u{1D7A7}","PS"],["\u{1D7A8}","O"],["\u{1D7A9}","D"],["\u{1D7AA}","av"],["\u{1D7AB}","g"],["\u{1D7AC}","d"],["\u{1D7AD}","e"],["\u{1D7AE}","z"],["\u{1D7AF}","i"],["\u{1D7B0}","i"],["\u{1D7B1}","th"],["\u{1D7B2}","i"],["\u{1D7B3}","k"],["\u{1D7B4}","l"],["\u{1D7B5}","m"],["\u{1D7B6}","n"],["\u{1D7B7}","ks"],["\u{1D7B8}","o"],["\u{1D7B9}","p"],["\u{1D7BA}","r"],["\u{1D7BB}","s"],["\u{1D7BC}","s"],["\u{1D7BD}","t"],["\u{1D7BE}","y"],["\u{1D7BF}","f"],["\u{1D7C0}","x"],["\u{1D7C1}","ps"],["\u{1D7C2}","o"],["\u{1D7C3}","a"],["\u{1D7C4}","e"],["\u{1D7C5}","i"],["\u{1D7C6}","k"],["\u{1D7C7}","f"],["\u{1D7C8}","r"],["\u{1D7C9}","p"],["\u{1D7CA}","F"],["\u{1D7CB}","f"],["\u249C","(a)"],["\u249D","(b)"],["\u249E","(c)"],["\u249F","(d)"],["\u24A0","(e)"],["\u24A1","(f)"],["\u24A2","(g)"],["\u24A3","(h)"],["\u24A4","(i)"],["\u24A5","(j)"],["\u24A6","(k)"],["\u24A7","(l)"],["\u24A8","(m)"],["\u24A9","(n)"],["\u24AA","(o)"],["\u24AB","(p)"],["\u24AC","(q)"],["\u24AD","(r)"],["\u24AE","(s)"],["\u24AF","(t)"],["\u24B0","(u)"],["\u24B1","(v)"],["\u24B2","(w)"],["\u24B3","(x)"],["\u24B4","(y)"],["\u24B5","(z)"],["\u24B6","(A)"],["\u24B7","(B)"],["\u24B8","(C)"],["\u24B9","(D)"],["\u24BA","(E)"],["\u24BB","(F)"],["\u24BC","(G)"],["\u24BD","(H)"],["\u24BE","(I)"],["\u24BF","(J)"],["\u24C0","(K)"],["\u24C1","(L)"],["\u24C3","(N)"],["\u24C4","(O)"],["\u24C5","(P)"],["\u24C6","(Q)"],["\u24C7","(R)"],["\u24C8","(S)"],["\u24C9","(T)"],["\u24CA","(U)"],["\u24CB","(V)"],["\u24CC","(W)"],["\u24CD","(X)"],["\u24CE","(Y)"],["\u24CF","(Z)"],["\u24D0","(a)"],["\u24D1","(b)"],["\u24D2","(b)"],["\u24D3","(c)"],["\u24D4","(e)"],["\u24D5","(f)"],["\u24D6","(g)"],["\u24D7","(h)"],["\u24D8","(i)"],["\u24D9","(j)"],["\u24DA","(k)"],["\u24DB","(l)"],["\u24DC","(m)"],["\u24DD","(n)"],["\u24DE","(o)"],["\u24DF","(p)"],["\u24E0","(q)"],["\u24E1","(r)"],["\u24E2","(s)"],["\u24E3","(t)"],["\u24E4","(u)"],["\u24E5","(v)"],["\u24E6","(w)"],["\u24E7","(x)"],["\u24E8","(y)"],["\u24E9","(z)"],["\u010A","C"],["\u010B","c"],["\u0120","G"],["\u0121","g"],["\u0126","H"],["\u0127","h"],["\u017B","Z"],["\u017C","z"],["\u{1D7CE}","0"],["\u{1D7CF}","1"],["\u{1D7D0}","2"],["\u{1D7D1}","3"],["\u{1D7D2}","4"],["\u{1D7D3}","5"],["\u{1D7D4}","6"],["\u{1D7D5}","7"],["\u{1D7D6}","8"],["\u{1D7D7}","9"],["\u{1D7D8}","0"],["\u{1D7D9}","1"],["\u{1D7DA}","2"],["\u{1D7DB}","3"],["\u{1D7DC}","4"],["\u{1D7DD}","5"],["\u{1D7DE}","6"],["\u{1D7DF}","7"],["\u{1D7E0}","8"],["\u{1D7E1}","9"],["\u{1D7E2}","0"],["\u{1D7E3}","1"],["\u{1D7E4}","2"],["\u{1D7E5}","3"],["\u{1D7E6}","4"],["\u{1D7E7}","5"],["\u{1D7E8}","6"],["\u{1D7E9}","7"],["\u{1D7EA}","8"],["\u{1D7EB}","9"],["\u{1D7EC}","0"],["\u{1D7ED}","1"],["\u{1D7EE}","2"],["\u{1D7EF}","3"],["\u{1D7F0}","4"],["\u{1D7F1}","5"],["\u{1D7F2}","6"],["\u{1D7F3}","7"],["\u{1D7F4}","8"],["\u{1D7F5}","9"],["\u{1D7F6}","0"],["\u{1D7F7}","1"],["\u{1D7F8}","2"],["\u{1D7F9}","3"],["\u{1D7FA}","4"],["\u{1D7FB}","5"],["\u{1D7FC}","6"],["\u{1D7FD}","7"],["\u{1D7FE}","8"],["\u{1D7FF}","9"],["\u2460","1"],["\u2461","2"],["\u2462","3"],["\u2463","4"],["\u2464","5"],["\u2465","6"],["\u2466","7"],["\u2467","8"],["\u2468","9"],["\u2469","10"],["\u246A","11"],["\u246B","12"],["\u246C","13"],["\u246D","14"],["\u246E","15"],["\u246F","16"],["\u2470","17"],["\u2471","18"],["\u2472","19"],["\u2473","20"],["\u2474","1"],["\u2475","2"],["\u2476","3"],["\u2477","4"],["\u2478","5"],["\u2479","6"],["\u247A","7"],["\u247B","8"],["\u247C","9"],["\u247D","10"],["\u247E","11"],["\u247F","12"],["\u2480","13"],["\u2481","14"],["\u2482","15"],["\u2483","16"],["\u2484","17"],["\u2485","18"],["\u2486","19"],["\u2487","20"],["\u2488","1."],["\u2489","2."],["\u248A","3."],["\u248B","4."],["\u248C","5."],["\u248D","6."],["\u248E","7."],["\u248F","8."],["\u2490","9."],["\u2491","10."],["\u2492","11."],["\u2493","12."],["\u2494","13."],["\u2495","14."],["\u2496","15."],["\u2497","16."],["\u2498","17."],["\u2499","18."],["\u249A","19."],["\u249B","20."],["\u24EA","0"],["\u24EB","11"],["\u24EC","12"],["\u24ED","13"],["\u24EE","14"],["\u24EF","15"],["\u24F0","16"],["\u24F1","17"],["\u24F2","18"],["\u24F3","19"],["\u24F4","20"],["\u24F5","1"],["\u24F6","2"],["\u24F7","3"],["\u24F8","4"],["\u24F9","5"],["\u24FA","6"],["\u24FB","7"],["\u24FC","8"],["\u24FD","9"],["\u24FE","10"],["\u24FF","0"],["\u{1F670}","&"],["\u{1F671}","&"],["\u{1F672}","&"],["\u{1F673}","&"],["\u{1F674}","&"],["\u{1F675}","&"],["\u{1F676}",'"'],["\u{1F677}",'"'],["\u{1F678}",'"'],["\u203D","?!"],["\u{1F679}","?!"],["\u{1F67A}","?!"],["\u{1F67B}","?!"],["\u{1F67C}","/"],["\u{1F67D}","\\"],["\u{1F707}","AR"],["\u{1F708}","V"],["\u{1F709}","V"],["\u{1F706}","VR"],["\u{1F705}","VF"],["\u{1F729}","2"],["\u{1F72A}","5"],["\u{1F761}","f"],["\u{1F762}","W"],["\u{1F763}","U"],["\u{1F767}","V"],["\u{1F768}","T"],["\u{1F76A}","V"],["\u{1F76B}","MB"],["\u{1F76C}","VB"],["\u{1F772}","3B"],["\u{1F773}","3B"],["\u{1F4AF}","100"],["\u{1F519}","BACK"],["\u{1F51A}","END"],["\u{1F51B}","ON!"],["\u{1F51C}","SOON"],["\u{1F51D}","TOP"],["\u{1F51E}","18"],["\u{1F524}","abc"],["\u{1F520}","ABCD"],["\u{1F521}","abcd"],["\u{1F522}","1234"],["\u{1F523}","T&@%"],["#\uFE0F\u20E3","#"],["*\uFE0F\u20E3","*"],["0\uFE0F\u20E3","0"],["1\uFE0F\u20E3","1"],["2\uFE0F\u20E3","2"],["3\uFE0F\u20E3","3"],["4\uFE0F\u20E3","4"],["5\uFE0F\u20E3","5"],["6\uFE0F\u20E3","6"],["7\uFE0F\u20E3","7"],["8\uFE0F\u20E3","8"],["9\uFE0F\u20E3","9"],["\u{1F51F}","10"],["\u{1F170}\uFE0F","A"],["\u{1F171}\uFE0F","B"],["\u{1F18E}","AB"],["\u{1F191}","CL"],["\u{1F17E}\uFE0F","O"],["\u{1F17F}","P"],["\u{1F198}","SOS"],["\u{1F172}","C"],["\u{1F173}","D"],["\u{1F174}","E"],["\u{1F175}","F"],["\u{1F176}","G"],["\u{1F177}","H"],["\u{1F178}","I"],["\u{1F179}","J"],["\u{1F17A}","K"],["\u{1F17B}","L"],["\u{1F17C}","M"],["\u{1F17D}","N"],["\u{1F180}","Q"],["\u{1F181}","R"],["\u{1F182}","S"],["\u{1F183}","T"],["\u{1F184}","U"],["\u{1F185}","V"],["\u{1F186}","W"],["\u{1F187}","X"],["\u{1F188}","Y"],["\u{1F189}","Z"]];function JA(t,n){if(typeof t!="string")throw new TypeError(`Expected a string, got \`${typeof t}\``);n=P0({customReplacements:[]},n);let e=new Map([...rz,...n.customReplacements]);return t=((i,r)=>{for(let[s,o]of r)i=i.replace(new RegExp(iz(s),"g"),o);return i})(t=t.normalize(),e),(0,XA.default)(t)}var sz=["list"],oz=["defaultItemTemplate"],az=t=>({item:t});function lz(t,n){if(t&1&&ee(0),t&2){let e=n.item,i=b();_e(" ",e[i.labelKey]," ")}}function cz(t,n){}function uz(t,n){if(t&1){let e=Ce();E(0,"li")(1,"a",4),se("mousedown",function(r){let s=$(e).index,o=b();return o.activeIndex=s,o.itemClick.emit(),H(r.preventDefault())}),I(2,cz,0,0,"ng-template",5),x()()}if(t&2){let e=n.$implicit,i=n.index,r=b();Fe("active",r.activeIndex==i)("mention-active",!r.styleOff&&r.activeIndex==i),v(),Fe("mention-item",!r.styleOff),v(),y("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",ft(8,az,e))}}function dz(t,n){iu(t)?t.value=n:t.textContent=n}function rR(t){return iu(t)?t.value:t.textContent}function N0(t,n,e,i,r,s=!1){if(hz(t)){let c=rR(t);dz(t,c.substring(0,n)+i+c.substring(e,c.length)),sR(t,n+i.length,r)}else if(!s){let c=fp(r);if(c&&c.rangeCount>0){var o=c.getRangeAt(0),a=o.startOffset,l=c.anchorNode;N0(l,a-(e-n),a,i,r,!0)}}}function iu(t){return t!=null&&(t.nodeName=="INPUT"||t.nodeName=="TEXTAREA")}function hz(t){return t!=null&&(t.nodeName=="INPUT"||t.nodeName=="TEXTAREA"||t.nodeName=="#text")}function sR(t,n,e=null){if(iu(t)&&t.selectionStart)t.focus(),t.setSelectionRange(n,n);else{let i=L0(e).createRange();i.setStart(t,n),i.collapse(!0);let r=fp(e);r.removeAllRanges(),r.addRange(i)}}function eR(t,n=null){if(iu(t)){var e=t.value;return e.slice(0,t.selectionStart).length}else{var i=fp(n);if(i.rangeCount>0){var r=i.getRangeAt(0),s=r.cloneRange();s.selectNodeContents(t),s.setEnd(r.endContainer,r.endOffset);var o=s.toString().length;return o}}}function L0(t){return t?t.contentWindow.document:document}function fp(t){return t?t.contentWindow.getSelection():window.getSelection()}function tR(t){let n="\uFEFF",e="sel_"+new Date().getTime()+"_"+Math.random().toString().substr(2),i=L0(t?t.iframe:null),r=fp(t?t.iframe:null),s=r.getRangeAt(0),o=i.createRange();o.setStart(r.anchorNode,s.startOffset),o.setEnd(r.anchorNode,s.startOffset),o.collapse(!1);let a=i.createElement("span");a.id=e,a.appendChild(i.createTextNode(n)),o.insertNode(a),r.removeAllRanges(),r.addRange(s);let l={left:0,top:a.offsetHeight};return fz(t,a,l),a.parentNode.removeChild(a),l}function fz(t,n,e){let i=n,r=t?t.iframe:null;for(;i&&!(t.parent!=null&&t.parent==i);)e.left+=i.offsetLeft+i.clientLeft,e.top+=i.offsetTop+i.clientTop,i=i.offsetParent,!i&&r&&(i=r,r=null);for(i=n,r=t?t.iframe:null;i!==L0(null).body&&i!=null&&!(t.parent!=null&&t.parent==i);)i.scrollTop&&i.scrollTop>0&&(e.top-=i.scrollTop),i.scrollLeft&&i.scrollLeft>0&&(e.left-=i.scrollLeft),i=i.parentNode,!i&&r&&(i=r,r=null)}var pz=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],oR=typeof window<"u",mz=oR&&window.mozInnerScreenX!=null;function gz(t,n,e){if(!oR)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var i=e&&e.debug||!1;if(i){var r=document.querySelector("#input-textarea-caret-position-mirror-div");r&&r.parentNode.removeChild(r)}var s=document.createElement("div");s.id="input-textarea-caret-position-mirror-div",document.body.appendChild(s);var o=s.style,a=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,l=t.nodeName==="INPUT";o.whiteSpace="pre-wrap",l||(o.wordWrap="break-word"),o.position="absolute",i||(o.visibility="hidden"),pz.forEach(function(d){if(l&&d==="lineHeight")if(a.boxSizing==="border-box"){var h=parseInt(a.height),f=parseInt(a.paddingTop)+parseInt(a.paddingBottom)+parseInt(a.borderTopWidth)+parseInt(a.borderBottomWidth),p=f+parseInt(a.lineHeight);h>p?o.lineHeight=h-f+"px":h===p?o.lineHeight=a.lineHeight:o.lineHeight="0"}else o.lineHeight=a.height;else o[d]=a[d]}),mz?t.scrollHeight>parseInt(a.height)&&(o.overflowY="scroll"):o.overflow="hidden",s.textContent=t.value.substring(0,n),l&&(s.textContent=s.textContent.replace(/\s/g,"\xA0"));var c=document.createElement("span");c.textContent=t.value.substring(n)||".",s.appendChild(c);var u={top:c.offsetTop+parseInt(a.borderTopWidth),left:c.offsetLeft+parseInt(a.borderLeftWidth),height:parseInt(a.lineHeight)};return i?c.style.backgroundColor="#aaa":document.body.removeChild(s),u}var _z=(()=>{class t{constructor(e){this.element=e,this.labelKey="label",this.itemClick=new fe,this.items=[],this.activeIndex=0,this.hidden=!1,this.dropUp=!1,this.styleOff=!1,this.coords={top:0,left:0},this.offset=0}ngAfterContentChecked(){this.itemTemplate||(this.itemTemplate=this.defaultItemTemplate)}position(e,i=null){if(iu(e))this.coords=gz(e,e.selectionStart,null),this.coords.top=e.offsetTop+this.coords.top-e.scrollTop,this.coords.left=e.offsetLeft+this.coords.left-e.scrollLeft,this.offset=this.getBlockCursorDimensions(e).height;else if(i){let r={iframe:i,parent:i.offsetParent};this.coords=tR(r)}else{let r=document.documentElement,s=(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0),o=(window.pageYOffset||r.scrollTop)-(r.clientTop||0),a=tR({iframe:i}),l=e.getBoundingClientRect();this.coords.top=a.top-l.top+e.offsetTop-o,this.coords.left=a.left-l.left+e.offsetLeft-s}this.positionElement()}get activeItem(){return this.items[this.activeIndex]}activateNextItem(){let e=this.list.nativeElement,i=e.getElementsByClassName("active").item(0);if(i){let r=i.nextSibling;if(r&&r.nodeName=="LI"){let s=r.getBoundingClientRect();s.bottom>e.getBoundingClientRect().bottom&&(e.scrollTop=r.offsetTop+s.height-e.clientHeight)}}this.activeIndex=Math.max(Math.min(this.activeIndex+1,this.items.length-1),0)}activatePreviousItem(){let e=this.list.nativeElement,i=e.getElementsByClassName("active").item(0);if(i){let r=i.previousSibling;r&&r.nodeName=="LI"&&r.getBoundingClientRect().top<e.getBoundingClientRect().top&&(e.scrollTop=r.offsetTop)}this.activeIndex=Math.max(Math.min(this.activeIndex-1,this.items.length-1),0)}reset(){this.list.nativeElement.scrollTop=0,this.checkBounds()}checkBounds(){let e=this.coords.left,i=this.coords.top,r=this.dropUp,s=this.list.nativeElement.getBoundingClientRect();s.left+s.width>window.innerWidth&&(e-=s.left+s.width-window.innerWidth+10),s.top<0&&(r=!1),this.positionElement(e,i,r)}positionElement(e=this.coords.left,i=this.coords.top,r=this.dropUp){let s=this.element.nativeElement;i+=r?0:this.offset,s.className=r?"dropup":null,s.style.position="absolute",s.style.left=e+"px",s.style.top=i+"px"}getBlockCursorDimensions(e){let i=window.getComputedStyle(e);return{height:parseFloat(i.lineHeight),width:parseFloat(i.fontSize)}}}return t.\u0275fac=function(e){return new(e||t)(M(Le))},t.\u0275cmp=Ie({type:t,selectors:[["mention-list"]],viewQuery:function(e,i){if(e&1&&(Qe(sz,7),Qe(oz,7)),e&2){let r;Oe(r=ke())&&(i.list=r.first),Oe(r=ke())&&(i.defaultItemTemplate=r.first)}},inputs:{labelKey:"labelKey",itemTemplate:"itemTemplate"},outputs:{itemClick:"itemClick"},decls:5,vars:6,consts:[["defaultItemTemplate",""],["list",""],[1,"dropdown-menu","scrollable-menu",3,"hidden"],[3,"active","mention-active",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"mousedown"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){e&1&&(I(0,lz,1,1,"ng-template",null,0,J),E(2,"ul",2,1),I(4,uz,3,10,"li",3),x()),e&2&&(v(2),Fe("mention-menu",!i.styleOff)("mention-dropdown",!i.styleOff&&i.dropUp),y("hidden",i.hidden),v(2),y("ngForOf",i.items))},dependencies:[Cn,bt],styles:[".mention-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:11em;padding:.5em 0;margin:.125em 0 0;font-size:1em;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25em}.mention-item[_ngcontent-%COMP%]{display:block;padding:.2em 1.5em;line-height:1.5em;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.mention-active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;background-color:#337ab7;outline:0}.scrollable-menu[_ngcontent-%COMP%]{display:block;height:auto;max-height:292px;overflow:auto}[hidden][_ngcontent-%COMP%]{display:none}.mention-dropdown[_ngcontent-%COMP%]{bottom:100%;top:auto;margin-bottom:2px}"]}),t})(),dp=8,nR=9,hp=13,vz=16,yz=27,bz=32;var Cz=38;var wz=40,iR=229,aR=(()=>{class t{constructor(e,i,r){this._element=e,this._componentResolver=i,this._viewContainerRef=r,this.mentionConfig={items:[]},this.DEFAULT_CONFIG={items:[],triggerChar:"@",labelKey:"label",maxItems:-1,allowSpace:!1,returnTrigger:!1,mentionSelect:(s,o)=>this.activeConfig.triggerChar+s[this.activeConfig.labelKey],mentionFilter:(s,o)=>{let a=s.toLowerCase();return o.filter(l=>l[this.activeConfig.labelKey].toLowerCase().startsWith(a))}},this.searchTerm=new fe,this.itemSelected=new fe,this.opened=new fe,this.closed=new fe,this.triggerChars={}}set mention(e){this.mentionItems=e}ngOnChanges(e){(e.mention||e.mentionConfig)&&this.updateConfig()}updateConfig(){let e=this.mentionConfig;this.triggerChars={},this.mentionItems&&(e.items=this.mentionItems),this.addConfig(e),e.mentions&&e.mentions.forEach(i=>this.addConfig(i))}addConfig(e){let i=Object.assign({},this.DEFAULT_CONFIG);e=Object.assign(i,e);let r=e.items;r&&r.length>0&&(typeof r[0]=="string"&&(r=r.map(s=>{let o={};return o[e.labelKey]=s,o})),e.labelKey&&(r=r.filter(s=>s[e.labelKey]),e.disableSort||r.sort((s,o)=>s[e.labelKey].localeCompare(o[e.labelKey])))),e.items=r,this.triggerChars[e.triggerChar]=e,this.activeConfig&&this.activeConfig.triggerChar==e.triggerChar&&(this.activeConfig=e,this.updateSearchList())}setIframe(e){this.iframe=e}stopEvent(e){e.wasClick||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}blurHandler(e){this.stopEvent(e),this.stopSearch()}inputHandler(e,i=this._element.nativeElement){if(this.lastKeyCode===iR&&e.data){let r=e.data.charCodeAt(0);this.keyHandler({keyCode:r,inputEvent:!0},i)}}keyHandler(e,i=this._element.nativeElement){if(this.lastKeyCode=e.keyCode,e.isComposing||e.keyCode===iR)return;let r=rR(i),s=eR(i,this.iframe),o=e.key;if(!o){let l=e.which||e.keyCode;!e.shiftKey&&l>=65&&l<=90?o=String.fromCharCode(l+32):o=String.fromCharCode(e.which||e.keyCode)}e.keyCode==hp&&e.wasClick&&s<this.startPos&&(s=this.startNode.length,sR(this.startNode,s,this.iframe));let a=this.triggerChars[o];if(a)this.activeConfig=a,this.startPos=e.inputEvent?s-1:s,this.startNode=(this.iframe?this.iframe.contentWindow.getSelection():window.getSelection()).anchorNode,this.searching=!0,this.searchString=null,this.showSearchList(i),this.updateSearchList(),a.returnTrigger&&this.searchTerm.emit(a.triggerChar);else if(this.startPos>=0&&this.searching){if(s<=this.startPos)this.searchList.hidden=!0;else if(e.keyCode!==vz&&!e.metaKey&&!e.altKey&&!e.ctrlKey&&s>this.startPos){if(!this.activeConfig.allowSpace&&e.keyCode===bz)this.startPos=-1;else if(e.keyCode===dp&&s>0)s--,s==this.startPos&&this.stopSearch();else if(this.searchList.hidden){if(e.keyCode===nR||e.keyCode===hp){this.stopSearch();return}}else if(!this.searchList.hidden)if(e.keyCode===nR||e.keyCode===hp){this.stopEvent(e),this.itemSelected.emit(this.searchList.activeItem);let l=this.activeConfig.mentionSelect(this.searchList.activeItem,this.activeConfig.triggerChar);if(N0(i,this.startPos,s,l,this.iframe),"createEvent"in document){let c=document.createEvent("HTMLEvents");this.iframe?c.initEvent("change",!0,!1):c.initEvent("input",!0,!1),this._element.nativeElement.dispatchEvent(c)}return this.startPos=-1,this.stopSearch(),!1}else{if(e.keyCode===yz)return this.stopEvent(e),this.stopSearch(),!1;if(e.keyCode===wz)return this.stopEvent(e),this.searchList.activateNextItem(),!1;if(e.keyCode===Cz)return this.stopEvent(e),this.searchList.activatePreviousItem(),!1}if(o.length!=1&&e.keyCode!=dp)return this.stopEvent(e),!1;if(this.searching){let l=r.substring(this.startPos+1,s);if(e.keyCode!==dp&&!e.inputEvent&&(l+=o),this.searchString=l,this.activeConfig.returnTrigger){let c=this.searchString||e.keyCode===dp?r.substring(this.startPos,this.startPos+1):"";this.searchTerm.emit(c+this.searchString)}else this.searchTerm.emit(this.searchString);this.updateSearchList()}}}}startSearch(e,i=this._element.nativeElement){e=e||this.mentionConfig.triggerChar||this.DEFAULT_CONFIG.triggerChar;let r=eR(i,this.iframe);N0(i,r,r,e,this.iframe),this.keyHandler({key:e,inputEvent:!0},i)}stopSearch(){this.searchList&&!this.searchList.hidden&&(this.searchList.hidden=!0,this.closed.emit()),this.activeConfig=null,this.searching=!1}updateSearchList(){let e=[];if(this.activeConfig&&this.activeConfig.items){let i=this.activeConfig.items;!this.activeConfig.disableSearch&&this.searchString&&this.activeConfig.labelKey&&this.activeConfig.mentionFilter&&(i=this.activeConfig.mentionFilter(this.searchString,i)),e=i,this.activeConfig.maxItems>0&&(e=e.slice(0,this.activeConfig.maxItems))}this.searchList&&(this.searchList.items=e,this.searchList.hidden=e.length==0)}showSearchList(e){if(this.opened.emit(),this.searchList==null){let i=this._componentResolver.resolveComponentFactory(_z),r=this._viewContainerRef.createComponent(i);this.searchList=r.instance,this.searchList.itemTemplate=this.mentionListTemplate,r.instance.itemClick.subscribe(()=>{e.focus();let s={key:"Enter",keyCode:hp,wasClick:!0};this.keyHandler(s,e)})}this.searchList.labelKey=this.activeConfig.labelKey,this.searchList.dropUp=this.activeConfig.dropUp,this.searchList.styleOff=this.mentionConfig.disableStyle,this.searchList.activeIndex=0,this.searchList.position(e,this.iframe),window.requestAnimationFrame(()=>this.searchList.reset())}}return t.\u0275fac=function(e){return new(e||t)(M(Le),M(ri),M(It))},t.\u0275dir=Me({type:t,selectors:[["","mention",""],["","mentionConfig",""]],hostAttrs:["autocomplete","off"],hostBindings:function(e,i){e&1&&se("keydown",function(s){return i.keyHandler(s)})("input",function(s){return i.inputHandler(s)})("blur",function(s){return i.blurHandler(s)})},inputs:{mention:"mention",mentionConfig:"mentionConfig",mentionListTemplate:"mentionListTemplate"},outputs:{searchTerm:"searchTerm",itemSelected:"itemSelected",opened:"opened",closed:"closed"},features:[tt]}),t})(),lR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ee({type:t}),t.\u0275inj=De({imports:[Mt]}),t})();function Ez(t,n){if(t&1){let e=Ce();E(0,"img",4),se("error",function(){$(e);let r=b();return H(r.isError=!0)}),x()}if(t&2){let e=b();Dt("src",e.imageUrl||e.fallbackChannelImage,fn),Dt("alt",e.initials)}}function Sz(t,n){if(t&1&&(E(0,"div",5),ee(1),x()),t&2){let e=b();v(),_e(" ",e.initials," ")}}function xz(t,n){t&1&&j(0,"div",6)}function Tz(t,n){if(t&1&&j(0,"stream-avatar",2),t&2){let e=n.name,i=n.imageUrl,r=n.type,s=n.channel,o=n.user,a=n.location,l=n.initialsType,c=n.showOnlineIndicator;y("name",e)("imageUrl",i)("type",r)("channel",s)("user",o)("location",a)("initialsType",l)("showOnlineIndicator",c)}}function Iz(t,n){t&1&&ue(0)}function Mz(t,n){if(t&1&&j(0,"stream-icon",2),t&2){let e=n.icon;y("icon",e)}}function Az(t,n){t&1&&ue(0)}function Rz(t,n){t&1&&j(0,"stream-loading-indicator")}function Oz(t,n){t&1&&ue(0)}function kz(t,n){if(t&1){let e=Ce();E(0,"li",4),se("click",function(){let r=$(e).$implicit,s=b();return H(s.react(r))})("keyup.enter",function(){let r=$(e).$implicit,s=b();return H(s.react(r))}),E(1,"span",5),ee(2),x()()}if(t&2){let e=n.$implicit,i=b();Fe("str-chat__message-reactions-option-selected",i.isOwnReaction(e)),Gt("data-testid",e),v(2),_e(" ",i.getEmojiByReaction(e)," ")}}var _p=()=>[];function Fz(t,n){t&1&&ue(0)}function Pz(t,n){if(t&1&&(me(0),I(1,Fz,1,0,"ng-container",9),q(2,"async"),ge()),t&2){let e=b(2),i=U(7);v(),y("ngTemplateOutlet",Q(2,2,e.customTemplatesService.messageReactionsSelectorTemplate$)||i)("ngTemplateOutletContext",e.getReactionSelectorTemplateContext())}}function Nz(t,n){t&1&&ue(0)}function Lz(t,n){if(t&1&&(me(0),I(1,Nz,1,0,"ng-container",9),q(2,"async"),ge()),t&2){let e=b().$implicit,i=b(),r=U(5);v(),y("ngTemplateOutlet",Q(2,2,i.customTemplatesService.messageActionsBoxItemTemplate$)||r)("ngTemplateOutletContext",i.getMessageActionTemplateContext(e))}}function Vz(t,n){if(t&1&&(me(0)(1,6),I(2,Pz,3,4,"ng-container",7)(3,Lz,3,4,"ng-container",8),ge()()),t&2){let e=n.$implicit;v(),y("ngSwitch",e.actionName),v(),y("ngSwitchCase","react")}}function jz(t,n){if(t&1){let e=Ce();E(0,"button",10),se("click",function(){let r=$(e),s=r.actionHandler,o=r.actionHandlerExtraParams,a=b();return H(s(a.message,o))}),E(1,"li",11),ee(2),q(3,"translate"),x()()}if(t&2){let e=n.actionName,i=n.actionLabelOrTranslationKey,r=b();Gt("data-testid",e+"-action"),v(2),_e(" ",Q(3,2,r.getActionLabel(i))," ")}}function Bz(t,n){if(t&1&&j(0,"stream-message-reactions-selector",12),t&2){let e=b();y("messageId",e.message==null?null:e.message.id)("ownReactions",(e.message==null?null:e.message.own_reactions)||Da(2,_p))}}var vp=["*"];function Uz(t,n){t&1&&ue(0)}function $z(t,n){if(t&1&&(me(0),I(1,Uz,1,0,"ng-container",3),ge()),t&2){let e=b();v(),y("ngTemplateOutlet",e.content)}}function Hz(t,n){t&1&&rt(0)}var zz=(t,n)=>({type:t,content:n});function qz(t,n){if(t&1&&(E(0,"div",7),ee(1),q(2,"translate"),x()),t&2){let e=b(2).$implicit;v(),_e(" ",zn(2,1,e.text,e.translateParams)," ")}}function Wz(t,n){t&1&&ue(0)}function Gz(t,n){if(t&1&&(me(0),I(1,Wz,1,0,"ng-container",4),ge()),t&2){let e=b(2).$implicit,i=b();v(),y("ngTemplateOutlet",e.template)("ngTemplateOutletContext",i.getNotificationContentContext(e))}}function Qz(t,n){if(t&1&&I(0,qz,3,4,"div",5)(1,Gz,2,2,"ng-container",6),t&2){let e=b().$implicit;y("ngIf",e.text!==void 0),v(),y("ngIf",e.template!==void 0)}}function Yz(t,n){t&1&&ue(0)}function Kz(t,n){if(t&1&&(me(0),I(1,Qz,2,2,"ng-template",null,1,J)(3,Yz,1,0,"ng-container",4),q(4,"async"),ge()),t&2){let e=n.$implicit,i=U(2),r=b(),s=U(5);v(3),y("ngTemplateOutlet",Q(4,2,r.customTemplatesService.notificationTemplate$)||s)("ngTemplateOutletContext",Hn(4,zz,e.type,i))}}function Zz(t,n){if(t&1&&j(0,"stream-notification",8),t&2){let e=n.type,i=n.content;y("type",e)("content",i)}}var Xz=["modalInner"];function Jz(t,n){t&1&&ue(0)}function e5(t,n){if(t&1&&(me(0),I(1,Jz,1,0,"ng-container",7),ge()),t&2){let e=b();v(),y("ngTemplateOutlet",e.content)}}function t5(t,n){t&1&&rt(0)}var n5=(t,n,e,i)=>({message:t,isOpen:n,isOpenChangeHandler:e,content:i});function i5(t,n){t&1&&ue(0)}function r5(t,n){if(t&1){let e=Ce();E(0,"stream-modal",4),se("isOpenChange",function(r){$(e);let s=b().isOpenChangeHandler;return H(s(r))}),x()}if(t&2){let e=b(),i=e.isOpen,r=e.content;y("isOpen",i)("content",r)}}function s5(t,n){if(t&1&&I(0,r5,1,2,"stream-modal",3),t&2){let e=n.isOpen;y("ngIf",e)}}function o5(t,n){if(t&1){let e=Ce();E(0,"div",5)(1,"div",6),ee(2),q(3,"translate"),x(),E(4,"div",7)(5,"button",8),se("click",function(){$(e);let r=b();return H(r.editMessage())})("keyup.enter",function(){$(e);let r=b();return H(r.editMessage())}),ee(6),q(7,"translate"),x(),E(8,"button",9),se("click",function(){$(e);let r=b();return H(r.resendMessage())})("keyup.enter",function(){$(e);let r=b();return H(r.resendMessage())}),ee(9),q(10,"translate"),x(),E(11,"button",10),se("click",function(){$(e);let r=b();return H(r.deleteMessage())})("keyup.enter",function(){$(e);let r=b();return H(r.deleteMessage())}),ee(12),q(13,"translate"),x()()()}t&2&&(v(2),_e(" ",Q(3,4,"streamChat.This message did not meet our content guidelines")," "),v(4),_e(" ",Q(7,6,"streamChat.Edit Message")," "),v(3),_e(" ",Q(10,8,"streamChat.Send Anyway")," "),v(3),_e(" ",Q(13,10,"streamChat.Delete")," "))}var a5=["*",[["","name","thread"]]],l5=["*",'[name="thread"]'];function c5(t,n){t&1&&ue(0)}function u5(t,n){t&1&&j(0,"stream-message-bounce-prompt")}function d5(t,n){t&1&&rt(0,1,["*ngIf","isActiveThread$ | async"])}function h5(t,n){if(t&1&&(E(0,"div",3),I(1,c5,1,0,"ng-container",4),q(2,"async"),I(3,u5,1,0,"ng-template",null,1,J),E(5,"div",5),rt(6),x(),I(7,d5,1,0,"ng-content",6),q(8,"async"),x()),t&2){let e=U(4),i=b();v(),y("ngTemplateOutlet",Q(2,2,i.customTemplatesService.messageBouncePromptTemplate$)||e),v(6),y("ngIf",Q(8,4,i.isActiveThread$))}}function f5(t,n){t&1&&(E(0,"div",9),j(1,"stream-icon",10),E(2,"p",11),ee(3),q(4,"translate"),x(),E(5,"div",12),j(6,"stream-notification-list"),x()()),t&2&&(v(3),_e(" ",Q(4,1,"streamChat.No chats here yet\u2026")," "))}function p5(t,n){t&1&&(E(0,"div",13)(1,"div",14),j(2,"div",15),E(3,"div",16),j(4,"div",17)(5,"div",18),x()(),E(6,"div",19)(7,"div",20),j(8,"div",21),E(9,"div",22),j(10,"div",23),E(11,"div",24),j(12,"div",25)(13,"div",26),x()()(),E(14,"div",20),j(15,"div",21),E(16,"div",22),j(17,"div",23),E(18,"div",24),j(19,"div",25)(20,"div",26),x()()(),E(21,"div",20),j(22,"div",21),E(23,"div",22),j(24,"div",23),E(25,"div",24),j(26,"div",25)(27,"div",26),x()()()(),E(28,"div",27),j(29,"div",28)(30,"div",29),x()())}function m5(t,n){if(t&1&&(I(0,f5,7,3,"div",7),q(1,"async"),q(2,"async"),q(3,"async"),I(4,p5,31,0,"div",8),q(5,"async"),q(6,"async"),q(7,"async")),t&2){let e=b();y("ngIf",Q(1,2,e.isInitializing$)===!1&&(Q(2,4,e.isError$)===!0||Q(3,6,e.isActiveChannel$)===!1)),v(4),y("ngIf",Q(5,8,e.isInitializing$)===!0&&Q(6,10,e.isError$)===!1&&Q(7,12,e.isActiveChannel$)===!1)}}function g5(t,n){t&1&&ue(0)}function _5(t,n){if(t&1&&(E(0,"p",7),ee(1),q(2,"translate"),q(3,"translate"),x()),t&2){let e=b();v(),Kl(" ",zn(2,2,"streamChat.{{ memberCount }} members",e.memberCountParam)," ",e.canReceiveConnectEvents?zn(3,5,"streamChat.{{ watcherCount }} online",e.watcherCountParam):""," ")}}function v5(t,n){t&1&&ue(0)}function y5(t,n){if(t&1&&(me(0),I(1,v5,1,0,"ng-container",5),ge()),t&2){let e=b();v(),y("ngTemplateOutlet",e.channelActionsTemplate)("ngTemplateOutletContext",e.getChannelActionsContext())}}var b5=(t,n,e,i,r,s,o)=>({channelDisplayTitle:t,channel:n,unreadCount:e,latestMessageText:i,latestMessageStatus:r,latestMessageTime:s,latestMessage:o});function C5(t,n){t&1&&ue(0)}function w5(t,n){if(t&1&&(E(0,"div",16),ee(1),x()),t&2){let e=b().unreadCount;v(),_e(" ",e," ")}}function D5(t,n){if(t&1&&(me(0),ee(1),q(2,"translate"),ge()),t&2){let e=b().latestMessageText;v(),_e(" ",Q(2,1,e)," ")}}function E5(t,n){if(t&1&&(j(0,"span",17),q(1,"translate")),t&2){let e=b().latestMessageText;y("innerHTML",Q(1,1,e),Qr)}}function S5(t,n){if(t&1&&(E(0,"div",18),j(1,"stream-icon-placeholder",19),x()),t&2){let e=b().latestMessageStatus;yn("str-chat__channel-preview-messenger--status str-chat__channel-preview-messenger--status-",e,""),v(),y("icon",e==="delivered"?"delivered":"read")}}function x5(t,n){if(t&1&&(E(0,"div",20),ee(1),x()),t&2){let e=b().latestMessageTime;v(),_e(" ",e," ")}}function T5(t,n){if(t&1&&(E(0,"div",7)(1,"div",8)(2,"span",9),ee(3),x()(),I(4,w5,2,1,"div",10),x(),E(5,"div",11)(6,"div",12),I(7,D5,3,3,"ng-container",13)(8,E5,2,3,"ng-template",null,1,J),x(),I(10,S5,2,4,"div",14)(11,x5,2,1,"div",15),x()),t&2){let e=n.channelDisplayTitle,i=n.unreadCount,r=n.latestMessageStatus,s=n.latestMessageTime,o=U(9),a=b();v(3),bn(e),v(),y("ngIf",i),v(3),y("ngIf",a.displayAs==="text")("ngIfElse",o),v(3),y("ngIf",r),v(),y("ngIf",s)}}var _R=["container"],I5=(t,n)=>({item:t,index:n});function M5(t,n){}function A5(t,n){if(t&1&&I(0,M5,0,0,"ng-template",7),t&2){let e=b(),i=e.$implicit,r=e.index,s=b();y("ngTemplateOutlet",s.itemTempalteRef)("ngTemplateOutletContext",Hn(2,I5,i,r))}}function R5(t,n){if(t&1&&(E(0,"div",5),I(1,A5,1,5,null,6),x()),t&2){let e=b();v(),y("ngIf",e.itemTempalteRef)}}function O5(t,n){if(t&1){let e=Ce();E(0,"button",8),se("click",function(){$(e);let r=b();return H(r.loadMore.emit())})("keyup.enter",function(){$(e);let r=b();return H(r.loadMore.emit())}),E(1,"span"),ee(2),q(3,"translate"),x()()}if(t&2){let e=b();y("disabled",e.isLoading),v(2),bn(Q(3,2,"Load more"))}}function k5(t,n){t&1&&j(0,"stream-loading-indicator-placeholder",9)}var F5=[[["","channel-list-top",""]],[["","channel-list-bottom",""]]],P5=["[channel-list-top]","[channel-list-bottom]"],N5=t=>({channel:t});function L5(t,n){t&1&&(E(0,"div",13),j(1,"stream-icon",14),E(2,"p",15),ee(3),q(4,"translate"),x()()),t&2&&(v(3),_e(" ",Q(4,1,"streamChat.You have no channels currently")," "))}function V5(t,n){t&1&&(E(0,"p",16),ee(1),q(2,"translate"),x()),t&2&&(v(),_e(" ",Q(2,1,"streamChat.You have no channels currently")," "))}function j5(t,n){if(t&1&&j(0,"stream-channel-preview",18),t&2){let e=n.channel;y("channel",e)}}function B5(t,n){t&1&&ue(0)}function U5(t,n){if(t&1&&(I(0,j5,1,1,"ng-template",null,5,J),E(2,"div"),I(3,B5,1,0,"ng-container",17),x()),t&2){let e=n.item,i=U(1),r=b(2);v(3),y("ngTemplateOutlet",r.customChannelPreviewTemplate||i)("ngTemplateOutletContext",ft(2,N5,e))}}function $5(t,n){if(t&1){let e=Ce();E(0,"div",8)(1,"div",9),rt(2),I(3,L5,5,3,"div",10),q(4,"async"),I(5,V5,3,3,"p",11),q(6,"async"),E(7,"stream-paginated-list",12),q(8,"async"),q(9,"async"),se("loadMore",function(){$(e);let r=b();return H(r.loadMoreChannels())}),I(10,U5,4,4,"ng-template"),x(),rt(11,1),x()()}if(t&2){let e,i,r,s,o=b();v(3),y("ngIf",!((e=Q(4,6,o.channels$))!=null&&e.length)),v(2),y("ngIf",!((i=Q(6,8,o.channels$))!=null&&i.length)),v(2),y("items",(r=Q(8,10,o.channels$))!==null&&r!==void 0?r:Da(14,_p))("hasMore",(s=Q(9,12,o.hasMoreChannels$))!==null&&s!==void 0?s:!1)("isLoading",o.isLoadingMoreChannels)("trackBy",o.trackByChannelId)}}function H5(t,n){t&1&&ue(0)}function z5(t,n){if(t&1&&(me(0),I(1,H5,1,0,"ng-container",20),ge()),t&2){b(2);let e=U(9);v(),y("ngTemplateOutlet",e)}}function q5(t,n){t&1&&ue(0)}function W5(t,n){if(t&1&&(me(0),I(1,q5,1,0,"ng-container",20),ge()),t&2){b(2);let e=U(11);v(),y("ngTemplateOutlet",e)}}function G5(t,n){if(t&1&&(I(0,z5,2,1,"ng-container",19),q(1,"async"),I(2,W5,2,1,"ng-container",19),q(3,"async")),t&2){let e=b();y("ngIf",Q(1,2,e.isError$)),v(2),y("ngIf",Q(3,4,e.isInitializing$))}}function Q5(t,n){t&1&&ue(0)}function Y5(t,n){if(t&1&&(E(0,"div",21),I(1,Q5,1,0,"ng-container",20),x()),t&2){b();let e=U(11);v(),y("ngTemplateOutlet",e)}}function K5(t,n){t&1&&ue(0)}function Z5(t,n){t&1&&ue(0)}function X5(t,n){t&1&&ue(0)}function J5(t,n){if(t&1&&(E(0,"div",22),I(1,K5,1,0,"ng-container",20)(2,Z5,1,0,"ng-container",20)(3,X5,1,0,"ng-container",20),x()),t&2){b();let e=U(13);v(),y("ngTemplateOutlet",e),v(),y("ngTemplateOutlet",e),v(),y("ngTemplateOutlet",e)}}function eq(t,n){t&1&&(E(0,"div",23),j(1,"div",24),E(2,"div",25),j(3,"div",26)(4,"div",27),x()())}var tq=t=>({"inset-inline-start":t});function nq(t,n){if(t&1&&j(0,"div",4),t&2){let e=n.$implicit,i=n.index,r=b();Un("--str-chat__wave-progress-bar__amplitude-bar-height",e?e*100+"%":"0%"),Fe("str-chat__wave-progress-bar__amplitude-bar--active",r.progress>i/r.resampledWaveFormData.length)}}var iq=["audioElement"];function rq(t,n){t&1&&(me(0),E(1,"div",15),j(2,"stream-icon-placeholder",16),E(3,"span",17),ee(4),q(5,"translate"),x()(),ge()),t&2&&(v(4),bn(Q(5,1,"streamChat.Error playing audio")))}function sq(t,n){if(t&1&&(E(0,"span",22),ee(1),x()),t&2){let e=b(2),i=U(2);v(),_e(" ",e.secondsElapsed>0||!i.paused?e.secondsElapsedFormatted:e.durationFormatted,"")}}function oq(t,n){if(t&1&&(E(0,"span",23),ee(1),x()),t&2){let e=b(2);v(),_e(" ",e.fileSize," ")}}function aq(t,n){if(t&1&&j(0,"stream-voice-recording-wavebar",24),t&2){let e=b(2),i=U(2);y("waveFormData",(e.attachment==null?null:e.attachment.waveform_data)||Da(3,_p))("duration",e.attachment==null?null:e.attachment.duration)("audioElement",i)}}function lq(t,n){if(t&1&&(E(0,"div",18)(1,"div",19),I(2,sq,2,1,"span",20)(3,oq,2,1,"ng-template",null,3,J),x(),I(5,aq,1,4,"stream-voice-recording-wavebar",21),x()),t&2){let e=U(4),i=b();v(2),y("ngIf",!!(i.attachment!=null&&i.attachment.duration))("ngIfElse",e),v(3),y("ngIf",(i.attachment==null?null:i.attachment.waveform_data)&&(i.attachment==null?null:i.attachment.duration))}}function cq(t,n){if(t&1){let e=Ce();E(0,"button",25),se("click",function(){$(e);let r=b();return H(r.setPlaybackRate())}),ee(1),q(2,"number"),x()}if(t&2){b();let e=U(2);v(),_e(" ",zn(2,1,e==null?null:e.playbackRate,"1.1-1"),"x ")}}function uq(t,n){t&1&&j(0,"stream-icon-placeholder",26)}var dq=["modalContent"],hq=(t,n,e,i)=>({height:t,width:n,"--original-height":e,"--original-width":i}),Z0=(t,n)=>({height:t,width:n}),fq=(t,n,e,i,r)=>({"background-image":t,height:n,width:e,"--original-height":i,"--original-width":r}),pq=t=>({imageCount:t}),mq=(t,n,e)=>({messageId:t,parentMessageId:n,attachments:e}),gq=(t,n)=>({width:t,height:n}),cR=t=>({visibility:t});function _q(t,n){t&1&&ue(0)}function vq(t,n){if(t&1){let e=Ce();E(0,"img",19,3),se("click",function(){let r=$(e).attachment,s=b(4);return H(s.openImageModal([r]))})("keyup.enter",function(){let r=$(e).attachment,s=b(4);return H(s.openImageModal([r]))}),x()}if(t&2){let e=n.attachment,i=U(1),r=b(4);y("src",r.getImageAttachmentConfiguration(e,"single",i).url,fn)("alt",e==null?null:e.fallback)("ngStyle",xh(3,hq,r.getImageAttachmentConfiguration(e,"single",i).height,r.getImageAttachmentConfiguration(e,"single",i).width,r.getImageAttachmentConfiguration(e,"single",i).originalHeight,r.getImageAttachmentConfiguration(e,"single",i).originalWidth))}}function yq(t,n){if(t&1&&(me(0),I(1,_q,1,0,"ng-container",18),q(2,"async"),I(3,vq,2,8,"ng-template",null,2,J),ge()),t&2){let e=U(4),i=b().$implicit,r=b(2);v(),y("ngTemplateOutlet",Q(2,2,r.customTemplatesService.imageAttachmentTemplate$)||e)("ngTemplateOutletContext",r.getAttachmentContext(i))}}function bq(t,n){t&1&&ue(0)}function Cq(t,n){if(t&1){let e=Ce();E(0,"button",23),se("click",function(){$(e);let r=b().index,s=b().attachment,o=b(4);return H(o.openImageModal(s.images,r))})("keyup.enter",function(){$(e);let r=b().index,s=b().attachment,o=b(4);return H(o.openImageModal(s.images,r))}),j(1,"img",24,3),x()}if(t&2){let e=U(2),i=b().$implicit,r=b(5);Fe("str-chat__message-attachment--svg-image",r.isSvg(i)),v(),Un("--original-height",r.getImageAttachmentConfiguration(i,"gallery",e).originalHeight)("--original-width",r.getImageAttachmentConfiguration(i,"gallery",e).originalWidth),y("src",r.getImageAttachmentConfiguration(i,"gallery",e).url,fn)("alt",i.fallback)("ngStyle",Hn(9,Z0,r.getImageAttachmentConfiguration(i,"gallery",e).height,r.getImageAttachmentConfiguration(i,"gallery",e).width))}}function wq(t,n){if(t&1){let e=Ce();E(0,"button",25,5),se("click",function(){$(e);let r=b().index,s=b().attachment,o=b(4);return H(o.openImageModal(s.images,r))})("keyup.enter",function(){$(e);let r=b().index,s=b().attachment,o=b(4);return H(o.openImageModal(s.images,r))}),j(2,"p",26),q(3,"translate"),x()}if(t&2){let e=U(1),i=b().$implicit,r=b().attachment,s=b(4);Fe("str-chat__message-attachment--svg-image",s.isSvg(i)),y("ngStyle",Th(7,fq,"url("+s.getImageAttachmentConfiguration(i,"gallery",e).url+")",s.getImageAttachmentConfiguration(i,"gallery",e).height,s.getImageAttachmentConfiguration(i,"gallery",e).width,s.getImageAttachmentConfiguration(i,"gallery",e).originalHeight,s.getImageAttachmentConfiguration(i,"gallery",e).originalWidth)),v(2),y("innerHTML",zn(3,4,"streamChat.{{ imageCount }} more",ft(13,pq,r.images.length-4)),Qr)}}function Dq(t,n){if(t&1&&(me(0),I(1,Cq,3,12,"button",21)(2,wq,4,15,"button",22),ge()),t&2){let e=n.index,i=n.last;v(),y("ngIf",e<3||e===3&&i),v(),y("ngIf",e===3&&!i)}}function Eq(t,n){if(t&1&&(E(0,"div",20),I(1,Dq,3,2,"ng-container",15),x()),t&2){let e=n.attachment,i=b(4);Fe("str-chat__gallery--square",(e==null?null:e.images.length)>3)("str-chat__gallery-two-rows",(e==null?null:e.images.length)>2),v(),y("ngForOf",e.images)("ngForTrackBy",i.trackByImageUrl)}}function Sq(t,n){if(t&1&&(me(0),I(1,bq,1,0,"ng-container",18),q(2,"async"),I(3,Eq,2,6,"ng-template",null,4,J),ge()),t&2){let e=U(4),i=b().$implicit,r=b(2);v(),y("ngTemplateOutlet",Q(2,2,r.customTemplatesService.galleryAttachmentTemplate$)||e)("ngTemplateOutletContext",r.getAttachmentContext(i))}}function xq(t,n){t&1&&ue(0)}function Tq(t,n){if(t&1&&(E(0,"div",27),j(1,"video",28,7),x()),t&2){let e=n.attachment,i=U(2),r=b(4);Un("--original-height",r.getVideoAttachmentConfiguration(e,i).originalHeight)("--original-width",r.getVideoAttachmentConfiguration(e,i).originalWidth),y("ngStyle",Hn(7,Z0,r.getVideoAttachmentConfiguration(e,i).height,r.getVideoAttachmentConfiguration(e,i).width)),v(),y("src",r.getVideoAttachmentConfiguration(e,i).url,fn)("poster",r.getVideoAttachmentConfiguration(e,i).thumbUrl,fn)}}function Iq(t,n){if(t&1&&(me(0),I(1,xq,1,0,"ng-container",18),q(2,"async"),I(3,Tq,3,10,"ng-template",null,6,J),ge()),t&2){let e=U(4),i=b().$implicit,r=b(2);v(),y("ngTemplateOutlet",Q(2,2,r.customTemplatesService.videoAttachmentTemplate$)||e)("ngTemplateOutletContext",r.getAttachmentContext(i))}}function Mq(t,n){t&1&&ue(0)}function Aq(t,n){if(t&1&&(E(0,"span",36),ee(1),x()),t&2){let e=b().attachment,i=b(4);v(),bn(i.getFileSize(e))}}function Rq(t,n){if(t&1&&(E(0,"div",29),j(1,"stream-icon-placeholder",30),E(2,"div",31)(3,"a",32)(4,"div",33),ee(5),x(),j(6,"stream-icon-placeholder",34),x(),I(7,Aq,2,1,"span",35),x()()),t&2){let e=n.attachment,i=b(4);v(3),Dt("href",e.asset_url,fn),v(2),_e(" ",e.title," "),v(2),y("ngIf",i.hasFileSize(e))}}function Oq(t,n){if(t&1&&(me(0),I(1,Mq,1,0,"ng-container",18),q(2,"async"),I(3,Rq,8,3,"ng-template",null,8,J),ge()),t&2){let e=U(4),i=b().$implicit,r=b(2);v(),y("ngTemplateOutlet",Q(2,2,r.customTemplatesService.fileAttachmentTemplate$)||e)("ngTemplateOutletContext",r.getAttachmentContext(i))}}function kq(t,n){t&1&&ue(0)}function Fq(t,n){if(t&1&&j(0,"stream-voice-recording",37),t&2){let e=b(2).$implicit;y("attachment",e)}}function Pq(t,n){if(t&1&&(me(0),I(1,kq,1,0,"ng-container",18),q(2,"async"),I(3,Fq,1,1,"ng-template",null,9,J),ge()),t&2){let e=U(4),i=b().$implicit,r=b(2);v(),y("ngTemplateOutlet",Q(2,2,r.customTemplatesService.voiceRecordingAttachmentTemplate$)||e)("ngTemplateOutletContext",r.getAttachmentContext(i))}}function Nq(t,n){t&1&&ue(0)}function Lq(t,n){t&1&&rt(0,0,["*ngTemplateOutlet","cardImage"])}function Vq(t,n){if(t&1&&(E(0,"a",46),I(1,Lq,1,0,"ng-content",47),j(2,"div",48)(3,"stream-icon-placeholder",49),x()),t&2){b();let e=U(3),i=b().attachment;y("href",i.title_link||i.og_scrape_url,fn),v(),y("ngTemplateOutlet",e)}}function jq(t,n){if(t&1&&j(0,"img",50),t&2){let e=b(3).ngIf;Dt("alt",e.url),Dt("src",e.url,fn),y("ngStyle",Hn(3,Z0,e.height,e.width))}}function Bq(t,n){if(t&1&&(E(0,"div",44),I(1,Vq,4,2,"a",45)(2,jq,1,6,"ng-template",null,11,J),x()),t&2){let e=U(3),i=b().attachment;v(),y("ngIf",i.type==="video")("ngIfElse",e)}}function Uq(t,n){if(t&1&&(E(0,"div",51),ee(1),x()),t&2){let e=b().attachment;v(),_e(" ",e.title," ")}}function $q(t,n){if(t&1&&(E(0,"div",52),ee(1),x()),t&2){let e=b().attachment;v(),_e(" ",e.text," ")}}function Hq(t,n){if(t&1&&(E(0,"a",53),ee(1),x()),t&2){let e=b().attachment,i=b(4);Dt("href",e.title_link||e.og_scrape_url,fn),v(),_e(" ",i.trimUrl(e.title_link||e.og_scrape_url)," ")}}function zq(t,n){if(t&1&&(E(0,"div"),I(1,Bq,4,2,"div",38),E(2,"div",39)(3,"div",40),I(4,Uq,2,1,"div",41)(5,$q,2,1,"div",42)(6,Hq,2,2,"a",43),x()()()),t&2){let e=n.attachment,i=b().ngIf;yn("str-chat__message-attachment-card str-chat__message-attachment-card--",e.type,""),v(),y("ngIf",i.url),v(3),y("ngIf",e.title),v(),y("ngIf",e.text),v(),y("ngIf",e.title_link||e.og_scrape_url)}}function qq(t,n){if(t&1&&(me(0),I(1,Nq,1,0,"ng-container",18),q(2,"async"),I(3,zq,7,7,"ng-template",null,10,J),ge()),t&2){let e=U(4),i=b().$implicit,r=b(2);v(),y("ngTemplateOutlet",Q(2,2,r.customTemplatesService.cardAttachmentTemplate$)||e)("ngTemplateOutletContext",r.getAttachmentContext(i))}}function Wq(t,n){t&1&&ue(0)}function Gq(t,n){if(t&1){let e=Ce();E(0,"button",57),se("click",function(){let r=$(e).$implicit,s=b(5);return H(s.sendAction(r))})("keyup.enter",function(){let r=$(e).$implicit,s=b(5);return H(s.sendAction(r))}),ee(1),x()}if(t&2){let e=n.$implicit;yn("str-chat__message-attachment-actions-button str-chat__message-attachment-actions-button--",e.style,""),v(),_e(" ",e.text," ")}}function Qq(t,n){if(t&1&&(E(0,"div",54)(1,"div",55),I(2,Gq,2,4,"button",56),x()()),t&2){let e=n.attachment,i=b(4);v(2),y("ngForOf",e.actions)("ngForTrackBy",i.trackByActionValue)}}function Yq(t,n){if(t&1&&(me(0),I(1,Wq,1,0,"ng-container",18),q(2,"async"),I(3,Qq,3,2,"ng-template",null,12,J),ge()),t&2){let e=U(4),i=b().$implicit,r=b(2);v(),y("ngTemplateOutlet",Q(2,2,r.customTemplatesService.attachmentActionsTemplate$)||e)("ngTemplateOutletContext",r.getAttachmentContext(i))}}function Kq(t,n){if(t&1&&(me(0),E(1,"div",17),I(2,yq,5,4,"ng-container",16)(3,Sq,5,4,"ng-container",16)(4,Iq,5,4,"ng-container",16)(5,Oq,5,4,"ng-container",16)(6,Pq,5,4,"ng-container",16)(7,qq,5,4,"ng-container",16)(8,Yq,5,4,"ng-container",16),x(),ge()),t&2){let e=n.$implicit,i=b(2);v(),yn("str-chat__message-attachment str-chat__message-attachment--",e.type," str-chat__message-attachment-dynamic-size"),Fe("str-chat__message-attachment--card",i.isCard(e))("str-chat-angular__message-attachment-file-single",i.isFile(e))("str-chat__message-attachment--voice-recording",i.isVoiceMessage(e))("str-chat__message-attachment-with-actions",e.actions&&e.actions.length>0)("str-chat__message-attachment--svg-image",i.isSvg(e)),v(),y("ngIf",i.isImage(e)),v(),y("ngIf",i.isGallery(e)),v(),y("ngIf",i.isVideo(e)),v(),y("ngIf",i.isFile(e)),v(),y("ngIf",i.isVoiceMessage(e)),v(),y("ngIf",i.isCard(e)&&i.getCardAttachmentConfiguration(e)),v(),y("ngIf",e.actions&&e.actions.length>0)}}function Zq(t,n){}function Xq(t,n){t&1&&I(0,Zq,0,0,"ng-template")}function Jq(t,n){if(t&1&&(me(0),I(1,Xq,1,0,null,18),ge()),t&2){let e=b(2);v(),y("ngTemplateOutlet",e.customAttachmentsTemplate)("ngTemplateOutletContext",Sh(2,mq,e.messageId,e.parentMessageId,e.customAttachments))}}function e7(t,n){t&1&&ue(0)}function t7(t,n){if(t&1&&(me(0),I(1,e7,1,0,"ng-container",18),q(2,"async"),ge()),t&2){let e=b(2),i=U(2);v(),y("ngTemplateOutlet",Q(2,2,e.customTemplatesService.modalTemplate$)||i)("ngTemplateOutletContext",e.getModalContext())}}function n7(t,n){if(t&1&&(E(0,"div",14),I(1,Kq,9,20,"ng-container",15)(2,Jq,2,6,"ng-container",16)(3,t7,3,4,"ng-container",16),x()),t&2){let e=b();v(),y("ngForOf",e.orderedAttachments)("ngForTrackBy",e.trackByUrl),v(),y("ngIf",e.customAttachmentsTemplate),v(),y("ngIf",e.imagesToView&&e.imagesToView.length>0)}}function i7(t,n){if(t&1){let e=Ce();E(0,"stream-modal",58),se("isOpenChange",function(r){let s=$(e).isOpenChangeHandler;return H(s(r))}),x()}if(t&2){let e=n.isOpen,i=n.content;y("isOpen",e)("content",i)}}function r7(t,n){if(t&1){let e=Ce();E(0,"div",59),j(1,"img",60,3),E(3,"div")(4,"button",61),se("click",function(){$(e);let r=b();return H(r.stepImages(-1))})("keyup.enter",function(){$(e);let r=b();return H(r.stepImages(-1))}),j(5,"stream-icon-placeholder",62),x(),E(6,"button",63),se("click",function(){$(e);let r=b();return H(r.stepImages(1))})("keyup.enter",function(){$(e);let r=b();return H(r.stepImages(1))}),j(7,"stream-icon-placeholder",64),x()()()}if(t&2){let e=U(2),i=b();v(),Un("--original-height",i.getCarouselImageAttachmentConfiguration(i.imagesToView[i.imagesToViewCurrentIndex],e).originalHeight)("--original-width",i.getCarouselImageAttachmentConfiguration(i.imagesToView[i.imagesToViewCurrentIndex],e).originalWidth),y("src",i.getCarouselImageAttachmentConfiguration(i.imagesToView[i.imagesToViewCurrentIndex],e).url,fn)("alt",i.imagesToView[i.imagesToViewCurrentIndex].fallback)("ngStyle",Hn(9,gq,i.getCarouselImageAttachmentConfiguration(i.imagesToView[i.imagesToViewCurrentIndex],e).width,i.getCarouselImageAttachmentConfiguration(i.imagesToView[i.imagesToViewCurrentIndex],e).height)),v(3),y("ngStyle",ft(12,cR,i.isImageModalPrevButtonVisible?"visible":"hidden")),v(2),y("ngStyle",ft(14,cR,i.isImageModalNextButtonVisible?"visible":"hidden"))}}function s7(t,n){if(t&1&&(E(0,"div",1),j(1,"stream-avatar-placeholder",2),E(2,"span",3),ee(3),x()()),t&2){let e=n.item;v(),y("imageUrl",e.image)("name",e.name)("user",e),v(2),bn(e.name)}}var o7=["selectorContainer"],a7=(t,n,e,i,r)=>({isOpen:t,messageId:n,reactionType:e,isOpenChangeHandler:i,content:r});function l7(t,n){if(t&1){let e=Ce();E(0,"li",7),se("click",function(){let r=$(e).$implicit,s=b(2);return H(s.reactionSelected(r))})("keyup.enter",function(){let r=$(e).$implicit,s=b(2);return H(s.reactionSelected(r))}),E(1,"span",8),ee(2),x(),E(3,"span",9),ee(4),x()()}if(t&2){let e,i=n.$implicit,r=b(2);Fe("str-chat__message-reaction-own",r.isOwnReaction(i)),v(2),_e(" ",r.getEmojiByReaction(i),"\xA0 "),v(2),_e(" ",(e=r.messageReactionGroups==null||r.messageReactionGroups[i]==null?null:r.messageReactionGroups[i].count)!==null&&e!==void 0?e:0," ")}}function c7(t,n){if(t&1&&(E(0,"div",4)(1,"ul",5),I(2,l7,5,4,"li",6),x()()),t&2){let e=b();Fe("str-chat__reaction-list--reverse",!0),v(2),y("ngForOf",e.existingReactions)("ngForTrackBy",e.trackByMessageReaction)}}function u7(t,n){t&1&&ue(0)}function d7(t,n){if(t&1&&(me(0),I(1,u7,1,0,"ng-container",10),q(2,"async"),ge()),t&2){let e=b(),i=U(3),r=U(5);v(),y("ngTemplateOutlet",Q(2,2,e.customTemplatesService.modalTemplate$)||i)("ngTemplateOutletContext",Th(4,a7,!!e.selectedReactionType,e.messageId,e.selectedReactionType,e.isOpenChange,r))}}function h7(t,n){if(t&1){let e=Ce();E(0,"stream-modal",11),se("isOpenChange",function(r){let s=$(e).isOpenChangeHandler;return H(s(r))}),x()}if(t&2){let e=n.isOpen,i=n.content;y("isOpen",e)("content",i)}}function f7(t,n){if(t&1){let e=Ce();E(0,"div",18),se("click",function(){let r=$(e).$implicit,s=b(2);return H(s.reactionSelected(r))})("keyup.enter",function(){let r=$(e).$implicit,s=b(2);return H(s.reactionSelected(r))}),E(1,"span",8),ee(2),x(),E(3,"span",19),ee(4),x()()}if(t&2){let e,i=n.$implicit,r=b(2);Fe("str-chat__message-reactions-details-reaction-type--selected",i===r.selectedReactionType),Yl("data-testid","reaction-details-selector-",i,""),v(2),_e(" ",r.getEmojiByReaction(i),"\xA0 "),v(2),_e(" ",(e=r.messageReactionGroups==null||r.messageReactionGroups[i]==null?null:r.messageReactionGroups[i].count)!==null&&e!==void 0?e:0," ")}}function p7(t,n){if(t&1){let e=Ce();me(0),E(1,"stream-user-list",20),se("loadMore",function(){$(e);let r=b(2);return H(r.loadNextPageOfReactions())}),x(),ge()}if(t&2){let e=n.$implicit,i=b(2);v(),Un("display",i.selectedReactionType===e?"block":"none"),Yl("data-testid","",e,"-user-list"),y("users",(i.usersByReactions[e]==null?null:i.usersByReactions[e].users)||Da(7,_p))("isLoading",i.isLoading)("hasMore",!!(i.usersByReactions[e]!=null&&i.usersByReactions[e].next)||!1)}}function m7(t,n){if(t&1&&(E(0,"div",12)(1,"div",13),I(2,f7,5,6,"div",14),x(),E(3,"div",15),ee(4),x(),E(5,"div",16),I(6,p7,2,8,"ng-container",17),x()()),t&2){let e=b();v(2),y("ngForOf",e.existingReactions)("ngForTrackBy",e.trackByMessageReaction),v(2),_e(" ",e.getEmojiByReaction(e.selectedReactionType)," "),v(2),y("ngForOf",e.existingReactions)("ngForTrackBy",e.trackByMessageReaction)}}function g7(t,n){if(t&1&&j(0,"span",9),t&2){let e=b().$implicit;y("innerHTML",e.content,Qr)}}function _7(t,n){if(t&1&&(E(0,"span",11),ee(1),x()),t&2){let e=n.content;v(),bn(e)}}function v7(t,n){t&1&&ue(0)}function y7(t,n){if(t&1&&(I(0,_7,2,1,"ng-template",null,2,J)(2,v7,1,0,"ng-container",10),q(3,"async")),t&2){let e=U(1),i=b().$implicit,r=b(3);v(2),y("ngTemplateOutlet",Q(3,2,r.customTemplatesService.mentionTemplate$)||e)("ngTemplateOutletContext",r.getMentionContext(i))}}function b7(t,n){if(t&1&&(me(0),I(1,g7,1,1,"span",8)(2,y7,4,4,"ng-template",null,1,J),ge()),t&2){let e=n.$implicit,i=U(3);v(),y("ngIf",e.type==="text")("ngIfElse",i)}}function C7(t,n){if(t&1&&(me(0),I(1,b7,4,2,"ng-container",7),ge()),t&2){let e=b(2);v(),y("ngForOf",e.messageTextParts)}}function w7(t,n){if(t&1&&(me(0),ee(1),ge()),t&2){let e=b(3);v(),_e(" ",e.messageText||""," ")}}function D7(t,n){if(t&1&&j(0,"span",12),t&2){let e=b(3);y("innerHTML",e.messageText,Qr)}}function E7(t,n){if(t&1&&I(0,w7,2,1,"ng-container",6)(1,D7,1,1,"ng-template",null,3,J),t&2){let e=U(2),i=b(2);y("ngIf",i.displayAs==="text")("ngIfElse",e)}}function S7(t,n){if(t&1&&(E(0,"p",5),I(1,C7,2,1,"ng-container",6)(2,E7,3,2,"ng-template",null,0,J),x()),t&2){let e=U(3),i=b();Fe("str-chat__quoted-message-text-value",i.isQuoted)("str-chat__message-text-value",!i.isQuoted),v(),y("ngIf",i.messageTextParts)("ngIfElse",e)}}var x7=["messageMenuTrigger"],T7=["messageMenuFloat"],I7=["messageTextElement"],M7=["messageBubble"],X0=t=>({message:t}),A7=(t,n)=>({"str-chat__message-edited-timestamp--open":t,"str-chat__message-edited-timestamp--collapsed":n});function R7(t,n){if(t&1){let e=Ce();E(0,"div",40),se("click",function(){$(e);let r=b(4);return H(r.messageOptionsButtonClicked())})("keyup.enter",function(){$(e);let r=b(4);return H(r.messageOptionsButtonClicked())}),j(1,"stream-icon-placeholder",41),x()}}function O7(t,n){if(t&1){let e=Ce();E(0,"div",37)(1,"div",38,11),se("onSHown",function(){$(e);let r=b(3);return H(r.areMessageOptionsOpen=!0)})("onHidden",function(){$(e);let r=b(3);return H(r.areMessageOptionsOpen=!1)}),I(3,R7,2,0,"div",39),x()()}if(t&2){b();let e=U(12),i=b(2);Fe("str-chat__message-actions-open",i.areMessageOptionsOpen),v(),y("floatUiLoose",e)("looseTrigger",i.messageActionsService.customActionClickHandler?"none":"click")("hideOnScroll",!1)("hideOnClickOutside",!0)("hideOnMouseLeave",!1)("disableAnimation",!1)("preventOverflow",!0)("positionFixed",!0),v(2),y("ngIf",i.visibleMessageActionsCount>0)}}function k7(t,n){}function F7(t,n){t&1&&I(0,k7,0,0,"ng-template")}function P7(t,n){if(t&1&&(me(0),I(1,F7,1,0,null,31),q(2,"async"),ge()),t&2){let e=b(3);v(),y("ngTemplateOutlet",Q(2,2,e.customTemplatesService.customMessageMetadataInsideBubbleTemplate$))("ngTemplateOutletContext",ft(4,X0,e.message))}}function N7(t,n){if(t&1&&j(0,"stream-message-reactions",42),t&2){let e=n.messageReactionCounts,i=n.latestReactions,r=n.messageId,s=n.ownReactions,o=n.messageReactionGroups;y("messageReactionCounts",e)("latestReactions",i)("messageId",r)("ownReactions",s)("messageReactionGroups",o)}}function L7(t,n){t&1&&ue(0)}function V7(t,n){if(t&1&&j(0,"stream-message-actions-box",43),t&2){let e=n.isMine,i=n.message,r=n.enabledActions,s=n.messageTextHtmlElement;y("isMine",e)("message",i)("enabledActions",r)("messageTextHtmlElement",s)}}function j7(t,n){t&1&&ue(0)}function B7(t,n){t&1&&ue(0)}function U7(t,n){if(t&1&&(me(0),E(1,"div",44),I(2,B7,1,0,"ng-container",36),x(),ge()),t&2){b(3);let e=U(15);v(2),y("ngTemplateOutlet",e)}}function $7(t,n){t&1&&ue(0)}function H7(t,n){t&1&&ue(0)}function z7(t,n){if(t&1&&(me(0),I(1,H7,1,0,"ng-container",36),ge()),t&2){b(4);let e=U(15);v(),y("ngTemplateOutlet",e)}}function q7(t,n){t&1&&(me(0),ee(1),q(2,"translate"),ge()),t&2&&(v(),bn(Q(2,1,"streamChat.Error \xB7 Unsent")))}function W7(t,n){if(t&1&&(E(0,"div",49),I(1,q7,3,3,"ng-container",29),x()),t&2){let e=b(4);v(),y("ngIf",!(e.message!=null&&e.message.moderation_details))}}function G7(t,n){if(t&1&&(E(0,"div",50),ee(1),q(2,"translate"),x()),t&2){let e=b(4);v(),_e(" ",Q(2,1,(e.message==null?null:e.message.errorStatusCode)===403?"streamChat.Message Failed \xB7 Unauthorized":"streamChat.Message Failed \xB7 Click to try again")," ")}}function Q7(t,n){t&1&&ue(0)}function Y7(t,n){if(t&1&&j(0,"stream-message-text",51),t&2){let e=n.message,i=n.isQuoted,r=n.shouldTranslate;y("message",e)("isQuoted",i)("shouldTranslate",r)}}function K7(t,n){if(t&1){let e=Ce();E(0,"div",45),se("click",function(){$(e);let r=b(3);return H(r.messageClicked())})("keyup.enter",function(){$(e);let r=b(3);return H(r.messageClicked())}),E(1,"div",46),I(2,$7,1,0,"ng-container",36)(3,z7,2,1,"ng-container",29)(4,W7,2,1,"div",47)(5,G7,3,3,"div",48)(6,Q7,1,0,"ng-container",31),q(7,"async"),I(8,Y7,1,3,"ng-template",null,12,J),x()()}if(t&2){let e=U(9),i=b(3),r=U(7);Fe("str-chat__message-text--pointer-cursor",(i.message==null?null:i.message.status)==="failed"&&(i.message==null?null:i.message.errorStatusCode)!==403||(i.message==null?null:i.message.type)==="error"&&(i.message==null?null:i.message.moderation_details)||(i.message==null?null:i.message.message_text_updated_at)),v(),Fe("str-chat__message-light-text-inner--has-attachment",i.hasAttachment),v(),y("ngTemplateOutlet",r),v(),y("ngIf",i.hasAttachment&&(i.message==null?null:i.message.quoted_message)),v(),y("ngIf",(i.message==null?null:i.message.type)==="error"),v(),y("ngIf",(i.message==null?null:i.message.status)==="failed"),v(),y("ngTemplateOutlet",Q(7,10,i.customTemplatesService.messageTextTemplate$)||e)("ngTemplateOutletContext",i.getMessageTextContext())}}function Z7(t,n){t&1&&ue(0)}function X7(t,n){t&1&&ue(0)}function J7(t,n){if(t&1){let e=Ce();me(0),j(1,"stream-avatar-placeholder",26),E(2,"div",27),I(3,O7,4,11,"div",28)(4,P7,3,6,"ng-container",29),q(5,"async"),E(6,"div",30),I(7,N7,1,5,"ng-template",null,7,J)(9,L7,1,0,"ng-container",31),q(10,"async"),x(),E(11,"float-ui-content",null,8),I(13,V7,1,4,"ng-template",null,9,J),me(15),E(16,"div",32),se("click",function(){$(e);let r=U(12),s=b(2);return H(s.messageActionsBoxClicked(r))})("keyup.enter",function(){$(e);let r=U(12),s=b(2);return H(s.messageActionsBoxClicked(r))}),I(17,j7,1,0,"ng-container",31),q(18,"async"),x(),ge(),x(),E(19,"div",33,10),se("onShown",function(){$(e);let r=b(2);return H(r.areMessageOptionsOpen=!0)})("onHidden",function(){$(e);let r=b(2);return H(r.areMessageOptionsOpen=!1)}),I(22,U7,3,1,"ng-container",29)(23,K7,10,12,"div",34),j(24,"stream-icon-placeholder",35),x()(),I(25,Z7,1,0,"ng-container",31)(26,X7,1,0,"ng-container",36),ge()}if(t&2){let e=U(8),i=U(12),r=U(14),s=b(2),o=U(9),a=U(13);v(),y("imageUrl",s.message==null||s.message.user==null?null:s.message.user.image)("name",(s.message==null||s.message.user==null?null:s.message.user.name)||(s.message==null||s.message.user==null?null:s.message.user.id))("user",(s.message==null?null:s.message.user)||void 0),v(2),y("ngIf",!s.hasTouchSupport&&s.areOptionsVisible),v(),y("ngIf",Q(5,23,s.customTemplatesService.customMessageMetadataInsideBubbleTemplate$)),v(5),y("ngTemplateOutlet",Q(10,25,s.customTemplatesService.messageReactionsTemplate$)||e)("ngTemplateOutletContext",s.getMessageReactionsContext()),v(8),y("ngTemplateOutlet",Q(18,27,s.customTemplatesService.messageActionsBoxTemplate$)||r)("ngTemplateOutletContext",s.getMessageActionsBoxContext()),v(2),Fe("str-chat-angular__message-bubble--attachment-modal-open",s.imageAttachmentModalState==="opened"),y("floatUiLoose",i)("hideOnScroll",!1)("hideOnClickOutside",!0)("hideOnMouseLeave",!1)("disableAnimation",!0)("preventOverflow",!0)("positionFixed",!0),v(3),y("ngIf",s.hasAttachment&&!(s.message!=null&&s.message.quoted_message)),v(),y("ngIf",(s.message==null?null:s.message.text)||(s.message==null?null:s.message.quoted_message)&&s.hasAttachment),v(2),y("ngTemplateOutlet",a)("ngTemplateOutletContext",ft(29,X0,s.message)),v(),y("ngTemplateOutlet",o)}}function eW(t,n){if(t&1&&(me(0),I(1,J7,27,31,"ng-container",25),ge()),t&2){let e=b(),i=U(5);v(),y("ngIf",(e.message==null?null:e.message.type)!=="system")("ngIfElse",i)}}function tW(t,n){t&1&&(E(0,"div",52)(1,"div",53),ee(2," streamChat.This message was deleted... "),x()())}function nW(t,n){t&1&&ue(0)}function iW(t,n){if(t&1&&(E(0,"div",54)(1,"div",55),j(2,"div",56),E(3,"p"),ee(4),x(),j(5,"div",56),x(),E(6,"div",57),ee(7),x()()),t&2){let e=n.message,i=b(2);v(4),bn(e==null?null:e.text),v(3),_e(" ",i.parsedDate," ")}}function rW(t,n){if(t&1&&(I(0,nW,1,0,"ng-container",31),q(1,"async"),I(2,iW,8,2,"ng-template",null,13,J)),t&2){let e=U(3),i=b();y("ngTemplateOutlet",Q(1,2,i.customTemplatesService.systemMessageTemplate$)||e)("ngTemplateOutletContext",i.getMessageContext())}}function sW(t,n){if(t&1){let e=Ce();E(0,"stream-attachment-list",62),se("imageModalStateChange",function(r){let s=$(e).imageModalStateChangeHandler;return H(s(r))}),x()}if(t&2){let e=n.messageId,i=n.attachments,r=n.parentMessageId;y("messageId",e)("attachments",i)("parentMessageId",r)}}function oW(t,n){t&1&&ue(0)}function aW(t,n){if(t&1&&(me(0),I(1,sW,1,3,"ng-template",null,14,J)(3,oW,1,0,"ng-container",31),q(4,"async"),ge()),t&2){let e=U(2),i=b(3);v(3),y("ngTemplateOutlet",Q(4,2,i.customTemplatesService.attachmentListTemplate$)||e)("ngTemplateOutletContext",i.getQuotedMessageAttachmentListContext())}}function lW(t,n){t&1&&ue(0)}function cW(t,n){if(t&1&&j(0,"stream-message-text",51),t&2){let e=n.message,i=n.isQuoted,r=n.shouldTranslate;y("message",e)("isQuoted",i)("shouldTranslate",r)}}function uW(t,n){if(t&1&&(me(0),I(1,lW,1,0,"ng-container",31),q(2,"async"),I(3,cW,1,3,"ng-template",null,12,J),ge()),t&2){let e=U(4),i=b(3);v(),y("ngTemplateOutlet",Q(2,2,i.customTemplatesService.messageTextTemplate$)||e)("ngTemplateOutletContext",i.getQuotedMessageTextContext())}}function dW(t,n){if(t&1){let e=Ce();E(0,"div",59),se("click",function(){$(e);let r=b(2);return H(r.jumpToMessage(r.message==null?null:r.message.quoted_message.id,r.message==null||r.message.quoted_message==null?null:r.message.quoted_message.parent_id))})("keyup.enter",function(){$(e);let r=b(2);return H(r.jumpToMessage(r.message==null?null:r.message.quoted_message.id,r.message==null||r.message.quoted_message==null?null:r.message.quoted_message.parent_id))}),j(1,"stream-avatar-placeholder",60),E(2,"div",61),I(3,aW,5,4,"ng-container",29)(4,uW,5,4,"ng-container",29),x()()}if(t&2){let e=b(2);Fe("mine",e.isSentByCurrentUser),v(),y("imageUrl",e.message==null||e.message.quoted_message==null||e.message.quoted_message.user==null?null:e.message.quoted_message.user.image)("name",(e.message==null||e.message.quoted_message==null||e.message.quoted_message.user==null?null:e.message.quoted_message.user.name)||(e.message==null||e.message.quoted_message==null||e.message.quoted_message.user==null?null:e.message.quoted_message.user.id))("user",(e.message==null||e.message.quoted_message==null?null:e.message.quoted_message.user)||void 0),v(2),y("ngIf",(e.message==null||e.message.quoted_message==null?null:e.message.quoted_message.attachments)&&(e.message==null||e.message.quoted_message==null||e.message.quoted_message.attachments==null?null:e.message.quoted_message.attachments.length)),v(),y("ngIf",e.message==null?null:e.message.quoted_message)}}function hW(t,n){if(t&1&&I(0,dW,5,7,"div",58),t&2){let e=b();y("ngIf",e.message==null?null:e.message.quoted_message)}}function fW(t,n){if(t&1){let e=Ce();E(0,"button",70),se("click",function(){$(e);let r=b(3);return H(r.displayOriginalMessage())})("keyup.enter",function(){$(e);let r=b(3);return H(r.displayOriginalMessage())}),ee(1," streamChat.See original (automatically translated) "),x()}}function pW(t,n){if(t&1){let e=Ce();E(0,"button",71),se("click",function(){$(e);let r=b(3);return H(r.displayTranslatedMessage())})("keyup.enter",function(){$(e);let r=b(3);return H(r.displayTranslatedMessage())}),ee(1," streamChat.See translation "),x()}}function mW(t,n){if(t&1&&(E(0,"div",67),I(1,fW,2,0,"button",68)(2,pW,2,0,"button",69),x()),t&2){let e=b(2);v(),y("ngIf",e.displayedMessageTextContent==="translation"),v(),y("ngIf",e.displayedMessageTextContent==="original")}}function gW(t,n){t&1&&ue(0)}function _W(t,n){if(t&1&&(me(0),E(1,"div",72),I(2,gW,1,0,"ng-container",31),q(3,"async"),x(),ge()),t&2){let e=b(2);v(2),y("ngTemplateOutlet",Q(3,2,e.customTemplatesService.customMessageMetadataTemplate$))("ngTemplateOutletContext",e.getMessageMetadataContext())}}function vW(t,n){t&1&&ue(0)}function yW(t,n){if(t&1&&(E(0,"span",73),ee(1),x()),t&2){let e=b(2);v(),_e(" ",!(e.message==null||e.message.user==null)&&e.message.user.name?e.message==null||e.message.user==null?null:e.message.user.name:e.message==null||e.message.user==null?null:e.message.user.id," ")}}function bW(t,n){if(t&1&&(me(0),E(1,"span",74),ee(2,"streamChat.Edited"),x(),E(3,"div",75)(4,"span",76),ee(5,"streamChat.Edited"),x(),E(6,"time",77),ee(7),x()(),ge()),t&2){let e=b(2);v(3),y("ngClass",Hn(4,A7,e.isEditedFlagOpened,!e.isEditedFlagOpened)),v(3),Dt("dateTime",e.message==null?null:e.message.message_text_updated_at),Dt("title",e.message==null?null:e.message.message_text_updated_at),v(),_e(" ",e.pasedEditedDate," ")}}function CW(t,n){if(t&1&&(me(0),I(1,mW,3,2,"div",63)(2,_W,4,4,"ng-container",29),q(3,"async"),E(4,"div",64),I(5,vW,1,0,"ng-container",36)(6,yW,2,1,"span",65),E(7,"span",66),ee(8),x(),I(9,bW,8,7,"ng-container",29),x(),ge()),t&2){let e=b(),i=U(11);v(),y("ngIf",e.shouldDisplayTranslationNotice),v(),y("ngIf",Q(3,6,e.customTemplatesService.customMessageMetadataTemplate$)),v(3),y("ngTemplateOutlet",i),v(),y("ngIf",!e.isSentByCurrentUser),v(2),_e(" ",e.parsedDate," "),v(),y("ngIf",e.message==null?null:e.message.message_text_updated_at)}}function wW(t,n){t&1&&ue(0)}function DW(t,n){if(t&1&&(me(0),I(1,wW,1,0,"ng-container",36),ge()),t&2){b();let e=U(9);v(),y("ngTemplateOutlet",e)}}function EW(t,n){t&1&&ue(0)}function SW(t,n){if(t&1&&(me(0),I(1,EW,1,0,"ng-container",36),ge()),t&2){b(2);let e=U(13);v(),y("ngTemplateOutlet",e)}}function xW(t,n){if(t&1&&I(0,SW,2,1,"ng-container",25),t&2){b();let e=U(5),i=b(2);y("ngIf",i.mode==="main"&&i.isMessageDeliveredAndRead&&i.canDisplayReadStatus)("ngIfElse",e)}}function TW(t,n){t&1&&ue(0)}function IW(t,n){if(t&1&&(I(0,TW,1,0,"ng-container",31),q(1,"async")),t&2){b();let e=U(7),i=b(2);y("ngTemplateOutlet",Q(1,2,i.customTemplatesService.deliveredStatusTemplate$)||e)("ngTemplateOutletContext",i.getDeliveredStatusContext())}}function MW(t,n){if(t&1&&(E(0,"span",79)(1,"float-ui-content",null,22)(3,"div",80),ee(4),q(5,"translate"),x()(),j(6,"stream-icon-placeholder",81),x()),t&2){let e=U(2),i=b(4);y("floatUiLoose",e)("looseTrigger",i.hasTouchSupport?"click":"hover")("disableAnimation",!0)("hideOnClickOutside",!0)("positionFixed",!0)("preventOverflow",!0),v(4),_e(" ",Q(5,7,"streamChat.Delivered")," ")}}function AW(t,n){if(t&1&&I(0,MW,7,9,"span",78),t&2){let e=b(3);y("ngIf",e.mode==="main")}}function RW(t,n){t&1&&ue(0)}function OW(t,n){if(t&1&&(I(0,RW,1,0,"ng-container",31),q(1,"async")),t&2){b();let e=U(11),i=b(2);y("ngTemplateOutlet",Q(1,2,i.customTemplatesService.sendingStatusTemplate$)||e)("ngTemplateOutletContext",i.getSendingStatusContext())}}function kW(t,n){if(t&1&&(E(0,"span",82)(1,"float-ui-content",null,22)(3,"div",80),ee(4),q(5,"translate"),x()(),j(6,"stream-loading-indicator-placeholder",83),x()),t&2){let e=U(2),i=b(3);y("floatUiLoose",e)("looseTrigger",i.hasTouchSupport?"click":"hover")("disableAnimation",!0)("hideOnClickOutside",!0)("positionFixed",!0)("preventOverflow",!0),v(4),_e(" ",Q(5,7,"streamChat.Sending...")," ")}}function FW(t,n){t&1&&ue(0)}function PW(t,n){if(t&1&&(I(0,FW,1,0,"ng-container",31),q(1,"async")),t&2){b();let e=U(15),i=b(2);y("ngTemplateOutlet",Q(1,2,i.customTemplatesService.readStatusTemplate$)||e)("ngTemplateOutletContext",i.getReadStatusContext())}}function NW(t,n){if(t&1&&(E(0,"span",84)(1,"float-ui-content",null,22)(3,"div",85),ee(4),x()(),j(5,"stream-icon-placeholder",86),x()),t&2){let e=n.readByText,i=U(2),r=b(3);y("floatUiLoose",i)("looseTrigger",r.hasTouchSupport?"click":"hover")("disableAnimation",!0)("hideOnClickOutside",!0)("positionFixed",!0)("preventOverflow",!0),v(4),_e(" ",e," ")}}function LW(t,n){if(t&1&&(me(0),I(1,DW,2,1,"ng-container",25)(2,xW,1,2,"ng-template",null,15,J)(4,IW,2,4,"ng-template",null,16,J)(6,AW,1,1,"ng-template",null,17,J)(8,OW,2,4,"ng-template",null,18,J)(10,kW,7,9,"ng-template",null,19,J)(12,PW,2,4,"ng-template",null,20,J)(14,NW,6,7,"ng-template",null,21,J),ge()),t&2){let e=U(3),i=b(2);v(),y("ngIf",(i.message==null?null:i.message.status)==="sending")("ngIfElse",e)}}function VW(t,n){if(t&1&&I(0,LW,16,2,"ng-container",29),t&2){let e=b();y("ngIf",e.isSentByCurrentUser&&(e.isLastSentMessage&&(e.message==null?null:e.message.status)==="received"||(e.message==null?null:e.message.status)==="sending"))}}function jW(t,n){}function BW(t,n){t&1&&I(0,jW,0,0,"ng-template")}function UW(t,n){if(t&1&&(me(0),I(1,BW,1,0,null,31),q(2,"async"),ge()),t&2){b();let e=U(3),i=b();v(),y("ngTemplateOutlet",Q(2,2,i.customTemplatesService.threadLinkButton$)||e)("ngTemplateOutletContext",ft(4,X0,i.message))}}function $W(t,n){if(t&1){let e=Ce();E(0,"button",88),se("click",function(){$(e);let r=b(2);return H(r.setAsActiveParentMessage())}),ee(1),q(2,"translate"),q(3,"translate"),x()}if(t&2){let e=n.message,i=b(2);v(),_e(" ",(e==null?null:e.reply_count)===1?Q(2,1,"streamChat.1 reply"):zn(3,3,"streamChat.{{ replyCount }} replies",i.replyCountParam)," ")}}function HW(t,n){if(t&1&&(E(0,"div",87),I(1,UW,3,6,"ng-container",29)(2,$W,4,6,"ng-template",null,23,J),x()),t&2){let e=b();v(),y("ngIf",e.shouldDisplayThreadLink)}}function zW(t,n){if(t&1){let e=Ce();E(0,"stream-attachment-list",62),se("imageModalStateChange",function(r){let s=$(e).imageModalStateChangeHandler;return H(s(r))}),x()}if(t&2){let e=n.messageId,i=n.attachments,r=n.parentMessageId;y("messageId",e)("attachments",i)("parentMessageId",r)}}function qW(t,n){t&1&&ue(0)}function WW(t,n){if(t&1&&(I(0,zW,1,3,"ng-template",null,14,J)(2,qW,1,0,"ng-container",31),q(3,"async")),t&2){let e=U(1),i=b();v(2),y("ngTemplateOutlet",Q(3,2,i.customTemplatesService.attachmentListTemplate$)||e)("ngTemplateOutletContext",i.getAttachmentListContext())}}var mp=t=>({attachmentUpload:t}),vR=t=>({service:t});function GW(t,n){t&1&&ue(0)}function QW(t,n){t&1&&(E(0,"div",13),j(1,"stream-loading-indicator-placeholder",14),x())}function YW(t,n){t&1&&ue(0)}function KW(t,n){if(t&1&&j(0,"img",15),t&2){let e=b(2).$implicit;Dt("src",e.url?e.url:e.previewUri,fn),Dt("alt",e.file.name)}}function ZW(t,n){if(t&1&&(E(0,"div",9),I(1,GW,1,0,"ng-container",10)(2,QW,2,0,"div",11)(3,YW,1,0,"ng-container",10)(4,KW,1,2,"img",12),x()),t&2){let e=b().$implicit;b(2);let i=U(3),r=U(5);v(),y("ngTemplateOutlet",i)("ngTemplateOutletContext",ft(6,mp,e)),v(),y("ngIf",e.state==="uploading"),v(),y("ngTemplateOutlet",r)("ngTemplateOutletContext",ft(8,mp,e)),v(),y("ngIf",e.url||e.previewUri)}}function XW(t,n){if(t&1){let e=Ce();E(0,"a",22),se("click",function(r){$(e);let s=b(2).$implicit;return H(s.url?null:r.preventDefault())})("keyup.enter",function(r){$(e);let s=b(2).$implicit;return H(s.url?null:r.preventDefault())}),j(1,"stream-icon-placeholder",23),x()}if(t&2){let e=b(2).$implicit;Dt("href",e.url,fn)}}function JW(t,n){t&1&&j(0,"stream-loading-indicator-placeholder",14)}function e9(t,n){t&1&&ue(0)}function t9(t,n){t&1&&ue(0)}function n9(t,n){if(t&1&&(E(0,"div",16),j(1,"stream-icon-placeholder",17),E(2,"div",18)(3,"div",19),ee(4),x(),I(5,XW,2,1,"a",20)(6,JW,1,0,"stream-loading-indicator-placeholder",21),x(),I(7,e9,1,0,"ng-container",10)(8,t9,1,0,"ng-container",10),x()),t&2){let e=b().$implicit;b(2);let i=U(3),r=U(5);yn("str-chat__attachment-preview-file str-chat__attachment-preview-type-",e.type,""),v(3),Dt("title",e.file.name),v(),_e(" ",e.file.name," "),v(),y("ngIf",e.state==="success"),v(),y("ngIf",e.state==="uploading"),v(),y("ngTemplateOutlet",i)("ngTemplateOutletContext",ft(11,mp,e)),v(),y("ngTemplateOutlet",r)("ngTemplateOutletContext",ft(13,mp,e))}}function i9(t,n){if(t&1&&(me(0),I(1,ZW,5,10,"div",7)(2,n9,9,15,"div",8),ge()),t&2){let e=n.$implicit;v(),y("ngIf",e.type==="image"),v(),y("ngIf",e.type==="file"||e.type==="video"||e.type==="voiceRecording")}}function r9(t,n){}function s9(t,n){t&1&&I(0,r9,0,0,"ng-template")}function o9(t,n){if(t&1&&(me(0),I(1,s9,1,0,null,10),ge()),t&2){let e=b(2);v(),y("ngTemplateOutlet",e.customAttachmentsPreview)("ngTemplateOutletContext",ft(2,vR,e.attachmentService))}}function a9(t,n){if(t&1&&(E(0,"div",3)(1,"div",4),I(2,i9,3,2,"ng-container",5),q(3,"async"),I(4,o9,2,4,"ng-container",6),x()()),t&2){let e=b();v(2),y("ngForOf",Q(3,3,e.attachmentUploads$))("ngForTrackBy",e.trackByFile),v(2),y("ngIf",e.customAttachmentsPreview)}}function l9(t,n){if(t&1){let e=Ce();E(0,"div",24),se("click",function(){let r=$(e).attachmentUpload,s=b();return H(s.attachmentDeleted(r))})("keyup.enter",function(){let r=$(e).attachmentUpload,s=b();return H(s.attachmentDeleted(r))}),j(1,"stream-icon-placeholder",25),x()}}function c9(t,n){if(t&1){let e=Ce();E(0,"div",27),se("click",function(){$(e);let r=b().attachmentUpload,s=b();return H(s.attachmentUploadRetried(r.file))})("keyup.enter",function(){$(e);let r=b().attachmentUpload,s=b();return H(s.attachmentUploadRetried(r.file))}),j(1,"stream-icon-placeholder",28),x()}if(t&2){let e=b().attachmentUpload;yn("str-chat__attachment-preview-error str-chat__attachment-preview-error-",e.type==="image"?"image":"file","")}}function u9(t,n){if(t&1&&I(0,c9,2,3,"div",26),t&2){let e=n.attachmentUpload;y("ngIf",e.state==="error")}}var d9=["fileInput"],h9=[[["","message-input-start",""]],[["","message-input-end",""]]],f9=["[message-input-start]","[message-input-end]"];function p9(t,n){if(t&1){let e=Ce();E(0,"div",9)(1,"div",10),ee(2),q(3,"translate"),x(),E(4,"button",11),se("click",function(){$(e);let r=b();return H(r.deselectMessageToQuote())})("keyup.enter",function(){$(e);let r=b();return H(r.deselectMessageToQuote())}),j(5,"stream-icon-placeholder",12),x()()}t&2&&(v(2),_e(" ",Q(3,1,"streamChat.Reply to Message")," "))}function m9(t,n){if(t&1){let e=Ce();E(0,"div",9)(1,"div",10),ee(2),q(3,"translate"),x(),E(4,"button",11),se("click",function(){$(e);let r=b();return H(r.deselectMessageToEdit())})("keyup.enter",function(){$(e);let r=b();return H(r.deselectMessageToEdit())}),j(5,"stream-icon-placeholder",12),x()()}t&2&&(v(2),_e(" ",Q(3,1,"streamChat.Edit Message")," "))}function g9(t,n){t&1&&ue(0)}function _9(t,n){if(t&1){let e=Ce();E(0,"div",23)(1,"input",24,3),q(3,"async"),se("change",function(){$(e);let r=U(2),s=b(3);return H(s.filesSelected(r.files))}),x(),E(4,"label",25),j(5,"stream-icon-placeholder",26),x()()}if(t&2){let e=b(3);v(),Dt("id",e.fileInputId),y("multiple",e.isMultipleFileUploadEnabled)("disabled",Q(3,4,e.attachmentService.attachmentsCounter$)>=e.attachmentService.maxNumberOfAttachments),v(3),Dt("for",e.fileInputId)}}function v9(t,n){if(t&1&&(me(0),I(1,g9,1,0,"ng-container",16)(2,_9,6,6,"ng-template",null,2,J),ge()),t&2){let e=U(3),i=b(2);v(),y("ngTemplateOutlet",i.customAttachmentUploadTemplate||e)("ngTemplateOutletContext",i.getAttachmentUploadContext())}}function y9(t,n){if(t&1&&j(0,"stream-attachment-list",32),t&2){let e=b(3);y("attachments",e.quotedMessageAttachments)("messageId",e.quotedMessage.id)}}function b9(t,n){t&1&&ue(0)}function C9(t,n){if(t&1&&j(0,"stream-message-text",33),t&2){let e=n.message,i=n.isQuoted,r=n.shouldTranslate;y("message",e)("isQuoted",i)("shouldTranslate",r)}}function w9(t,n){if(t&1&&(E(0,"div",27),j(1,"stream-avatar-placeholder",28),E(2,"div",29),I(3,y9,1,2,"stream-attachment-list",30),E(4,"div",31),I(5,b9,1,0,"ng-container",16),q(6,"async"),I(7,C9,1,3,"ng-template",null,4,J),x()()()),t&2){let e=U(8),i=b(2);v(),y("imageUrl",i.quotedMessage.user==null?null:i.quotedMessage.user.image)("name",(i.quotedMessage.user==null?null:i.quotedMessage.user.name)||(i.quotedMessage.user==null?null:i.quotedMessage.user.id))("user",i.quotedMessage.user||void 0),v(2),y("ngIf",(i.quotedMessage==null?null:i.quotedMessage.attachments)&&(i.quotedMessage==null||i.quotedMessage.attachments==null?null:i.quotedMessage.attachments.length)),v(2),y("ngTemplateOutlet",Q(6,6,i.customTemplatesService.messageTextTemplate$)||e)("ngTemplateOutletContext",i.getQuotedMessageTextContext())}}function D9(t,n){if(t&1){let e=Ce();E(0,"stream-attachment-preview-list",34),se("retryAttachmentUpload",function(r){let s=$(e).retryUploadHandler;return H(s(r))})("deleteAttachment",function(r){let s=$(e).deleteUploadHandler;return H(s(r))}),x()}if(t&2){let e=n.attachmentUploads$;y("attachmentUploads$",e)}}function E9(t,n){t&1&&ue(0)}function S9(t,n){t&1&&ue(0)}function x9(t,n){if(t&1&&(me(0,35),I(1,S9,1,0,"ng-container",16),ge()),t&2){let e=b(2);v(),y("ngTemplateOutlet",e.emojiPickerTemplate)("ngTemplateOutletContext",e.getEmojiPickerContext())}}function T9(t,n){if(t&1){let e=Ce();E(0,"button",36),q(1,"async"),q(2,"async"),q(3,"async"),q(4,"async"),se("click",function(){$(e);let r=b(2);return H(r.messageSent())})("keyup.enter",function(){$(e);let r=b(2);return H(r.messageSent())}),j(5,"stream-icon-placeholder",37),x()}if(t&2){let e=b(2);y("disabled",Q(1,1,e.attachmentUploadInProgressCounter$)>0||Q(2,3,e.attachmentService.attachmentsCounter$)>e.attachmentService.maxNumberOfAttachments||!e.textareaValue&&Q(3,5,e.attachmentUploads$).length===0&&Q(4,7,e.customAttachments$).length===0)}}function I9(t,n){if(t&1&&(E(0,"div",38),ee(1),q(2,"async"),x()),t&2){let e=b(2);v(),_e(" ",Q(2,1,e.cooldown$)," ")}}function M9(t,n){if(t&1){let e=Ce();E(0,"button",39),q(1,"async"),se("click",function(){$(e);let r=b(2);return H(r.startVoiceRecording())})("keyup.enter",function(){$(e);let r=b(2);return H(r.startVoiceRecording())}),j(2,"stream-icon-placeholder",40),x()}if(t&2){let e=b(2);y("disabled",e.voiceRecorderService.isRecorderVisible$.value||(e.audioRecorder==null?null:e.audioRecorder.isRecording)||Q(1,1,e.attachmentService.attachmentsCounter$)>=e.attachmentService.maxNumberOfAttachments)}}function A9(t,n){if(t&1){let e=Ce();me(0),E(1,"div",13),rt(2),I(3,v9,4,2,"ng-container",8),E(4,"div",14),I(5,w9,9,8,"div",15)(6,D9,1,1,"ng-template",null,1,J)(8,E9,1,0,"ng-container",16),E(9,"div",17),me(10,18),wa("valueChange",function(r){$(e);let s=b();return Zl(s.textareaValue,r)||(s.textareaValue=r),H(r)}),se("valueChange",function(){$(e);let r=b();return H(r.typingStart$.next())})("send",function(){$(e);let r=b();return H(r.messageSent())})("userMentions",function(r){$(e);let s=b();return H(s.mentionedUsers=r)})("pasteFromClipboard",function(r){$(e);let s=b();return H(s.itemsPasted(r))}),ge(),I(11,x9,2,2,"ng-container",19),x()(),I(12,T9,6,9,"button",20)(13,I9,3,3,"div",21)(14,M9,3,3,"button",22),rt(15,1),x(),ge()}if(t&2){let e=U(7),i=b();v(3),y("ngIf",i.isFileUploadEnabled&&i.isFileUploadAuthorized&&i.canSendMessages),v(2),y("ngIf",i.quotedMessage),v(3),y("ngTemplateOutlet",i.attachmentPreviewListTemplate||e)("ngTemplateOutletContext",i.getAttachmentPreviewListContext()),v(2),y("componentRef",i.textareaRef)("areMentionsEnabled",i.areMentionsEnabled)("mentionScope",i.mentionScope)("inputMode",i.inputMode)("autoFocus",i.autoFocus)("placeholder",i.textareaPlaceholder),Ca("value",i.textareaValue),v(),y("ngIf",i.emojiPickerTemplate),v(),y("ngIf",i.canSendMessages&&!i.isCooldownInProgress&&i.displaySendButton),v(),y("ngIf",i.isCooldownInProgress),v(),y("ngIf",i.displayVoiceRecordingButton)}}function R9(t,n){if(t&1&&(E(0,"div",41),ee(1),q(2,"translate"),x()),t&2){let e=b();v(),_e(" ",Q(2,1,e.disabledTextareaText)," ")}}function O9(t,n){}function k9(t,n){if(t&1&&I(0,O9,0,0,"ng-template",42),t&2){let e=b();y("ngTemplateOutlet",e.voiceRecorderRef)("ngTemplateOutletContext",ft(2,vR,e.voiceRecorderService))}}var F9=["input"],J0=t=>({item:t});function P9(t,n){t&1&&ue(0)}function N9(t,n){if(t&1&&(me(0),I(1,P9,1,0,"ng-container",7),ge()),t&2){let e=b().item;v(),y("ngTemplateOutlet",e.templateRef)("ngTemplateOutletContext",ft(2,J0,e))}}function L9(t,n){t&1&&ue(0)}function V9(t,n){if(t&1&&(E(0,"div",10),I(1,L9,1,0,"ng-container",7),x()),t&2){let e=b(2).item,i=b(),r=U(8);v(),y("ngTemplateOutlet",i.mentionAutocompleteItemTemplate||r)("ngTemplateOutletContext",ft(2,J0,e))}}function j9(t,n){t&1&&ue(0)}function B9(t,n){if(t&1&&(E(0,"div",10),I(1,j9,1,0,"ng-container",7),x()),t&2){let e=b(2).item,i=b(),r=U(6);v(),y("ngTemplateOutlet",i.commandAutocompleteItemTemplate||r)("ngTemplateOutletContext",ft(2,J0,e))}}function U9(t,n){if(t&1&&(E(0,"div",8),I(1,V9,2,4,"div",9)(2,B9,2,4,"div",9),x()),t&2){let e=b().item;y("ngSwitch",e.type),v(),y("ngSwitchCase","mention"),v(),y("ngSwitchCase","command")}}function $9(t,n){if(t&1&&I(0,N9,2,4,"ng-container",6)(1,U9,3,3,"ng-template",null,4,J),t&2){let e=n.item,i=U(2);y("ngIf",e.templateRef)("ngIfElse",i)}}function H9(t,n){if(t&1&&(E(0,"div",11)(1,"span",12)(2,"strong",13),ee(3),x(),E(4,"span",14),ee(5),x()(),j(6,"br"),x()),t&2){let e=n.item;v(3),bn(e.name),v(2),Kl("/",e.name," ",e.args,"")}}function z9(t,n){if(t&1&&(E(0,"div",15),j(1,"stream-avatar-placeholder",16),E(2,"span",17),ee(3),x()()),t&2){let e=n.item;v(),y("imageUrl",e.image||(e.user==null?null:e.user.image))("name",e.autocompleteLabel)("user",e.user||e),v(2),bn(e.autocompleteLabel)}}var q9=["scrollContainer"],W9=["parentMessageElement"],G9=(t,n,e)=>({unreadCount:t,onDismiss:n,onJump:e}),yR=t=>({count:t}),Q9=t=>({message:t,index:"parent"}),Y9=(t,n)=>({message:t,index:n}),eb=(t,n)=>({date:t,parsedDate:n}),K9=t=>({unreadCount:t}),Z9=t=>({user:t}),X9=t=>({users:t}),J9=(t,n,e,i,r,s)=>({message:t,isLastSentMessage:n,enabledMessageActions:e,mode:i,isHighlighted:r,scroll$:s});function eG(t,n){t&1&&ue(0)}function tG(t,n){if(t&1&&(me(0),I(1,eG,1,0,"ng-container",18),ge()),t&2){let e=b(),i=U(2);v(),y("ngTemplateOutlet",e.customnewMessagesNotificationTemplate||i)("ngTemplateOutletContext",Sh(2,G9,e.unreadCount,e.messageNotificationDismissClicked,e.messageNotificationJumpClicked))}}function nG(t,n){if(t&1&&(me(0),ee(1),q(2,"translate"),ge()),t&2){let e=b().unreadCount;v(),_e(" ",zn(2,1,e===1?"streamChat.{{count}} unread message":"streamChat.{{count}} unread messages",ft(4,yR,e))," ")}}function iG(t,n){t&1&&(ee(0),q(1,"translate")),t&2&&_e(" ",Q(1,1,"streamChat.Unread messages")," ")}function rG(t,n){if(t&1){let e=Ce();E(0,"div",21)(1,"button",22),se("click",function(){let r=$(e).onJump;return H(r())}),I(2,nG,3,6,"ng-container",23)(3,iG,2,3,"ng-template",null,7,J),x(),E(5,"button",24),se("click",function(){let r=$(e).onDismiss;return H(r())}),j(6,"stream-icon-placeholder",25),x()()}if(t&2){let e=n.unreadCount,i=U(4),r=b();v(2),y("ngIf",e>0&&!r.hideUnreadCountForNotificationAndIndicator)("ngIfElse",i)}}function sG(t,n){t&1&&ue(0)}function oG(t,n){if(t&1&&(me(0),I(1,sG,1,0,"ng-container",26),ge()),t&2){let e=b();v(),y("ngTemplateOutlet",e.emptyListTemplate)}}function aG(t,n){t&1&&ue(0)}function lG(t,n){if(t&1&&(E(0,"li",27,8),I(2,aG,1,0,"ng-container",18),E(3,"div",28),ee(4),q(5,"translate"),q(6,"translate"),x()()),t&2){let e=b(),i=U(22);v(2),y("ngTemplateOutlet",i)("ngTemplateOutletContext",ft(8,Q9,e.parentMessage)),v(2),_e(" ",e.parentMessage.reply_count===1?Q(5,3,"streamChat.1 reply"):zn(6,5,"streamChat.{{ replyCount }} replies",e.replyCountParam)," ")}}function cG(t,n){t&1&&ue(0)}function uG(t,n){if(t&1&&(me(0),I(1,cG,1,0,"ng-container",26),ge()),t&2){let e=b();v(),y("ngTemplateOutlet",e.emptyListTemplate)}}function dG(t,n){t&1&&j(0,"stream-loading-indicator-placeholder",29)}function hG(t,n){t&1&&ue(0)}function fG(t,n){if(t&1&&(me(0),I(1,hG,1,0,"ng-container",18),ge()),t&2){let e=b().$implicit,i=b(2),r=U(24);v(),y("ngTemplateOutlet",r)("ngTemplateOutletContext",Hn(2,eb,e.created_at,i.parseDate(e.created_at)))}}function pG(t,n){t&1&&ue(0)}function mG(t,n){t&1&&ue(0)}function gG(t,n){if(t&1&&(E(0,"li",33),I(1,mG,1,0,"ng-container",18),x()),t&2){let e=b(4),i=U(26);v(),y("ngTemplateOutlet",e.customnewMessagesIndicatorTemplate||i)("ngTemplateOutletContext",ft(2,K9,e.unreadCount))}}function _G(t,n){if(t&1&&(me(0),I(1,gG,2,4,"li",32),ge()),t&2){let e=b(3);v(),y("ngIf",e.displayUnreadSeparator)}}function vG(t,n){t&1&&ue(0)}function yG(t,n){if(t&1&&(me(0),I(1,vG,1,0,"ng-container",18),ge()),t&2){let e=b().index,i=b().ngIf,r=b(),s=U(24);v(),y("ngTemplateOutlet",s)("ngTemplateOutletContext",Hn(2,eb,i[e+1].created_at,r.parseDate(i[e+1].created_at)))}}function bG(t,n){if(t&1&&(me(0),I(1,fG,2,5,"ng-container",11),E(2,"li",31),I(3,pG,1,0,"ng-container",18),x(),I(4,_G,2,1,"ng-container",11)(5,yG,2,5,"ng-container",11),ge()),t&2){let e=n.$implicit,i=n.index,r=n.first,s=b().ngIf,o=b(),a=U(22);v(),y("ngIf",r),v(),yn("str-chat__li str-chat__li--",o.groupStyles[i],""),Dt("id",e.id),v(),y("ngTemplateOutlet",a)("ngTemplateOutletContext",Hn(9,Y9,e,i)),v(),y("ngIf",o.lastReadMessageId===(e==null?null:e.id)&&o.direction==="bottom-to-top"||o.direction==="top-to-bottom"&&o.lastReadMessageId===(s[i+1]==null?null:s[i+1].id)),v(),y("ngIf",o.isNextMessageOnSeparateDate[i])}}function CG(t,n){if(t&1&&(me(0),I(1,bG,6,12,"ng-container",30),ge()),t&2){let e=n.ngIf,i=b();v(),y("ngForOf",e)("ngForTrackBy",i.trackByMessageId)}}function wG(t,n){t&1&&j(0,"stream-loading-indicator-placeholder",34)}function DG(t,n){t&1&&j(0,"div",35)}function EG(t,n){if(t&1&&(E(0,"div",37)(1,"div",38),j(2,"span",39)(3,"span",39)(4,"span",39),x(),E(5,"div",40),ee(6),q(7,"translate"),q(8,"translate"),x()()),t&2){let e=b().ngIf,i=b(2);v(6),_e(" ",e.length===1?zn(7,1,"streamChat.user is typing",ft(7,Z9,i.getTypingIndicatorText(e))):zn(8,4,"streamChat.users are typing",ft(9,X9,i.getTypingIndicatorText(e)))," ")}}function SG(t,n){if(t&1&&(me(0),I(1,EG,9,11,"div",36),ge()),t&2){let e=n.ngIf;v(),y("ngIf",e.length>0)}}function xG(t,n){if(t&1&&(I(0,SG,2,1,"ng-container",11),q(1,"async")),t&2){let e=n.usersTyping$;y("ngIf",Q(1,1,e))}}function TG(t,n){t&1&&ue(0)}function IG(t,n){if(t&1&&(E(0,"div",44),ee(1),x()),t&2){let e=b(2);v(),_e(" ",e.newMessageCountWhileBeingScrolled," ")}}function MG(t,n){if(t&1){let e=Ce();E(0,"button",41),se("keyup.enter",function(){$(e);let r=b();return H(r.jumpToLatestMessage())})("click",function(){$(e);let r=b();return H(r.jumpToLatestMessage())}),j(1,"stream-icon",42),I(2,IG,2,1,"div",43),x()}if(t&2){let e=b();v(),y("icon",e.direction==="bottom-to-top"?"arrow-down":"arrow-up"),v(),y("ngIf",e.newMessageCountWhileBeingScrolled>0)}}function AG(t,n){if(t&1&&j(0,"stream-message",45),t&2){let e=n.message,i=n.isLastSentMessage,r=n.enabledMessageActions,s=n.mode,o=n.isHighlighted,a=n.scroll$;y("message",e)("isLastSentMessage",i)("enabledMessageActions",r)("mode",s)("isHighlighted",o)("scroll$",a)}}function RG(t,n){t&1&&ue(0)}function OG(t,n){if(t&1&&I(0,AG,1,6,"ng-template",null,9,J)(2,RG,1,0,"ng-container",18),t&2){let e=n.message,i=U(1),r=b();v(2),y("ngTemplateOutlet",r.messageTemplate||i)("ngTemplateOutletContext",sv(2,J9,e,!!(r.lastSentMessageId&&(e==null?null:e.id)===r.lastSentMessageId),r.enabledMessageActions,r.mode,(e==null?null:e.id)===r.highlightedMessageId,r.scroll$))}}function kG(t,n){t&1&&ue(0)}function FG(t,n){if(t&1&&(me(0),I(1,kG,1,0,"ng-container",18),ge()),t&2){let e=b(),i=e.date,r=e.parsedDate,s=U(2),o=b();v(),y("ngTemplateOutlet",o.customDateSeparatorTemplate||s)("ngTemplateOutletContext",Hn(2,eb,i,r))}}function PG(t,n){t&1&&j(0,"hr",49)}function NG(t,n){t&1&&j(0,"hr",49)}function LG(t,n){if(t&1&&(E(0,"div",46),I(1,PG,1,0,"hr",47),E(2,"div",48),ee(3),x(),I(4,NG,1,0,"hr",47),x()),t&2){let e=n.parsedDate,i=b(2);v(),y("ngIf",i.dateSeparatorTextPos==="right"||i.dateSeparatorTextPos==="center"),v(2),_e(" ",e," "),v(),y("ngIf",i.dateSeparatorTextPos==="left"||i.dateSeparatorTextPos==="center")}}function VG(t,n){if(t&1&&I(0,FG,2,5,"ng-container",11)(1,LG,5,3,"ng-template",null,10,J),t&2){let e=b();y("ngIf",e.displayDateSeparator)}}function jG(t,n){if(t&1&&(me(0),ee(1),q(2,"translate"),ge()),t&2){let e=b().unreadCount;v(),_e(" ",zn(2,1,e===1?"streamChat.{{count}} unread message":"streamChat.{{count}} unread messages",ft(4,yR,e))," ")}}function BG(t,n){t&1&&(ee(0),q(1,"translate")),t&2&&_e(" ",Q(1,1,"streamChat.Unread messages")," ")}function UG(t,n){if(t&1&&(E(0,"div",50),I(1,jG,3,6,"ng-container",23)(2,BG,2,3,"ng-template",null,7,J),x()),t&2){let e=n.unreadCount,i=U(3),r=b();v(),y("ngIf",e>0&&!r.hideUnreadCountForNotificationAndIndicator)("ngIfElse",i)}}var $G="5.12.3",fs=(()=>{class t{constructor(){this.notificationsSubject=new ie([]),this.notifications$=this.notificationsSubject.asObservable()}addTemporaryNotification(e,i="error",r=5e3,s,o){let a=this.createNotification(e,i,s,o),l=setTimeout(()=>this.removeNotification(a.id),r);return a.dismissFn=()=>{clearTimeout(l),this.removeNotification(a.id)},this.notificationsSubject.next([...this.notificationsSubject.getValue(),a]),a.dismissFn}addPermanentNotification(e,i="error",r,s){let o=this.createNotification(e,i,r,s);return this.notificationsSubject.next([...this.notificationsSubject.getValue(),o]),o.dismissFn}createNotification(e,i,r,s){let o=new Date().getTime().toString()+Math.random().toString();return{id:o,[typeof e=="string"?"text":"template"]:e,type:i,translateParams:r,templateContext:s??{},dismissFn:()=>this.removeNotification(o)}}removeNotification(e){let i=this.notificationsSubject.getValue(),r=i.findIndex(s=>s.id===e);r!==-1&&(i.splice(r,1),this.notificationsSubject.next([...i]))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$t=(()=>{class t{constructor(e,i){this.ngZone=e,this.notificationService=i,this.notificationSubject=new Fi(1),this.connectionStateSubject=new Fi(1),this.appSettingsSubject=new ie(void 0),this.pendingInvitesSubject=new ie([]),this.userSubject=new Fi(1),this.subscriptions=[],this.trackPendingChannelInvites=!0,this.events$=this.notificationSubject.asObservable(),this.connectionState$=this.connectionStateSubject.asObservable(),this.appSettings$=this.appSettingsSubject.asObservable(),this.pendingInvites$=this.pendingInvitesSubject.asObservable(),this.user$=this.userSubject.asObservable()}init(e,i,r,s){return ne(this,null,function*(){this.chatClient&&this.chatClient.key!==e&&(this.appSettingsSubject.next(void 0),this.appSettingsPromise=void 0),this.trackPendingChannelInvites=s?.trackPendingChannelInvites===!0,this.chatClient=p0.getInstance(e,s);let o="stream-chat-angular";this.chatClient.getUserAgent().includes(o)||this.chatClient.setUserAgent(`${o}-${$G}-${this.chatClient.getUserAgent()}`),this.chatClient.recoverStateOnReconnect=!1,this.chatClient.devToken;let a;if(yield this.ngZone.runOutsideAngular(()=>ne(this,null,function*(){let c=typeof i=="string"?{id:i}:i;try{a=yield({guest:()=>this.chatClient.setGuestUser(c),anonymous:()=>this.chatClient.connectAnonymousUser()}[`${r}`]??(()=>this.chatClient.connectUser(c,r)))()}catch(u){throw this.notificationService.addPermanentNotification("streamChat.Error connecting to chat, refresh the page to try again.","error"),u}this.userSubject.next(this.chatClient.user?V({},this.chatClient.user):void 0)})),this.chatClient.user?.id&&this.trackPendingChannelInvites){let c=yield this.chatClient.queryChannels({invite:"pending",members:{$in:[this.chatClient.user?.id]}});this.pendingInvitesSubject.next(c)}this.subscriptions.push(this.chatClient.on(c=>{this.updateUser(c),this.updatePendingInvites(c),this.notificationSubject.next({eventType:c.type,event:c})}));let l;return this.subscriptions.push(this.chatClient.on("connection.changed",c=>{this.ngZone.run(()=>{let u=c.online;u?l&&l():l=this.notificationService.addPermanentNotification("streamChat.Connection failure, reconnecting now..."),this.connectionStateSubject.next(u?"online":"offline")})})),a})}disconnectUser(){return ne(this,null,function*(){this.pendingInvitesSubject.next([]),yield this.chatClient.disconnectUser(),this.userSubject.next(void 0),this.subscriptions.forEach(e=>e.unsubscribe())})}getAppSettings(){return ne(this,null,function*(){if(this.appSettingsPromise||this.appSettingsSubject.getValue())return;this.appSettingsPromise=this.chatClient.getAppSettings(),this.appSettingsPromise.finally(()=>{this.appSettingsPromise=void 0});let e=yield this.appSettingsPromise;this.appSettingsSubject.next(e.app||{})})}flagMessage(e){return ne(this,null,function*(){yield this.chatClient.flagMessage(e)})}autocompleteUsers(e){return ne(this,null,function*(){return e?(yield this.chatClient.queryUsers({$or:[{id:{$autocomplete:e}},{name:{$autocomplete:e}}]})).users.filter(r=>r.id!==this.chatClient?.user?.id):[]})}updatePendingInvites(e){if(this.trackPendingChannelInvites&&e.member?.user?.id===this.chatClient.user?.id&&e.channel){let i=this.pendingInvitesSubject.getValue();if(e.type==="notification.invited"){let r=this.chatClient.channel(e.channel?.type,e.channel?.id);this.pendingInvitesSubject.next([...i,r])}else if(e.type==="notification.invite_accepted"||e.type==="notification.invite_rejected"){let r=i.findIndex(s=>s?.cid===e.channel?.cid);r!==-1&&(i.splice(r,1),this.pendingInvitesSubject.next([...i]))}}}updateUser(e){if(typeof e.total_unread_count<"u"){let i;this.userSubject.pipe(Xe(1)).subscribe(r=>{i=r}),i&&i.total_unread_count!==e.total_unread_count&&this.userSubject.next(Se(V({},i),{total_unread_count:e.total_unread_count}))}if(typeof e.unread_channels<"u"){let i;this.userSubject.pipe(Xe(1)).subscribe(r=>{i=r}),i&&i.unread_channels!==e.unread_channels&&this.userSubject.next(Se(V({},i),{unread_channels:e.unread_channels}))}if(typeof e.unread_count<"u"){let i;this.userSubject.pipe(Xe(1)).subscribe(r=>{i=r}),i&&i.unread_count!==e.unread_count&&this.userSubject.next(Se(V({},i),{unread_count:e.unread_count}))}e.type==="user.updated"&&this.chatClient.user&&e.user?.id===this.chatClient.user.id&&this.userSubject.next(V({},this.chatClient.user))}}return t.\u0275fac=function(e){return new(e||t)(P(pe),P(fs))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hs=(t,n,e)=>{let i=e?.language||n?.data?.auto_translation_language;if(i&&t?.i18n&&t?.user?.id!==e?.id)return t.i18n[`${i}_text`]},HG=(t,n,e=[],i=[],r=void 0,s=void 0,o)=>{let a=`${t.id}-${Jf()}`;return V({__html:n,created_at:new Date,html:n,id:a,reactions:[],status:"sending",text:n,type:"regular",user:t,attachments:e,mentioned_users:i,parent_id:r,quoted_message_id:s},o)},Xa=(t,n)=>{let e=[];return Object.keys(n.state.read).forEach(i=>{n.state.read[i].last_read.getTime()>=t.created_at.getTime()&&t.user?.id!==i&&e.push(n.state.read[i].user)}),e},U0=class{constructor(n,e,i,r={last_message_at:-1},s={limit:25,state:!0,presence:!0,watch:!0}){this.chatService=n,this.channelService=e,this.filters=i,this.sort=r,this.options=s}query(n){return ne(this,null,function*(){(n==="first-page"||n==="recover-state")&&(this.nextPageConfiguration=void 0);let e=n==="recover-state"?[]:this.channelService.channels,i,r;this.nextPageConfiguration?this.nextPageConfiguration.type==="filter"?(i=V(V({},this.filters),this.nextPageConfiguration.paginationFilter),r=this.options):(r=Se(V({},this.options),{offset:this.nextPageConfiguration.offset}),i=this.filters):(i=this.filters,r=this.options);let s=yield this.chatService.chatClient.queryChannels(i,this.sort||{},r);this.setNextPageConfiguration(s);let o=this.channelService.activeChannel;if(n==="recover-state"&&o&&!s.find(a=>a.cid===o?.cid))try{yield o.watch(),s.unshift(o)}catch(a){this.chatService.chatClient.logger("warn","Unable to refetch active channel after state recover",a)}return{channels:[...e,...s],hasMorePage:s.length>=this.options.limit}})}setNextPageConfiguration(n){this.customPaginator?this.nextPageConfiguration=this.customPaginator(n):this.nextPageConfiguration={type:"offset",offset:(this.nextPageConfiguration?.type==="offset"?this.nextPageConfiguration.offset:0)+n.length}}},En=(()=>{class t{constructor(e,i,r){this.chatClientService=e,this.ngZone=i,this.notificationService=r,this.isMessageLoadingInProgress=!1,this.messagePageSize=25,this.channelsSubject=new ie(void 0),this.activeChannelSubject=new ie(void 0),this.activeChannelMessagesSubject=new ie([]),this.activeChannelPinnedMessagesSubject=new ie([]),this.hasMoreChannelsSubject=new Fi(1),this.activeChannelSubscriptions=[],this.channelSubscriptions={},this.activeParentMessageIdSubject=new ie(void 0),this.activeThreadMessagesSubject=new ie([]),this.jumpToMessageSubject=new ie({id:void 0,parentId:void 0}),this.latestMessageDateByUserByChannelsSubject=new ie({}),this.attachmentMaxSizeFallbackInMB=100,this.messageToQuoteSubject=new ie(void 0),this.usersTypingInChannelSubject=new ie([]),this.usersTypingInThreadSubject=new ie([]),this._shouldMarkActiveChannelAsRead=!0,this.isStateRecoveryInProgress=!1,this.channelQueryStateSubject=new ie(void 0),this.channelListSetter=(s,o=!0)=>{let l=(this.channelsSubject.getValue()||[]).filter(u=>!s?.find(d=>d.cid===u.cid));for(let u=0;u<s.length;u++){let d=s[u];this.channelSubscriptions[d.cid]||this.watchForChannelEvents(d),l.includes(d)&&o&&(this.channelSubscriptions[d.cid]&&(this.channelSubscriptions[d.cid](),delete this.channelSubscriptions.cid),this.chatClientService.chatClient.activeChannels[d.cid]?.stopWatching().catch(h=>this.chatClientService.chatClient.logger("warn","Failed to unwatch channel",h)))}let c=s;this.channelsSubject.next(c),c.find(u=>u.cid===this.activeChannelSubject.getValue()?.cid)||(c.length>0?this.setAsActiveChannel(c[0]):this.activeChannelSubject.next(void 0))},this.messageListSetter=s=>{this.activeChannelMessagesSubject.next(s)},this.threadListSetter=s=>{this.activeThreadMessagesSubject.next(s)},this.parentMessageSetter=s=>{this.activeParentMessageIdSubject.next(s?.id)},this.areReadEventsPaused=!1,this.markReadThrottleTime=1050,this.channels$=this.channelsSubject.asObservable().pipe(gt(1)),this.activeChannel$=this.activeChannelSubject.asObservable().pipe(gt(1)),this.activeChannelMessages$=this.activeChannelMessagesSubject.pipe(xe(s=>{let o=this.activeChannelSubject.getValue();return s.map(a=>this.transformToStreamMessage(a,o))}),gt(1)),this.bouncedMessage$=new ie(void 0),this.hasMoreChannels$=this.hasMoreChannelsSubject.asObservable().pipe(gt(1)),this.activeParentMessageId$=this.activeParentMessageIdSubject.asObservable().pipe(gt(1)),this.activeThreadMessages$=this.activeThreadMessagesSubject.pipe(xe(s=>{let o=this.activeChannelSubject.getValue();return s.map(a=>this.transformToStreamMessage(a,o))}),gt(1)),this.activeParentMessage$=Nn([this.activeChannelMessages$,this.activeParentMessageId$]).pipe(xe(([s,o])=>{if(o){let a=s.find(l=>l.id===o);if(a)return a;this.setAsActiveParentMessage(void 0);return}else return}),gt(1)),this.messageToQuote$=this.messageToQuoteSubject.asObservable().pipe(gt(1)),this.jumpToMessage$=this.jumpToMessageSubject.asObservable().pipe(gt(1)),this.usersTypingInChannel$=this.usersTypingInChannelSubject.asObservable().pipe(gt(1)),this.usersTypingInThread$=this.usersTypingInThreadSubject.asObservable().pipe(gt(1)),this.latestMessageDateByUserByChannels$=this.latestMessageDateByUserByChannelsSubject.asObservable().pipe(gt(1)),this.activeChannelPinnedMessages$=this.activeChannelPinnedMessagesSubject.asObservable().pipe(gt(1)),this.channelQueryState$=this.channelQueryStateSubject.asObservable().pipe(gt(1))}get shouldMarkActiveChannelAsRead(){return this._shouldMarkActiveChannelAsRead}set shouldMarkActiveChannelAsRead(e){if(!this._shouldMarkActiveChannelAsRead&&e){let i=this.activeChannelSubject.getValue();i&&this.canSendReadEvents&&i.markRead()}this._shouldMarkActiveChannelAsRead=e}set customPaginator(e){this._customPaginator=e,this.channelQuery&&"customPaginator"in this.channelQuery&&(this.channelQuery.customPaginator=this._customPaginator)}setAsActiveChannel(e){let i=this.activeChannelSubject.getValue();if(i?.cid===e.cid)return;this.stopWatchForActiveChannelEvents(i),this.flushMarkReadQueue(),this.areReadEventsPaused=!1,this.isMessageLoadingInProgress=!1;let r=e.state.read[this.chatClientService.chatClient.user?.id||""];this.activeChannelLastReadMessageId=r?.last_read_message_id,e.state.latestMessages[e.state.latestMessages.length-1]?.id===this.activeChannelLastReadMessageId&&(this.activeChannelLastReadMessageId=void 0),this.activeChannelUnreadCount=r?.unread_messages||0,this.watchForActiveChannelEvents(e),this.addChannel(e),this.activeChannelSubject.next(e);let s=e.state.latestMessages.length;s>2*this.messagePageSize&&(e.state.latestMessages=e.state.latestMessages.slice(s-2*this.messagePageSize)),this.setChannelState(e)}deselectActiveChannel(){let e=this.activeChannelSubject.getValue();e&&(this.stopWatchForActiveChannelEvents(e),this.flushMarkReadQueue(),this.activeChannelMessagesSubject.next([]),this.activeChannelSubject.next(void 0),this.activeParentMessageIdSubject.next(void 0),this.activeThreadMessagesSubject.next([]),this.latestMessageDateByUserByChannelsSubject.next({}),this.selectMessageToQuote(void 0),this.jumpToMessageSubject.next({id:void 0,parentId:void 0}),this.activeChannelPinnedMessagesSubject.next([]),this.usersTypingInChannelSubject.next([]),this.usersTypingInThreadSubject.next([]),this.activeChannelLastReadMessageId=void 0,this.activeChannelUnreadCount=void 0,this.areReadEventsPaused=!1,this.isMessageLoadingInProgress=!1)}setAsActiveParentMessage(e,i="request"){return ne(this,null,function*(){let r=this.messageToQuoteSubject.getValue();if(r&&r.parent_id&&this.messageToQuoteSubject.next(void 0),e){this.activeParentMessageIdSubject.next(e.id);let s=this.activeChannelSubject.getValue();if(i==="request"){let o=yield s?.getReplies(e.id,{limit:this.messagePageSize});this.activeThreadMessagesSubject.next(o?.messages||[])}else this.activeThreadMessagesSubject.next(s?.state.threads[e.id]||[])}else{this.activeParentMessageIdSubject.next(void 0),this.activeThreadMessagesSubject.next([]);let s=this.jumpToMessageSubject.getValue();s&&s.parentId&&this.jumpToMessageSubject.next({id:void 0,parentId:void 0})}})}loadMoreMessages(e="older"){let i=this.activeChannelSubject.getValue(),r=this.activeChannelMessagesSubject.getValue(),s=r[e==="older"?0:r.length-1]?.id;return e==="newer"&&i?.state?.latestMessages===i?.state?.messages?!1:i?.query({messages:{limit:this.messagePageSize,[e==="older"?"id_lt":"id_gt"]:s},members:{limit:0},watchers:{limit:0}}).then(o=>(i?.data?.id===this.activeChannelSubject.getValue()?.data?.id&&this.activeChannelMessagesSubject.next([...i.state.messages]),o))}loadMoreThreadReplies(e="older"){if(e==="newer")return!1;let i=this.activeChannelSubject.getValue(),r=this.activeParentMessageIdSubject.getValue();if(!r||!i)return!1;let s=this.activeThreadMessagesSubject.getValue(),o=s[e==="older"?0:s.length-1]?.id;return i.getReplies(r,{limit:this.messagePageSize,[e==="older"?"id_lt":"id_gt"]:o}).then(()=>{this.activeThreadMessagesSubject.next(i?.state.threads[r]||[])})}init(e,i,r,s=!0){return this.channelQuery=new U0(this.chatClientService,this,e,i||{last_message_at:-1},V({limit:25,state:!0,presence:!0,watch:!0,message_limit:this.messagePageSize},r)),this.channelQuery.customPaginator=this._customPaginator,this._init({shouldSetActiveChannel:s,messagePageSize:r?.message_limit??this.messagePageSize})}initWithCustomQuery(e,i={shouldSetActiveChannel:!0,messagePageSize:this.messagePageSize}){return this.channelQuery=e,this._init(i)}reset(){this.deselectActiveChannel(),this.channelsSubject.next(void 0),this.channelQueryStateSubject.next(void 0),this.clientEventsSubscription?.unsubscribe(),this.dismissErrorNotification?.(),this.dismissErrorNotification=void 0,Object.keys(this.channelSubscriptions).forEach(e=>{this.channelSubscriptions[e]()}),this.channelSubscriptions={}}loadMoreChannels(){return ne(this,null,function*(){yield this.queryChannels(!1,"next-page")})}addReaction(e,i,r){return ne(this,null,function*(){yield this.activeChannelSubject.getValue()?.sendReaction(e,V({type:i},r))})}removeReaction(e,i){return ne(this,null,function*(){yield this.activeChannelSubject.getValue()?.deleteReaction(e,i)})}sendMessage(l){return ne(this,arguments,function*(e,i=[],r=[],s=void 0,o=void 0,a=void 0){let c={text:e,attachments:i,mentionedUsers:r,parentId:s,quotedMessageId:o,customData:a};this.beforeSendMessage&&(c=yield this.beforeSendMessage(c));let u=HG(this.chatClientService.chatClient.user,c.text,c.attachments,c.mentionedUsers,c.parentId,c.quotedMessageId,c.customData),d=this.activeChannelSubject.getValue();return u.readBy=[],d.state.addMessageSorted(u,!0),yield this.sendMessageRequest(u,c.customData)})}resendMessage(e){return ne(this,null,function*(){return this.activeChannelSubject.getValue().state.addMessageSorted(Se(V({},e),{errorStatusCode:void 0,status:"sending"}),!0),this.sendMessageRequest(e,void 0,!0)})}updateMessage(e){return ne(this,null,function*(){let i=V({},e);if(delete i.i18n,this.beforeUpdateMessage&&(i=yield this.beforeUpdateMessage(i)),i.readBy&&delete i.readBy,e.moderation_details)return this.resendMessage(e);let r=yield this.chatClientService.chatClient.updateMessage(i),s=this.channelsSubject.getValue()?.find(o=>o.cid===e.cid);return r.message.type==="error"&&r.message.moderation_details?(this.notificationService.addTemporaryNotification("streamChat.This message did not meet our content guidelines"),e):this.transformToStreamMessage(r.message,s)})}deleteMessage(e,i=!1){return ne(this,null,function*(){if(i&&this.activeChannel){this.activeChannel.state.removeMessage({id:e.id,parent_id:e.parent_id})&&(e.parent_id?this.activeThreadMessagesSubject.next(this.activeChannel.state.threads[e.parent_id]):this.activeChannelMessagesSubject.next(this.activeChannel.state.messages));return}this.messageDeleteConfirmationHandler?(yield this.messageDeleteConfirmationHandler(e))&&(yield this.chatClientService.chatClient.deleteMessage(e.id)):yield this.chatClientService.chatClient.deleteMessage(e.id)})}uploadAttachments(e){return ne(this,null,function*(){let i=[],r=this.activeChannelSubject.getValue();return(yield Promise.allSettled(e.map(o=>o.type==="image"?this.customImageUploadRequest?this.customImageUploadRequest(o.file,r):r.sendImage(o.file,o.file.name,o.file.type):this.customFileUploadRequest?this.customFileUploadRequest(o.file,r):r.sendFile(o.file,o.file.name,o.file.type)))).forEach((o,a)=>{let l=e[a].file,c=e[a].type;if(o.status==="fulfilled")i.push({file:l,type:c,state:"success",url:o.value.file,thumb_url:o.value.thumb_url});else{let u="unknown",d,h=o.reason.response?.data?.message,f=o.reason.response?.data?.code;if(f===22||f===4&&h?.toLowerCase()?.includes("bytes")){if(u="file-size",d={param:/\d+MB|\d+\s?bytes/.exec(h||"")?.[0]||`${this.attachmentMaxSizeFallbackInMB}MB`},d.param.includes("bytes")){let p=+(/\d+/.exec(d.param)?.[0]||this.attachmentMaxSizeFallbackInMB*1024*1024);d.param=`${p/(1024*1024)}MB`}}else f===4&&h?.toLowerCase()?.includes("file extension")&&(u="file-extension",d={param:/\.\w+/.exec(h)?.[0]||""});i.push({file:l,type:c,state:"error",errorReason:u,errorExtraInfo:d?[d]:void 0})}}),i})}deleteAttachment(e){return ne(this,null,function*(){let i=this.activeChannelSubject.getValue();yield e.type==="image"?this.customImageDeleteRequest?this.customImageDeleteRequest(e.url,i):i.deleteImage(e.url):this.customFileDeleteRequest?this.customFileDeleteRequest(e.url,i):i.deleteFile(e.url)})}autocompleteMembers(e){return ne(this,null,function*(){let i=this.activeChannelSubject.getValue();return i?Object.keys(i.state.members).length<100?Object.values(i.state.members).filter(r=>r.user?.id!==this.chatClientService.chatClient.userID):e?(yield i.queryMembers({name:{$autocomplete:e}})).members.filter(s=>s.user_id!==this.chatClientService.chatClient?.user?.id):[]:[]})}sendAction(e,i,r){return ne(this,null,function*(){let s=this.activeChannelSubject.getValue(),o=yield s.sendAction(e,i);o?.message?(s.state.addMessageSorted(Se(V({},o.message),{status:"received"})),!!o.message.parent_id?this.activeThreadMessagesSubject.next([...s.state.threads[o.message.parent_id]]):this.activeChannelMessagesSubject.next([...s.state.messages])):(s.state.removeMessage({id:e,parent_id:r}),r?this.activeThreadMessagesSubject.next(s.state.threads[this.activeParentMessageIdSubject.getValue()]):this.activeChannelMessagesSubject.next([...s.state.messages]))})}selectMessageToQuote(e){this.messageToQuoteSubject.next(e)}addChannel(e){this.channels.find(i=>i.cid===e.cid)||(this.channelsSubject.next([e,...this.channels]),this.watchForChannelEvents(e))}removeChannel(e,i=!0){let r=this.channels.filter(s=>s.cid!==e);i&&(this.channelSubscriptions[e]&&(this.channelSubscriptions[e](),delete this.channelSubscriptions.cid),this.chatClientService.chatClient.activeChannels[e]?.stopWatching().catch(s=>this.chatClientService.chatClient.logger("warn","Failed to unwatch channel",s))),r.length<this.channels.length&&(this.channelsSubject.next(r),e===this.activeChannelSubject.getValue()?.cid&&(r.length>0?this.setAsActiveChannel(r[0]):this.activeChannelSubject.next(void 0)))}sendMessageRequest(e,i,r=!1){return ne(this,null,function*(){let s=this.activeChannelSubject.getValue(),o=!!e.parent_id;o?this.activeThreadMessagesSubject.next([...s.state.threads[e.parent_id]]):this.activeChannelMessagesSubject.next([...s.state.messages]);try{let a=yield s.sendMessage(V({id:e.id,text:e.text,attachments:e.attachments,mentioned_users:e.mentioned_users?.map(u=>u.id),parent_id:e.parent_id,quoted_message_id:e.quoted_message_id},i));s.state.addMessageSorted(Se(V({},a.message),{status:"received"}),!0),o?this.activeThreadMessagesSubject.next([...s.state.threads[e.parent_id]]):this.activeChannelMessagesSubject.next([...s.state.messages]);let l;return(o?this.activeThreadMessages$:this.activeChannelMessages$).pipe(Xe(1)).subscribe(u=>l=u),l[l.length-1]}catch(a){let l=JSON.stringify(a),c=l?JSON.parse(l):{},u=!1;r&&c.status===400&&c.code===4&&c?.response?.data?.message?.includes("already exists")&&(u=!0),s.state.addMessageSorted(Se(V({},e),{errorStatusCode:u?void 0:c.status||void 0,status:u?"received":"failed"}),!0),o?this.activeThreadMessagesSubject.next([...s.state.threads[e.parent_id]]):this.activeChannelMessagesSubject.next([...s.state.messages]);let d;return(o?this.activeThreadMessages$:this.activeChannelMessages$).pipe(Xe(1)).subscribe(f=>d=f),d[d.length-1]}})}jumpToMessage(e,i){return ne(this,null,function*(){this.isMessageLoadingInProgress=!0;let r=this.activeChannelSubject.getValue();try{yield r?.state.loadMessageIntoState(e,i);let s=r?.state.messages||[];if(this.activeChannelMessagesSubject.next([...s]),i){let o=s.find(a=>a.id===i);this.setAsActiveParentMessage(o,"state")}this.jumpToMessageSubject.next({id:e,parentId:i})}catch(s){throw this.notificationService.addTemporaryNotification("streamChat.Message not found"),s}finally{this.isMessageLoadingInProgress=!1}})}clearMessageJump(){this.jumpToMessageSubject.next({id:void 0,parentId:void 0})}pinMessage(e){return ne(this,null,function*(){try{yield this.chatClientService.chatClient?.pinMessage(e),this.notificationService.addTemporaryNotification("streamChat.Message pinned","success")}catch(i){throw this.notificationService.addTemporaryNotification("streamChat.Error pinning message"),i}})}unpinMessage(e){return ne(this,null,function*(){try{yield this.chatClientService.chatClient?.unpinMessage(e),this.notificationService.addTemporaryNotification("streamChat.Message unpinned","success")}catch(i){throw this.notificationService.addTemporaryNotification("streamChat.Error removing message pin"),i}})}handleNotification(e){switch(e.eventType){case"connection.recovered":{this.ngZone.run(()=>ne(this,null,function*(){if(!this.isStateRecoveryInProgress){this.isStateRecoveryInProgress=!0;try{let i=this.shouldSetActiveChannel&&!this.activeChannelSubject.getValue();if(yield this.queryChannels(i||!1,"recover-state"),this.activeChannelSubject.getValue()){this.setAsActiveParentMessage(void 0);let r=this.messageToQuoteSubject.getValue();this.setChannelState(this.activeChannelSubject.getValue());let s;this.activeChannelMessages$.pipe(Xe(1)).subscribe(a=>s=a);let o=s.find(a=>a.id===r?.id);o&&this.selectMessageToQuote(o)}this.isStateRecoveryInProgress=!1}catch{this.isStateRecoveryInProgress=!1}}}));break}case"notification.message_new":{this.ngZone.run(()=>{this.customNewMessageNotificationHandler?this.customNewMessageNotificationHandler(e,this.channelListSetter):this.handleNewMessageNotification(e)});break}case"notification.added_to_channel":{this.ngZone.run(()=>{this.customAddedToChannelNotificationHandler?this.customAddedToChannelNotificationHandler(e,this.channelListSetter):this.handleAddedToChannelNotification(e)});break}case"notification.removed_from_channel":{this.ngZone.run(()=>{this.customRemovedFromChannelNotificationHandler?this.customRemovedFromChannelNotificationHandler(e,this.channelListSetter):this.handleRemovedFromChannelNotification(e)});break}case"user.updated":{this.ngZone.run(()=>{let i=this.channelsSubject.getValue()?.map(s=>this.chatClientService.chatClient.activeChannels[s.cid]?this.chatClientService.chatClient.activeChannels[s.cid]:s);this.channelsSubject.next(i);let r=this.activeChannelSubject.getValue();if(r){this.activeChannelSubject.next(this.chatClientService.chatClient.activeChannels[r.cid]||r),this.activeChannelMessagesSubject.next(r.state.messages.map(o=>(o.readBy=Xa(o,r),V({},o))));let s=this.activeParentMessageIdSubject.getValue();if(s){let o=r.state.threads[s];this.activeThreadMessagesSubject.next([...o])}this.activeChannelPinnedMessagesSubject.next([...r.state.pinnedMessages])}});break}}}handleRemovedFromChannelNotification(e){let i=e.event.channel.cid;this.removeChannel(i,!0)}handleNewMessageNotification(e){e.event.channel&&this.addChannelFromNotification(e.event.channel)}handleAddedToChannelNotification(e){e.event.channel&&this.addChannelFromNotification(e.event.channel)}addChannelFromNotification(e){return ne(this,null,function*(){let i=this.chatClientService.chatClient.channel(e.type,e.id),r=this.channelsSubject.getValue()||[];r.find(s=>s.cid===i.cid)||(yield i.watch().catch(s=>{this.chatClientService.chatClient.logger("error","Failed to add channel to channel list because watch request failed",s)}),r=this.channelsSubject.getValue()||[],!r.find(s=>s.cid===i.cid)&&(this.watchForChannelEvents(i),this.channelsSubject.next([i,...r])))})}watchForActiveChannelEvents(e){this.activeChannelSubscriptions.push(e.on("message.new",i=>{this.ngZone.run(()=>{i.message&&i.message.parent_id?i.message.parent_id===this.activeParentMessageIdSubject.getValue()&&this.activeThreadMessagesSubject.next([...e.state.threads[i.message.parent_id]]):this.activeChannelMessagesSubject.next([...e.state.messages]),this.activeChannel$.pipe(Nr()).subscribe(r=>{r&&this.markRead(r)}),this.updateLatestMessages(i)})})),this.activeChannelSubscriptions.push(e.on("message.updated",i=>this.messageUpdated(i))),this.activeChannelSubscriptions.push(e.on("message.deleted",i=>this.messageUpdated(i))),this.activeChannelSubscriptions.push(e.on("reaction.new",i=>this.messageReactionEventReceived(i))),this.activeChannelSubscriptions.push(e.on("reaction.deleted",i=>this.messageReactionEventReceived(i))),this.activeChannelSubscriptions.push(e.on("reaction.updated",i=>this.messageReactionEventReceived(i))),this.activeChannelSubscriptions.push(e.on("message.read",i=>{this.ngZone.run(()=>{let r,s;this.activeChannelMessages$.pipe(Nr()).subscribe(o=>{s=o,r=s[s.length-1]}),!(!r||!i.user)&&(r.readBy?r.readBy.splice(0,r.readBy.length):r.readBy=[],r.readBy.push(...Xa(r,e)),s[s.length-1]=V({},r),this.activeChannelMessagesSubject.next([...s]))})})),this.activeChannelSubscriptions.push(this.chatClientService.events$.pipe(ut(i=>i.eventType==="notification.mark_unread"&&i.event.channel_id===e.id),xe(i=>i.event)).subscribe(i=>{this.ngZone.run(()=>{this.activeChannelLastReadMessageId=i.last_read_message_id,this.activeChannelUnreadCount=i.unread_messages,this.activeChannelSubject.next(this.activeChannel)})})),this.activeChannelSubscriptions.push(e.on("typing.start",i=>this.ngZone.run(()=>this.handleTypingStartEvent(i)))),this.activeChannelSubscriptions.push(e.on("typing.stop",i=>this.ngZone.run(()=>this.handleTypingStopEvent(i))))}typingStarted(e){return ne(this,null,function*(){yield this.activeChannelSubject.getValue()?.keystroke(e)})}typingStopped(e){return ne(this,null,function*(){yield this.activeChannelSubject.getValue()?.stopTyping(e)})}get channels(){return this.channelsSubject.getValue()||[]}get activeChannel(){return this.activeChannelSubject.getValue()||void 0}get activeChannelMessages(){return this.activeChannelMessagesSubject.getValue()||[]}get activeChannelThreadReplies(){return this.activeThreadMessagesSubject.getValue()||[]}getMessageReactions(e){return ne(this,null,function*(){let i=[],s=0,o=t.MAX_MESSAGE_REACTIONS_TO_FETCH,a=300;for(;a===300&&i.length<o;)try{let l=yield this.activeChannel?.getReactions(e,{offset:s,limit:300});a=l?.reactions?.length||0,a>0&&i.push(...l.reactions),s+=a}catch(l){throw this.notificationService.addTemporaryNotification("streamChat.Error loading reactions"),l}return i})}markMessageUnread(e){return ne(this,null,function*(){if(this.activeChannel)try{let i=yield this.activeChannel.markUnread({message_id:e});return this.areReadEventsPaused=!0,i}catch(i){let s=JSON.parse(JSON.stringify(i))?.response?.data;if(s&&s.code===4&&s.StatusCode===400&&s.message?.includes("it is older than last")){let o=/\d+ channel messages/.exec(s.message)?.[0].match(/\d+/)?.[0];if(o)throw this.notificationService.addTemporaryNotification("streamChat.Error, only the first {{count}} message can be marked as unread",void 0,void 0,{count:o}),i}throw this.notificationService.addTemporaryNotification("streamChat.Error marking message as unread"),i}})}messageUpdated(e){this.ngZone.run(()=>{let i=e.message&&e.message.parent_id,r=this.activeChannelSubject.getValue();if(!r)return;let s=i?r.state.threads[e?.message?.parent_id||""]:r.state.messages;if(!s)return;(s.findIndex(a=>a.id===e?.message?.id)!==-1||e.type==="message.deleted")&&(i?this.activeThreadMessagesSubject.next([...s]):this.activeChannelMessagesSubject.next([...s]),this.activeChannelPinnedMessagesSubject.next([...r.state.pinnedMessages]))})}messageReactionEventReceived(e){this.ngZone.run(()=>{let i=e.message&&e.message.parent_id,r;(i?this.activeThreadMessages$:this.activeChannelMessages$).pipe(Nr()).subscribe(a=>r=a);let s=r.findIndex(a=>a.id===e?.message?.id);if(s===-1)return;let o=r[s];o.reaction_counts=V({},e.message?.reaction_counts),o.reaction_scores=V({},e.message?.reaction_scores),o.latest_reactions=[...e.message?.latest_reactions||[]],o.own_reactions=[...e.message?.own_reactions||[]],o.reaction_groups=V({},e.message?.reaction_groups),r[s]=V({},o),i?this.activeThreadMessagesSubject.next([...r]):this.activeChannelMessagesSubject.next([...r])})}formatMessage(e){let i=e;return i.pinned_at=e.pinned_at?new Date(e.pinned_at):null,i.created_at=e.created_at?new Date(e.created_at):new Date,i.updated_at=e.updated_at?new Date(e.updated_at):new Date,e.status=e.status||"received",i}isStreamMessage(e){return!!e.readBy}isFormatMessageResponse(e){return e.created_at instanceof Date}stopWatchForActiveChannelEvents(e){e&&(this.activeChannelSubscriptions.forEach(i=>i.unsubscribe()),this.activeChannelSubscriptions=[])}queryChannels(e,i){return ne(this,null,function*(){if(!this.channelQuery)throw new Error("Query channels called before initializing ChannelQuery instance");try{this.channelQueryStateSubject.next({state:"in-progress"});let{channels:r,hasMorePage:s}=yield"query"in this.channelQuery?this.channelQuery.query(i):this.channelQuery(i),o=r.filter((l,c)=>!r.slice(0,c).find(u=>u.cid===l.cid));o.forEach(l=>{this.channelSubscriptions[l.cid]||this.watchForChannelEvents(l)}),this.channelsSubject.next(o);let a=this.activeChannelSubject.getValue();return a&&!o.find(l=>l.cid===a?.cid)?this.deselectActiveChannel():o.length>0&&!a&&e&&this.setAsActiveChannel(o[0]),this.hasMoreChannelsSubject.next(s),this.channelQueryStateSubject.next({state:"success"}),this.dismissErrorNotification?.(),r}catch(r){throw this.channelQueryStateSubject.next({state:"error",error:r}),r}})}watchForChannelEvents(e){this.channelSubscriptions[e.cid]&&this.channelSubscriptions[e.cid]();let i=e.on(r=>{switch(r.type){case"message.new":{this.ngZone.run(()=>{this.customNewMessageHandler?this.customNewMessageHandler(r,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleNewMessage(r,e)});break}case"channel.hidden":{this.ngZone.run(()=>{this.customChannelHiddenHandler?this.customChannelHiddenHandler(r,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleChannelHidden(r)});break}case"channel.deleted":{this.ngZone.run(()=>{this.customChannelDeletedHandler?this.customChannelDeletedHandler(r,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleChannelDeleted(r)});break}case"channel.visible":{this.ngZone.run(()=>{this.customChannelVisibleHandler?this.customChannelVisibleHandler(r,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleChannelVisible(r,e)});break}case"channel.updated":{this.ngZone.run(()=>{this.customChannelUpdatedHandler?this.customChannelUpdatedHandler(r,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleChannelUpdate(r)});break}case"channel.truncated":{this.ngZone.run(()=>{this.customChannelTruncatedHandler?this.customChannelTruncatedHandler(r,e,this.channelListSetter,this.messageListSetter,this.threadListSetter,this.parentMessageSetter):this.handleChannelTruncate(r)});break}case"capabilities.changed":{this.ngZone.run(()=>{let o=r.cid;if(o){let a=this.channelsSubject.getValue(),l=a?.findIndex(c=>c.cid===o);l!==-1&&l!==void 0&&(this.channelsSubject.next([...a]),o===this.activeChannelSubject.getValue()?.cid&&this.activeChannelSubject.next(this.activeChannelSubject.getValue()))}});break}}});this.channelSubscriptions[e.cid]=i.unsubscribe}handleNewMessage(e,i){let r=this.channels.findIndex(s=>s.cid===i.cid);this.channels.splice(r,1),this.channelsSubject.next([i,...this.channels])}handleChannelHidden(e){this.removeChannel(e.channel.cid,!1)}handleChannelDeleted(e){this.removeChannel(e.channel.cid,!1)}handleChannelVisible(e,i){this.channels.find(r=>r.cid===e.cid)||this.ngZone.run(()=>this.channelsSubject.next([...this.channels,i]))}handleChannelUpdate(e){let i=this.channels.findIndex(r=>r.cid===e.channel.cid);if(i!==-1){let r=this.channels[i],s={hidden:r.data?.hidden||!1,own_capabilities:r.data?.own_capabilities||[]};r.data=V(V({},e.channel),s),this.channelsSubject.next([...this.channels]),e.channel?.cid===this.activeChannelSubject.getValue()?.cid&&this.activeChannelSubject.next(r)}}handleChannelTruncate(e){let i=this.channels.findIndex(r=>r.cid===e.channel.cid);if(i!==-1&&(this.channels[i].state.messages=[],this.channelsSubject.next([...this.channels]),e.channel?.cid===this.activeChannelSubject.getValue()?.cid)){let r=this.activeChannelSubject.getValue();r.state.messages=[],this.activeChannelSubject.next(r),this.activeChannelMessagesSubject.next([]),this.activeParentMessageIdSubject.next(void 0),this.activeThreadMessagesSubject.next([])}}get canSendReadEvents(){let e=this.activeChannelSubject.getValue();return e?(e.data?.own_capabilities).indexOf("read-events")!==-1:!1}transformToStreamMessage(e,i){let r=!!e.parent_id;return this.isStreamMessage(e)&&this.isFormatMessageResponse(e)?(e.quoted_message&&(e.quoted_message.translation=hs(e.quoted_message,i,this.chatClientService.chatClient.user)),e.translation=hs(e,i,this.chatClientService.chatClient.user),e):(e.quoted_message&&(e.quoted_message.translation=hs(e.quoted_message,i,this.chatClientService.chatClient.user)),this.isFormatMessageResponse(e)?(e.readBy=r?[]:i?Xa(e,i):[],e.translation=hs(e,i,this.chatClientService.chatClient.user),e):(e=this.formatMessage(e),e.readBy=r?[]:i?Xa(e,i):[],e.translation=hs(e,i,this.chatClientService.chatClient.user),e))}handleTypingStartEvent(e){if(e.user?.id===this.chatClientService.chatClient.user?.id)return;let i=!!e.parent_id;if(i&&e.parent_id!==this.activeParentMessageIdSubject.getValue())return;let r=i?this.usersTypingInThreadSubject:this.usersTypingInChannelSubject,s=r.getValue(),o=e.user;o&&!s.find(a=>a.id===o.id)&&(s.push(o),r.next([...s]))}handleTypingStopEvent(e){let i=this.usersTypingInChannelSubject.getValue(),r=this.usersTypingInThreadSubject.getValue(),s=e.user;if(s&&i.find(o=>o.id===s.id)){i.splice(i.findIndex(o=>o.id===s.id),1),this.usersTypingInChannelSubject.next([...i]);return}if(s&&r.find(o=>o.id===s.id)){r.splice(r.findIndex(o=>o.id===s.id),1),this.usersTypingInThreadSubject.next([...r]);return}}updateLatestMessages(e){if(e.message?.user?.id!==this.chatClientService?.chatClient.user?.id)return;let i=this.latestMessageDateByUserByChannelsSubject.getValue();if(!e.message?.created_at)return;let r=e?.message?.cid;if(!r)return;let s=new Date(e.message.created_at);(!i[r]||i[r]?.getTime()<s.getTime())&&(i[r]=s,this.latestMessageDateByUserByChannelsSubject.next(V({},i)))}setChannelState(e){e.state.messages.forEach(i=>{i.readBy=Xa(i,e),i.translation=hs(i,e,this.chatClientService.chatClient.user),i.quoted_message&&(i.quoted_message.translation=hs(i.quoted_message,e,this.chatClientService.chatClient.user))}),this.markRead(e),this.activeChannelMessagesSubject.next([...e.state.messages]),this.activeChannelPinnedMessagesSubject.next([...e.state.pinnedMessages]),this.activeParentMessageIdSubject.next(void 0),this.activeThreadMessagesSubject.next([]),this.messageToQuoteSubject.next(void 0),this.usersTypingInChannelSubject.next([]),this.usersTypingInThreadSubject.next([])}markRead(e,i=!0){this.canSendReadEvents&&this.shouldMarkActiveChannelAsRead&&!this.areReadEventsPaused&&(i?this.markReadThrottled(e):e.markRead())}markReadThrottled(e){this.markReadTimeout?(clearTimeout(this.markReadTimeout),this.scheduledMarkReadRequest=()=>this.markRead(e,!1),this.markReadTimeout=setTimeout(()=>{this.flushMarkReadQueue()},this.markReadThrottleTime)):(this.markRead(e,!1),this.markReadTimeout=setTimeout(()=>{this.flushMarkReadQueue()},this.markReadThrottleTime))}flushMarkReadQueue(){this.scheduledMarkReadRequest?.(),this.scheduledMarkReadRequest=void 0,clearTimeout(this.markReadTimeout),this.markReadTimeout=void 0}_init(e){return ne(this,null,function*(){this.shouldSetActiveChannel=e.shouldSetActiveChannel,this.messagePageSize=e.messagePageSize,this.clientEventsSubscription=this.chatClientService.events$.subscribe(i=>void this.handleNotification(i));try{return yield this.queryChannels(this.shouldSetActiveChannel,"first-page")}catch(i){throw this.dismissErrorNotification=this.notificationService.addPermanentNotification("streamChat.Error loading channels","error"),i}})}}return t.MAX_MESSAGE_REACTIONS_TO_FETCH=1200,t.\u0275fac=function(e){return new(e||t)(P($t),P(pe),P(fs))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tb=(()=>{class t{constructor(){this.theme$=new ie("light")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),V0=t=>t.type.startsWith("image/")&&!t.type.endsWith(".photoshop"),zG=t=>new Promise((n,e)=>{let i=new FileReader;i.onload=()=>{n(i.result)},i.onerror=()=>{e(i.error)},i.readAsArrayBuffer(t)}),qG=({blobsArray:t,fileName:n,mimeType:e})=>{let i=new Blob(t,{type:e});return new File([i],n,{type:i.type})},WG=t=>{let n=t.match(/\/([^/;]+)/);return n&&n[1]},bR=t=>new Promise((n,e)=>{let i=new FileReader;i.onload=r=>{n(r.target?.result??void 0)},i.onerror=r=>e(r),i.readAsDataURL(t)}),CR=t=>t.type==="image"&&!t.title_link&&!t.og_scrape_url,yp=(()=>{class t{constructor(){this.displayAs="text"}isCustomAttachment(e){return this.filterCustomAttachment?this.filterCustomAttachment(e):e.type!=="image"&&e.type!=="file"&&e.type!=="video"&&e.type!=="voiceRecording"&&e.type!=="giphy"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$0=(()=>{class t{constructor(e,i,r,s){this.channelService=e,this.notificationService=i,this.chatClientService=r,this.messageService=s,this.attachmentUploadInProgressCounter$=new ie(0),this.customAttachments$=new ie([]),this.maxNumberOfAttachments=30,this.attachmentUploadsSubject=new ie([]),this.attachmentUploads$=this.attachmentUploadsSubject.asObservable(),this.chatClientService.appSettings$.subscribe(o=>this.appSettings=o),this.attachmentsCounter$=Nn([this.attachmentUploads$,this.customAttachments$]).pipe(xe(([o,a])=>o.filter(l=>l.state==="success").length+a.length),gt(1)),this.attachmentsCounter$.subscribe(o=>{o>this.maxNumberOfAttachments?this.attachmentLimitNotificationHide=this.notificationService.addPermanentNotification("streamChat.You currently have {{count}} attachments, the maximum is {{max}}","error",{count:o,max:this.maxNumberOfAttachments}):this.attachmentLimitNotificationHide?.()})}resetAttachmentUploads(){this.attachmentUploadsSubject.next([]),this.customAttachments$.next([]),this.attachmentLimitNotificationHide?.()}uploadVoiceRecording(e){return ne(this,null,function*(){if(!this.isWithinLimit(1)||!(yield this.areAttachmentsHaveValidExtension([e.recording]))||!(yield this.areAttachmentsHaveValidSize([e.recording])))return!1;let i={file:e.recording,previewUri:e.asset_url,extraData:{duration:e.duration,waveform_data:e.waveform_data},state:"uploading",type:"voiceRecording"};return this.attachmentUploadsSubject.next([...this.attachmentUploadsSubject.getValue(),i]),yield this.uploadAttachments([i]),!0})}filesSelected(e){return ne(this,null,function*(){if(!e)return;let i=Array.from(e);if(!this.isWithinLimit(i.length)||!(yield this.areAttachmentsHaveValidExtension(i))||!(yield this.areAttachmentsHaveValidSize(i)))return!1;let r=[],s=[],o=[];i.forEach(l=>{V0(l)?r.push(l):l.type.startsWith("video/")?o.push(l):s.push(l)}),r.forEach(l=>void this.createPreview(l));let a=[...r.map(l=>({file:l,state:"uploading",type:"image"})),...o.map(l=>({file:l,state:"uploading",type:"video"})),...s.map(l=>({file:l,state:"uploading",type:"file"}))];return this.attachmentUploadsSubject.next([...this.attachmentUploadsSubject.getValue(),...a]),yield this.uploadAttachments(a),!0})}addAttachment(e){e.isCustomAttachment=!0,this.createFromAttachments([e])}retryAttachmentUpload(e){return ne(this,null,function*(){let i=this.attachmentUploadsSubject.getValue(),r=i.find(s=>s.file===e);r&&(r.state="uploading",this.attachmentUploadsSubject.next([...i]),yield this.uploadAttachments([r]))})}deleteAttachment(e){return ne(this,null,function*(){let i=this.attachmentUploadsSubject.getValue(),r;if(e.state==="success"&&!e.fromAttachment?.isCustomAttachment)try{yield this.channelService.deleteAttachment(e),r=[...i];let s=i.indexOf(e);r.splice(s,1)}catch{r=i,this.notificationService.addTemporaryNotification("streamChat.Error deleting attachment")}else{r=[...i];let s=i.indexOf(e);r.splice(s,1)}this.attachmentUploadsSubject.next([...r])})}mapToAttachments(){return[...this.attachmentUploadsSubject.getValue().filter(r=>r.state==="success").map(r=>{let s={type:r.type};return r.fromAttachment?r.fromAttachment:(s.mime_type=r.file?.type,r.type==="image"?(s.fallback=r.file?.name,s.image_url=r.url):(s.asset_url=r.url,s.title=r.file?.name,s.file_size=r.file?.size,s.thumb_url=r.thumb_url),r.extraData&&(s=V(V({},s),r.extraData)),s)}),...this.customAttachments$.value]}createFromAttachments(e){let i=[],r=[],s=[];e.forEach(o=>{this.messageService.isCustomAttachment(o)?s.push(o):r.push(o)}),r.forEach(o=>{CR(o)?i.push({url:o.img_url||o.thumb_url||o.image_url,state:"success",type:"image",file:{name:o.fallback,type:o.mime_type},fromAttachment:o}):o.type==="file"||o.type==="video"?i.push({url:o.asset_url,state:"success",file:{name:o.title,size:o.file_size,type:o.mime_type},type:o.type,thumb_url:o.thumb_url,fromAttachment:o}):o.type==="voiceRecording"&&i.push({url:o.asset_url,state:"success",file:{name:o.title,size:o.file_size,type:o.mime_type},type:"voiceRecording",extraData:{duration:o.duration,waveform_data:o.waveform_data}})}),i.length>0&&this.attachmentUploadsSubject.next([...this.attachmentUploadsSubject.getValue(),...i]),s.length>0&&this.customAttachments$.next(s)}createPreview(e){return ne(this,null,function*(){try{let i=yield bR(e),r=this.attachmentUploadsSubject.getValue(),s=r.find(o=>o.file===e);if(!s)return;s.previewUri=i,this.attachmentUploadsSubject.next([...r])}catch(i){this.chatClientService?.chatClient?.logger("error",i instanceof Error?i.message:"Can't create image preview",{error:i,tag:["AttachmentService"]})}})}uploadAttachments(e){return ne(this,null,function*(){this.attachmentUploadInProgressCounter$.next(this.attachmentUploadInProgressCounter$.value+1);let i=yield this.channelService.uploadAttachments(e),r=this.attachmentUploadsSubject.getValue();i.forEach(s=>{let o=r.find(a=>a.file===s.file);if(!o){s.url&&this.channelService.deleteAttachment(s);return}if(o.state=s.state,o.url=s.url,o.thumb_url=s.thumb_url,o.state==="error"){o.errorReason=s.errorReason,o.errorExtraInfo=s.errorExtraInfo;let a,l={name:o.file.name};switch(o.errorReason){case"file-extension":a="streamChat.Error uploading file, extension not supported",l.ext=o.errorExtraInfo?.[0]?.param;break;case"file-size":a="streamChat.Error uploading file, maximum file size exceeded",l.limit=o.errorExtraInfo?.[0]?.param;break;default:a="streamChat.Error uploading file"}this.notificationService.addTemporaryNotification(a,"error",void 0,l)}}),this.attachmentUploadInProgressCounter$.next(this.attachmentUploadInProgressCounter$.value-1),this.attachmentUploadsSubject.next([...r])})}areAttachmentsHaveValidExtension(e){return ne(this,null,function*(){if(!this.appSettings)try{yield this.chatClientService.getAppSettings()}catch{return!0}let i=!0;return e.forEach(r=>{let s,o,a,l;V0(r)?(s=!!this.appSettings?.image_upload_config?.blocked_file_extensions?.find(c=>r.name.endsWith(c)),o=!!this.appSettings?.image_upload_config?.blocked_mime_types?.find(c=>r.type===c),a=!!this.appSettings?.image_upload_config?.allowed_file_extensions?.length&&!this.appSettings?.image_upload_config?.allowed_file_extensions?.find(c=>r.name.endsWith(c)),l=!!this.appSettings?.image_upload_config?.allowed_mime_types?.length&&!this.appSettings?.image_upload_config?.allowed_mime_types?.find(c=>r.type===c)):(s=!!this.appSettings?.file_upload_config?.blocked_file_extensions?.find(c=>r.name.endsWith(c)),o=!!this.appSettings?.file_upload_config?.blocked_mime_types?.find(c=>r.type===c),a=!!this.appSettings?.file_upload_config?.allowed_file_extensions?.length&&!this.appSettings?.file_upload_config?.allowed_file_extensions?.find(c=>r.name.endsWith(c)),l=!!this.appSettings?.file_upload_config?.allowed_mime_types?.length&&!this.appSettings?.file_upload_config?.allowed_mime_types?.find(c=>r.type===c)),(s||o||a||l)&&(this.notificationService.addTemporaryNotification("streamChat.Error uploading file, extension not supported",void 0,void 0,{name:r.name,ext:r.type}),i=!1)}),i})}areAttachmentsHaveValidSize(e){return ne(this,null,function*(){if(!this.appSettings)try{yield this.chatClientService.getAppSettings()}catch{return!0}let i=this.appSettings?.image_upload_config?.size_limit||0,r=`${i/(1024*1024)}MB`,s=this.appSettings?.file_upload_config?.size_limit||0,o=`${s/(1024*1024)}MB`,a=!0;return e.forEach(l=>{let c=!1,u="";V0(l)&&i>0?(c=l.size>i,u=r):s>0&&(c=l.size>s,u=o),c&&(this.notificationService.addTemporaryNotification("streamChat.Error uploading file, maximum file size exceeded",void 0,void 0,{name:l.name,limit:u}),a=!1)}),a})}isWithinLimit(e){let i=0;return this.attachmentsCounter$.pipe(Xe(1)).subscribe(r=>i=r),i+e>this.maxNumberOfAttachments?(this.notificationService.addTemporaryNotification("streamChat.You can't uplod more than {{max}} attachments","error",void 0,{max:this.maxNumberOfAttachments}),!1):!0}}return t.\u0275fac=function(e){return new(e||t)(P(En),P(fs),P($t),P(yp))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),GG=(()=>{class t{constructor(){this.shouldGenerateVideoThumbnail=!0}getImageAttachmentConfiguration(e,i,r){if(this.customImageAttachmentConfigurationHandler)return this.customImageAttachmentConfigurationHandler(e,i,r);let s=1e6,o=e.img_url||e.thumb_url||e.image_url||"",a;try{a=new URL(o)}catch{return{url:o,width:"",height:"",originalHeight:s,originalWidth:s}}let l=Number(a.searchParams.get("oh"))>1?Number(a.searchParams.get("oh")):s,c=Number(a.searchParams.get("ow"))>1?Number(a.searchParams.get("ow")):s,u=i==="gallery"||i==="single",d=this.getSizingRestrictions(a,r,u);return d&&(d.height*=2,d.width*=2,this.addResizingParamsToUrl(d,a)),{url:a.href,width:"",height:"",originalHeight:l,originalWidth:c}}getVideoAttachmentConfiguration(e,i){if(this.customVideoAttachmentConfigurationHandler)return this.customVideoAttachmentConfigurationHandler(e,i);let r,s=1e6,o=1e6;if(e.thumb_url&&this.shouldGenerateVideoThumbnail){let a;try{a=new URL(e.thumb_url),s=Number(a.searchParams.get("oh"))>1?Number(a.searchParams.get("oh")):s,o=Number(a.searchParams.get("ow"))>1?Number(a.searchParams.get("ow")):o;let c=this.getSizingRestrictions(a,i,!0);c&&(c.height*=2,c.width*=2,this.addResizingParamsToUrl(c,a)),r=a.href}catch{r=e.thumb_url}}return{url:e.asset_url||"",width:"",height:"",thumbUrl:r,originalHeight:s,originalWidth:o}}getGiphyAttachmentConfiguration(e){if(this.customGiphyAttachmentConfigurationHandler)return this.customGiphyAttachmentConfigurationHandler(e);let i=e.giphy?.fixed_height_downsampled;return{url:i?.url||e.image_url||e.thumb_url||"",height:i?.height?`${i?.height}px`:"300px",width:i?.width?`${i?.width}px`:""}}getScrapedImageAttachmentConfiguration(e){return this.customScrapedImageAttachmentConfigurationHandler?this.customScrapedImageAttachmentConfigurationHandler(e):{url:e.image_url||e.thumb_url||"",width:"",height:""}}addResizingParamsToUrl(e,i){i.searchParams.set("h",e.height.toString()),i.searchParams.set("w",e.width.toString())}getSizingRestrictions(e,i,r=!1){let s=e.searchParams,o=Number(s.get("oh"))||1,a=Number(s.get("ow"))||1,l=this.getCSSSizeRestriction(i),c;return(l.maxHeight||l.height)&&l.maxWidth?c=this.getSizeRestrictions(o,a,l.maxHeight||l.height,l.maxWidth):(c=void 0,r&&console.warn(`Invalid value set for height/max-height and/or max-width for HTML element, this can cause scrolling issues inside the message list, more info https://getstream.io/chat/docs/sdk/angular/components/AttachmentListComponent/#image-and-video-sizing, attachment URL: ${e.toString()}`)),c}getSizeRestrictions(e,i,r,s){return{height:Math.round(Math.max(r,s/i*e)),width:Math.round(Math.max(r,s/e*i))}}getCSSSizeRestriction(e){let i=getComputedStyle(e),r=this.getValueRepresentationOfCSSProperty(i.getPropertyValue("height")),s=this.getValueRepresentationOfCSSProperty(i.getPropertyValue("max-height")),o=this.getValueRepresentationOfCSSProperty(i.getPropertyValue("max-width"));return{height:r,maxHeight:s,maxWidth:o}}getValueRepresentationOfCSSProperty(e){return Number(e.replace("px",""))||void 0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),QG={streamChat:{"1 reply":"1 reply","Attach files":"Attach files",Cancel:"Cancel","Channel Missing":"Channel Missing",Close:"Close","Close emoji picker":"Close emoji picker","Commands matching":"Commands matching","Connection failure, reconnecting now...":"Connection failure, reconnecting now...",Delete:"Delete",Delivered:"Delivered","Edit Message":"Edit Message","Edit message request failed":"Edit message request failed","Emoji matching":"Emoji matching","Empty message...":"Empty message...","Error adding flag":"Error adding flag","Error connecting to chat, refresh the page to try again.":"Error connecting to chat, refresh the page to try again","Error deleting message":"Error deleting message","Error loading reactions":"Error loading reactions","Error muting a user ...":"Error muting a user ...","Error pinning message":"Error pinning message","Error removing message pin":"Error removing message pin","Error unmuting a user ...":"Error unmuting a user ...","Error uploading file":'Error uploading file "{{ name }}"',"Error uploading file, maximum file size exceeded":'Error uploading "{{ name }}", maximum file size {{ limit }} exceeded',"Error uploading file, extension not supported":'Error uploading "{{ name }}", type {{ ext }} not supported',"Error deleting attachment":"Error deleting attachment","Error \xB7 Unsent":"Message couldn't be sent","Error: {{ errorMessage }}":"Error: {{ errorMessage }}",Flag:"Flag","Message Failed":"Message Failed","Message Failed \xB7 Unauthorized":"Unauthorized to send message","Message Failed \xB7 Click to try again":"Message couldn't be sent, click to try again","Message deleted":"Message deleted","Message has been successfully flagged":"Message has been successfully flagged","Message pinned":"Message pinned","Message unpinned":"Message unpinned",Mute:"Mute",New:"New","New Messages!":"New Messages!","No results found":"No results found","Nothing yet...":"Nothing yet...","Only visible to you":"Only visible to you","Open emoji picker":"Open emoji picker","People matching":"People matching","Pick your emoji":"Pick your emoji",Pin:"Pin","Pinned by":"Pinned by",Reply:"Quote Reply","Reply to Message":"Reply to Message",Search:"Search","Searching...":"Searching...",Send:"Send","Send message request failed":"Send message request failed","Sending...":"Sending...","Slow Mode ON":"Slow Mode ON","Start of a new thread":"Start of a new thread","This message was deleted...":"This message was deleted...",Thread:"Thread reply","Type your message":"Type your message",Unmute:"Unmute",Unpin:"Unpin","Wait until all attachments have uploaded":"Wait until all attachments have uploaded","You have no channels currently":"You have no channels currently","You've reached the maximum number of files":"You've reached the maximum number of files",live:"live","this content could not be displayed":"this content could not be displayed","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} and {{ moreCount }} more","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }}, and {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} and {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} more","{{ memberCount }} members":"{{ memberCount }} members","{{ replyCount }} replies":"{{ replyCount }} replies","{{ user }} has been muted":"{{ user }} has been muted","{{ user }} has been unmuted":"{{ user }} has been unmuted","{{ watcherCount }} online":"{{ watcherCount }} online","\u{1F3D9} Attachment...":"\u{1F3D9} Attachment...","Connection error":"Connection error","Load more":"Load more",failed:"failed",retry:"retry",test:"success","Sending links is not allowed in this conversation":"Sending links is not allowed in this conversation","You can't send messages in this channel":"You can't send messages in this channel","You can't send thread replies in this channel":"You can't send thread replies in this channel","Message not found":"Message not found","No chats here yet\u2026":"No chats here yet\u2026","user is typing":"{{ user }} is typing","users are typing":"{{ users }} are typing","Error loading channels":"Error loading channels","See original (automatically translated)":"See original (automatically translated)","See translation":"See translation","Mark as unread":"Mark as unread","Error marking message as unread":"Error marking message as unread","Error, only the first {{count}} message can be marked as unread":"Error, only the first {{count}} message can be marked as unread","Unread messages":"Unread messages","{{count}} unread messages":"{{count}} unread messages","{{count}} unread message":"{{count}} unread message","This message did not meet our content guidelines":"This message did not meet our content guidelines","Send Anyway":"Send Anyway",Edited:"Edited","Error playing audio":"Error playing audio","Copy text":"Copy text","Please grant permission to use microhpone":"Please grant permission to use microhpone","Error starting recording":"Error starting recording","An error has occurred during recording":"An error has occurred during recording","Media recording not supported":"Media recording not supported","You can't uplod more than {{max}} attachments":"You can't uplod more than {{max}} attachments","You currently have {{count}} attachments, the maximum is {{max}}":"You currently have {{count}} attachments, the maximum is {{max}}","and others":"and others"}},wR=(()=>{class t{constructor(e){this.translteService=e}setTranslation(e="en",i){this.translteService.defaultLang||(this.translteService.defaultLang=e),this.translteService.setTranslation(e,{streamChat:V(V({},QG.streamChat),i)},!0)}}return t.\u0275fac=function(e){return new(e||t)(P(Zs))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),YG=(()=>{class t{constructor(e,i,r){this.chatClientService=e,this.ngZone=i,this.cdRef=r,this.showOnlineIndicator=!0,this.initialsType="first-letter-of-first-word",this.isError=!1,this.isOnline=!1,this.initials="",this.isViewInited=!1,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.chatClientService.user$.subscribe(e=>{e?.id!==this.userId&&(this.userId=e?.id,(this.type||this.channel||this.name)&&(this.setInitials(),this.setFallbackChannelImage(),this.updateIsOnlineSubscription()),this.isViewInited&&this.cdRef.detectChanges())}))}ngOnChanges(e){e.channel&&this.updateIsOnlineSubscription(),(e.type||e.name||e.channel)&&this.setInitials(),(e.type||e.channel)&&this.setFallbackChannelImage()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}setFallbackChannelImage(){if(this.type!=="channel")this.fallbackChannelImage=void 0;else{let e=this.getOtherMemberIfOneToOneChannel();e?this.fallbackChannelImage=e.image:this.fallbackChannelImage=void 0}}setInitials(){let e="";if(this.type==="user")e=this.name?.toString()||"";else if(this.type==="channel")if(this.channel?.data?.name)e=this.channel?.data?.name;else{let s=this.getOtherMemberIfOneToOneChannel();s?e=s.name||s.id||"":e="#"}let i=e.split(" "),r;this.initialsType==="first-letter-of-each-word"?r=i.map(s=>s.charAt(0)||"").join(""):r=i[0].charAt(0)||"",this.initials=r}updateIsOnlineSubscription(){if(this.channel){let e=this.getOtherMemberIfOneToOneChannel();e?(this.isOnline=e.online||!1,this.isOnlineSubscription=this.chatClientService.events$.pipe(ut(i=>i.eventType==="user.presence.changed")).subscribe(i=>{i.event.user?.id===e.id&&this.ngZone.run(()=>{this.isOnline=i.event.user?.online||!1})})):(this.isOnline=!1,this.isOnlineSubscription?.unsubscribe())}else this.isOnline=!1,this.isOnlineSubscription?.unsubscribe()}ngAfterViewInit(){this.isViewInited=!0}getOtherMemberIfOneToOneChannel(){let e=Object.values(this.channel?.state?.members||{}).filter(i=>i.user_id!==this.userId);if(e.length===1)return e[0].user}}return t.\u0275fac=function(e){return new(e||t)(M($t),M(pe),M(nt))},t.\u0275cmp=Ie({type:t,selectors:[["stream-avatar"]],inputs:{name:"name",imageUrl:"imageUrl",location:"location",channel:"channel",user:"user",type:"type",showOnlineIndicator:"showOnlineIndicator",initialsType:"initialsType"},features:[tt],decls:5,vars:8,consts:[["fallback",""],[3,"title"],["class","str-chat__avatar-image","data-testid","avatar-img","fetchpriority","high",3,"src","alt","error",4,"ngIf","ngIfElse"],["data-testid","online-indicator","class","str-chat__avatar--online-indicator",4,"ngIf"],["data-testid","avatar-img","fetchpriority","high",1,"str-chat__avatar-image",3,"error","src","alt"],["data-testid","fallback-img",1,"str-chat__avatar-fallback"],["data-testid","online-indicator",1,"str-chat__avatar--online-indicator"]],template:function(e,i){if(e&1&&(E(0,"div",1),I(1,Ez,1,2,"img",2)(2,Sz,2,1,"ng-template",null,0,J)(4,xz,1,0,"div",3),x()),e&2){let r=U(3);X_("str-chat__avatar str-chat-angular__avatar str-chat__avatar--circle stream-chat__avatar--",i.location," stream-chat__avatar--",i.initialsType==="first-letter-of-first-word"?"one-letter":"multiple-letters",""),Dt("title",i.name),v(),y("ngIf",(i.imageUrl||i.fallbackChannelImage)&&!i.isError)("ngIfElse",r),v(3),y("ngIf",i.isOnline&&i.showOnlineIndicator)}},dependencies:[Et]}),t})(),Ht=(()=>{class t{constructor(){this.mentionAutocompleteItemTemplate$=new ie(void 0),this.commandAutocompleteItemTemplate$=new ie(void 0),this.channelPreviewTemplate$=new ie(void 0),this.mentionTemplate$=new ie(void 0),this.emojiPickerTemplate$=new ie(void 0),this.typingIndicatorTemplate$=new ie(void 0),this.messageTemplate$=new ie(void 0),this.channelActionsTemplate$=new ie(void 0),this.attachmentListTemplate$=new ie(void 0),this.attachmentPreviewListTemplate$=new ie(void 0),this.avatarTemplate$=new ie(void 0),this.iconTemplate$=new ie(void 0),this.loadingIndicatorTemplate$=new ie(void 0),this.messageActionsBoxTemplate$=new ie(void 0),this.messageActionsBoxItemTemplate$=new ie(void 0),this.messageReactionsTemplate$=new ie(void 0),this.messageReactionsSelectorTemplate$=new ie(void 0),this.modalTemplate$=new ie(void 0),this.notificationTemplate$=new ie(void 0),this.threadHeaderTemplate$=new ie(void 0),this.deliveredStatusTemplate$=new ie(void 0),this.sendingStatusTemplate$=new ie(void 0),this.readStatusTemplate$=new ie(void 0),this.customMessageMetadataTemplate$=new ie(void 0),this.channelHeaderInfoTemplate$=new ie(void 0),this.customAttachmentUploadTemplate$=new ie(void 0),this.imageAttachmentTemplate$=new ie(void 0),this.voiceRecordingAttachmentTemplate$=new ie(void 0),this.videoAttachmentTemplate$=new ie(void 0),this.galleryAttachmentTemplate$=new ie(void 0),this.fileAttachmentTemplate$=new ie(void 0),this.cardAttachmentTemplate$=new ie(void 0),this.attachmentActionsTemplate$=new ie(void 0),this.systemMessageTemplate$=new ie(void 0),this.dateSeparatorTemplate$=new ie(void 0),this.newMessagesIndicatorTemplate$=new ie(void 0),this.newMessagesNotificationTemplate$=new ie(void 0),this.emptyMainMessageListPlaceholder$=new ie(void 0),this.emptyThreadMessageListPlaceholder$=new ie(void 0),this.messageBouncePromptTemplate$=new ie(void 0),this.channelPreviewInfoTemplate$=new ie(void 0),this.customAttachmentPreviewListTemplate$=new ie(void 0),this.customAttachmentListTemplate$=new ie(void 0),this.threadLinkButton$=new ie(void 0),this.customMessageMetadataInsideBubbleTemplate$=new ie(void 0),this.messageTextTemplate$=new ie(void 0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ja=(()=>{class t{constructor(e){this.customTemplatesService=e,this.initialsType="first-letter-of-first-word",this.showOnlineIndicator=!0,this.context={name:void 0,imageUrl:void 0,location:void 0,channel:void 0,user:void 0,type:void 0,initialsType:void 0,showOnlineIndicator:void 0}}ngOnChanges(){this.context={name:this.name,imageUrl:this.imageUrl,location:this.location,type:this.type,user:this.user,channel:this.channel,initialsType:this.initialsType,showOnlineIndicator:this.showOnlineIndicator}}}return t.\u0275fac=function(e){return new(e||t)(M(Ht))},t.\u0275cmp=Ie({type:t,selectors:[["stream-avatar-placeholder"]],inputs:{name:"name",imageUrl:"imageUrl",location:"location",channel:"channel",user:"user",type:"type",initialsType:"initialsType",showOnlineIndicator:"showOnlineIndicator"},features:[tt],decls:4,vars:4,consts:[["defaultAvatar",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"name","imageUrl","type","channel","user","location","initialsType","showOnlineIndicator"]],template:function(e,i){if(e&1&&(I(0,Tz,1,8,"ng-template",null,0,J)(2,Iz,1,0,"ng-container",1),q(3,"async")),e&2){let r=U(1);v(2),y("ngTemplateOutlet",Q(3,2,i.customTemplatesService.avatarTemplate$)||r)("ngTemplateOutletContext",i.context)}},dependencies:[bt,YG,Ft],encapsulation:2}),t})(),bp=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ie({type:t,selectors:[["stream-icon"]],inputs:{icon:"icon"},decls:1,vars:3,template:function(e,i){e&1&&j(0,"div"),e&2&&yn("str-chat__icon str-chat__icon--",i.icon,"")},encapsulation:2}),t})(),ps=(()=>{class t{constructor(e){this.customTemplatesService=e,this.iconContext={icon:void 0}}ngOnChanges(){this.iconContext={icon:this.icon}}}return t.\u0275fac=function(e){return new(e||t)(M(Ht))},t.\u0275cmp=Ie({type:t,selectors:[["stream-icon-placeholder"]],inputs:{icon:"icon"},features:[tt],decls:4,vars:4,consts:[["defaultIcon",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"icon"]],template:function(e,i){if(e&1&&(I(0,Mz,1,1,"ng-template",null,0,J)(2,Az,1,0,"ng-container",1),q(3,"async")),e&2){let r=U(1);v(2),y("ngTemplateOutlet",Q(3,2,i.customTemplatesService.iconTemplate$)||r)("ngTemplateOutletContext",i.iconContext)}},dependencies:[bt,bp,Ft],encapsulation:2}),t})(),KG=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ie({type:t,selectors:[["stream-loading-indicator"]],decls:7,vars:0,consts:[[1,"str-chat__loading-indicator"],["viewBox","0 0 30 30","data-testid","loading-indicator","xmlns","http://www.w3.org/2000/svg","height","30","width","30"],["x1","50%","x2","50%","y1","0%","y2","100%","id","stream-chat-loading-circle"],["offset","0%","stop-color","#FFF","stop-opacity","0"],["data-testid","stop-color","offset","100%","stop-opacity","1"],["d","M2.518 23.321l1.664-1.11A12.988 12.988 0 0 0 15 28c7.18 0 13-5.82 13-13S22.18 2 15 2V0c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-5.206 0-9.792-2.652-12.482-6.679z","fillRule","evenodd","fill","url(#stream-chat-loading-circle)"]],template:function(e,i){e&1&&(E(0,"div",0),C_(),E(1,"svg",1)(2,"defs")(3,"linearGradient",2),j(4,"stop",3)(5,"stop",4),x()(),j(6,"path",5),x()())},encapsulation:2}),t})(),Cp=(()=>{class t{constructor(e){this.customTemplatesService=e}}return t.\u0275fac=function(e){return new(e||t)(M(Ht))},t.\u0275cmp=Ie({type:t,selectors:[["stream-loading-indicator-placeholder"]],decls:4,vars:3,consts:[["defaultLoadingIndicator",""],[4,"ngTemplateOutlet"]],template:function(e,i){if(e&1&&(I(0,Rz,1,0,"ng-template",null,0,J)(2,Oz,1,0,"ng-container",1),q(3,"async")),e&2){let r=U(1);v(2),y("ngTemplateOutlet",Q(3,1,i.customTemplatesService.loadingIndicatorTemplate$)||r)}},dependencies:[bt,KG,Ft],encapsulation:2}),t})(),wp=(()=>{class t{constructor(e,i,r){this.chatClientService=e,this.notificationService=i,this.channelService=r,this.defaultActions=[{actionName:"react",isVisible:s=>s.indexOf("send-reaction")!==-1},{actionName:"mark-unread",actionLabelOrTranslationKey:"streamChat.Mark as unread",actionHandler:s=>{this.channelService.markMessageUnread(s.id)},isVisible:(s,o,a)=>s.indexOf("read-events")!==-1&&!a.parent_id},{actionName:"quote",actionLabelOrTranslationKey:"streamChat.Reply",actionHandler:s=>{this.channelService.selectMessageToQuote(s)},isVisible:s=>s.indexOf("quote-message")!==-1},{actionName:"thread-reply",actionLabelOrTranslationKey:"streamChat.Thread",actionHandler:s=>{this.channelService.setAsActiveParentMessage(s)},isVisible:(s,o,a)=>s.indexOf("send-reply")!==-1&&!a.parent_id},{actionName:"pin",actionLabelOrTranslationKey:s=>s.pinned?"streamChat.Unpin":"streamChat.Pin",actionHandler:s=>{s.pinned?this.channelService.unpinMessage(s):this.channelService.pinMessage(s)},isVisible:s=>s.indexOf("pin-message")!==-1},{actionName:"flag",actionLabelOrTranslationKey:"streamChat.Flag",actionHandler:s=>ne(this,null,function*(){try{yield this.chatClientService.flagMessage(s.id),this.notificationService.addTemporaryNotification("streamChat.Message has been successfully flagged","success")}catch{this.notificationService.addTemporaryNotification("streamChat.Error adding flag")}}),isVisible:(s,o)=>s.indexOf("flag-message")!==-1&&!o},{actionName:"edit",actionLabelOrTranslationKey:"streamChat.Edit Message",actionHandler:s=>{this.messageToEdit$.next(s)},isVisible:(s,o)=>s.indexOf("update-own-message")!==-1&&o||s.indexOf("update-any-message")!==-1},{actionName:"delete",actionLabelOrTranslationKey:"streamChat.Delete",actionHandler:s=>ne(this,null,function*(){try{yield this.channelService.deleteMessage(s)}catch{this.notificationService.addTemporaryNotification("streamChat.Error deleting message")}}),isVisible:(s,o)=>(s.indexOf("delete")!==-1||s.indexOf("delete-own-message")!==-1)&&o||s.indexOf("delete-any")!==-1||s.indexOf("delete-any-message")!==-1},{actionName:"copy-message-text",actionLabelOrTranslationKey:"streamChat.Copy text",isVisible:(s,o,a)=>{let l=navigator?.clipboard?.write!==void 0;return!l&&!this.hasDisplayedClipboardWarning&&(console.warn("[Stream Chat] Copy action is disabled because clipboard API isn't available, please check security and browser requirements: https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/write#security_considerations"),this.hasDisplayedClipboardWarning=!0),!!a.text&&(a.type==="regular"||a.type==="reply")&&l},actionHandler:(s,o)=>{let a=s.text||"";navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([o.messageTextHtmlElement?.innerText||a],{type:"text/plain"}),"text/html":new Blob([o.messageTextHtmlElement?.innerHTML||a],{type:"text/html"})})])}}],this.messageToEdit$=new ie(void 0),this.customActions$=new ie([]),this.messageMenuOpenedFor$=new ie(void 0),this.hasDisplayedClipboardWarning=!1,Nn([this.messageToEdit$,this.channelService.activeChannel$]).subscribe(([s,o])=>{s&&(!o||o?.cid!==s.cid)&&this.messageToEdit$.next(void 0)}),Nn([this.messageToEdit$,this.channelService.activeParentMessageId$]).subscribe(([s,o])=>{s&&s.parent_id&&s.parent_id!==o&&this.messageToEdit$.next(void 0)})}getAuthorizedMessageActionsCount(e,i){let r=this.customActions$.getValue()||[],s=[...this.defaultActions,...r],o=this.chatClientService.chatClient.user?.id,a=e.user_id===o;return s.filter(l=>l.isVisible(i,a,e)).length}}return t.\u0275fac=function(e){return new(e||t)(P($t),P(fs),P(En))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),DR=(()=>{class t{constructor(e,i){this.chatClientService=e,this.notificationService=i,this.reactions$=new ie({haha:"\u{1F602}",like:"\u{1F44D}",love:"\u2764\uFE0F",sad:"\u{1F61E}",wow:"\u{1F62E}"})}set reactions(e){this.reactions$.next(e)}get reactions(){return this.reactions$.getValue()}queryReactions(e,i,r){return ne(this,null,function*(){if(this.chatClientService.chatClient)try{return yield this.chatClientService.chatClient.queryReactions(e,{type:i},{created_at:-1},{next:r})}catch(s){throw this.notificationService.addTemporaryNotification("streamChat.Error loading reactions"),s}else throw new Error("Intialize the ChatClientService before querying reactions")})}}return t.\u0275fac=function(e){return new(e||t)(P($t),P(fs))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZG=(()=>{class t{constructor(e,i,r){this.channelService=e,this.messageReactionsService=i,this.cdRef=r,this.ownReactions=[],this.reactionOptions=[],this.subscriptions=[],this.isViewInited=!1}ngOnInit(){this.subscriptions.push(this.messageReactionsService.reactions$.subscribe(e=>{this.reactionOptions=Object.keys(e),this.isViewInited&&this.cdRef.detectChanges()}))}ngAfterViewInit(){this.isViewInited=!0}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}trackByMessageReaction(e,i){return i}isOwnReaction(e){return!!this.ownReactions.find(i=>i.type===e)}getEmojiByReaction(e){return this.messageReactionsService.reactions[e]}react(e){return ne(this,null,function*(){this.ownReactions.find(i=>i.type===e)?yield this.channelService.removeReaction(this.messageId,e):yield this.channelService.addReaction(this.messageId,e)})}}return t.\u0275fac=function(e){return new(e||t)(M(En),M(DR),M(nt))},t.\u0275cmp=Ie({type:t,selectors:[["stream-message-reactions-selector"]],inputs:{ownReactions:"ownReactions",messageId:"messageId"},decls:4,vars:2,consts:[["selectorContainer",""],["data-testid","reaction-selector",1,"str-chat__reaction-selector","str-chat-angular-v5__reaction-selector","str-chat__message-reaction-selector"],[1,"str-chat__message-reactions-list","str-chat__message-reactions-options"],["class","str-chat__message-reactions-option str-chat__message-reactions-list-item str-chat__emoji","data-testclass","emoji-option",3,"str-chat__message-reactions-option-selected","click","keyup.enter",4,"ngFor","ngForOf","ngForTrackBy"],["data-testclass","emoji-option",1,"str-chat__message-reactions-option","str-chat__message-reactions-list-item","str-chat__emoji",3,"click","keyup.enter"],[1,"emoji","str-chat__emoji-selector-emoji-angular","str-chat__message-reaction-emoji"]],template:function(e,i){e&1&&(E(0,"div",1,0)(2,"ul",2),I(3,kz,3,4,"li",3),x()()),e&2&&(v(3),y("ngForOf",i.reactionOptions)("ngForTrackBy",i.trackByMessageReaction))},dependencies:[Cn],encapsulation:2}),t})(),XG=(()=>{class t{constructor(e,i,r){this.customTemplatesService=e,this.messageActionsService=i,this.cdRef=r,this.isMine=!1,this.enabledActions=[],this.visibleMessageActionItems=[],this.isEditModalOpen=!1,this.customActions=[],this.subscriptions=[],this.isViewInited=!1,this.messageActionItems=this.messageActionsService.defaultActions}ngOnInit(){this.subscriptions.push(this.messageActionsService.customActions$.subscribe(e=>{this.customActions=e,this.setVisibleActions(),this.isViewInited&&this.cdRef.detectChanges()})),this.subscriptions.push(this.messageActionsService.messageToEdit$.subscribe(e=>{let i=!1;e&&e.id===this.message?.id&&(i=!0),i!==this.isEditModalOpen&&(this.isEditModalOpen=i,this.isViewInited&&this.cdRef.detectChanges())}))}ngOnChanges(e){(e.isMine||e.enabledActions||e.message)&&this.setVisibleActions()}ngAfterViewInit(){this.isViewInited=!0}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getActionLabel(e){return typeof e=="string"?e:e(this.message)}getReactionSelectorTemplateContext(){return{messageId:this.message?.id,ownReactions:this.message?.own_reactions||[]}}getMessageActionTemplateContext(e){return this.isReactAction(e)?{}:{actionHandler:e.actionHandler,actionHandlerExtraParams:{isMine:this.isMine,messageTextHtmlElement:this.messageTextHtmlElement},actionName:e.actionName,message:this.message,actionLabelOrTranslationKey:e.actionLabelOrTranslationKey}}trackByActionName(e,i){return i.actionName}isReactAction(e){return e.actionName==="react"}setVisibleActions(){this.message?this.visibleMessageActionItems=[...this.messageActionItems,...this.customActions].filter(e=>e.isVisible(this.enabledActions,this.isMine,this.message)):this.visibleMessageActionItems=[]}}return t.\u0275fac=function(e){return new(e||t)(M(Ht),M(wp),M(nt))},t.\u0275cmp=Ie({type:t,selectors:[["stream-message-actions-box"]],inputs:{isMine:"isMine",message:"message",messageTextHtmlElement:"messageTextHtmlElement",enabledActions:"enabledActions"},features:[tt],decls:8,vars:2,consts:[["actionBox",""],["defaultMessageActionItem",""],["defaultReactionSelector",""],["data-testid","action-box",1,"str-chat__message-actions-box","str-chat__message-actions-box-angular","str-chat__message-actions-box--open"],[1,"str-chat__message-actions-list"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"str-chat__message-actions-list-item-button",3,"click"],[1,"str-chat__message-actions-list-item"],[3,"messageId","ownReactions"]],template:function(e,i){e&1&&(E(0,"div",3,0)(2,"ul",4),I(3,Vz,4,2,"ng-container",5),x()(),I(4,jz,4,4,"ng-template",null,1,J)(6,Bz,1,3,"ng-template",null,2,J)),e&2&&(v(3),y("ngForOf",i.visibleMessageActionItems)("ngForTrackBy",i.trackByActionName))},dependencies:[Cn,bt,oc,wv,fT,ZG,Ft,wn],encapsulation:2}),t})(),JG=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ie({type:t,selectors:[["stream-notification"]],inputs:{type:"type",content:"content"},ngContentSelectors:vp,decls:4,vars:5,consts:[["elseContent",""],["data-testid","custom-notification"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"]],template:function(e,i){if(e&1&&(Yt(),E(0,"div",1),I(1,$z,2,1,"ng-container",2)(2,Hz,1,0,"ng-template",null,0,J),x()),e&2){let r=U(3);yn("str-chat__custom-notification notification-",i.type," str-chat__notification"),v(),y("ngIf",i.content)("ngIfElse",r)}},dependencies:[Et,bt],encapsulation:2}),t})(),nb=(()=>{class t{constructor(e,i,r){this.customTemplatesService=e,this.notificationService=i,this.themeService=r,this.notifications$=this.notificationService.notifications$,this.theme$=this.themeService.theme$}trackById(e,i){return i.id}getNotificationContentContext(e){return Se(V({},e.templateContext),{dismissFn:e.dismissFn})}}return t.\u0275fac=function(e){return new(e||t)(M(Ht),M(fs),M(tb))},t.\u0275cmp=Ie({type:t,selectors:[["stream-notification-list"]],decls:6,vars:9,consts:[["defaultNotification",""],["notificationContent",""],["data-testid","notification-list"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-testclass","notification-content",4,"ngIf"],[4,"ngIf"],["data-testclass","notification-content"],[3,"type","content"]],template:function(e,i){e&1&&(E(0,"div",2),q(1,"async"),I(2,Kz,5,7,"ng-container",3),q(3,"async"),x(),I(4,Zz,1,2,"ng-template",null,0,J)),e&2&&(yn("str-chat str-chat__theme-",Q(1,5,i.theme$)," str-chat__list-notifications"),v(2),y("ngForOf",Q(3,7,i.notifications$))("ngForTrackBy",i.trackById))},dependencies:[Cn,Et,bt,JG,Ft,wn],encapsulation:2}),t})(),su=(()=>{class t{constructor(){this.isOpen=!1,this.isOpenChange=new fe,this.watchForEscPress=e=>{e.key==="Escape"&&this.close()},this.stopWatchForEscPress=()=>{window.removeEventListener("keyup",this.watchForEscPress)},this.watchForOutsideClicks=e=>{this.innerContainer?.nativeElement.contains(e.target)||this.close()}}ngOnChanges(e){e.isOpen&&(this.isOpen?(window.addEventListener("keyup",this.watchForEscPress),setTimeout(()=>window.addEventListener("click",this.watchForOutsideClicks),0)):(this.stopWatchForOutsideClicks(),this.stopWatchForEscPress()))}close(){this.isOpen=!1,this.isOpenChange.emit(!1),this.stopWatchForOutsideClicks(),this.stopWatchForEscPress()}stopWatchForOutsideClicks(){window.removeEventListener("click",this.watchForOutsideClicks)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ie({type:t,selectors:[["stream-modal"]],viewQuery:function(e,i){if(e&1&&Qe(Xz,5),e&2){let r;Oe(r=ke())&&(i.innerContainer=r.first)}},inputs:{isOpen:"isOpen",content:"content"},outputs:{isOpenChange:"isOpenChange"},features:[tt],ngContentSelectors:vp,decls:8,vars:5,consts:[["modalInner",""],["elseContent",""],["data-testid","modal"],["data-testid","close",1,"str-chat__modal__close-button",3,"click","keyup.enter"],["icon","close"],[1,"str-chat__modal__inner"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"]],template:function(e,i){if(e&1){let r=Ce();Yt(),E(0,"div",2)(1,"div",3),se("click",function(){return $(r),H(i.close())})("keyup.enter",function(){return $(r),H(i.close())}),j(2,"stream-icon-placeholder",4),x(),E(3,"div",5,0),I(5,e5,2,1,"ng-container",6)(6,t5,1,0,"ng-template",null,1,J),x()()}if(e&2){let r=U(7);yn("str-chat__modal str-chat__modal--",i.isOpen?"open":"close",""),v(5),y("ngIf",i.content)("ngIfElse",r)}},dependencies:[Et,bt,ps],encapsulation:2}),t})(),eQ=(()=>{class t{constructor(e,i,r){this.channelService=e,this.customTemplatesService=i,this.messageActionsService=r,this.class="str-chat__message-bounce-prompt",this.isModalOpen=!1,this.subscriptions=[],this.messageBounceModalOpenChanged=s=>{this.isModalOpen=s,s||(this.message=void 0,this.channelService.bouncedMessage$.next(void 0))},this.subscriptions.push(this.channelService.bouncedMessage$.subscribe(s=>{s!==this.message&&(this.message=s,this.message&&(this.isModalOpen=!0))}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}resendMessage(){return ne(this,null,function*(){this.isModalOpen=!1,yield this.channelService.resendMessage(this.message),this.message=void 0,this.channelService.bouncedMessage$.next(void 0)})}deleteMessage(){return ne(this,null,function*(){this.message&&(this.isModalOpen=!1,yield this.channelService.deleteMessage(this.message,!0),this.message=void 0,this.channelService.bouncedMessage$.next(void 0))})}editMessage(){this.isModalOpen=!1,this.messageActionsService.messageToEdit$.next(this.message),this.message=void 0,this.channelService.bouncedMessage$.next(void 0)}}return t.\u0275fac=function(e){return new(e||t)(M(En),M(Ht),M(wp))},t.\u0275cmp=Ie({type:t,selectors:[["stream-message-bounce-prompt"]],hostVars:2,hostBindings:function(e,i){e&2&&wr(i.class)},decls:6,vars:9,consts:[["defaultModal",""],["modalContent",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"isOpen","content","isOpenChange",4,"ngIf"],[3,"isOpenChange","isOpen","content"],["data-testid","message-bounce-prompt",1,"str-chat__message-bounce-prompt"],[1,"str-chat__message-bounce-prompt-header"],[1,"str-chat__message-bounce-actions"],["data-testid","message-bounce-edit","type","button",1,"str-chat__message-bounce-edit",3,"click","keyup.enter"],["data-testid","message-bounce-send",1,"str-chat__message-bounce-send",3,"click","keyup.enter"],["data-testid","message-bounce-delete",1,"str-chat__message-bounce-delete",3,"click","keyup.enter"]],template:function(e,i){if(e&1&&(I(0,i5,1,0,"ng-container",2),q(1,"async"),I(2,s5,1,1,"ng-template",null,0,J)(4,o5,14,12,"ng-template",null,1,J)),e&2){let r=U(3),s=U(5);y("ngTemplateOutlet",Q(1,2,i.customTemplatesService.modalTemplate$)||r)("ngTemplateOutletContext",xh(4,n5,i.message,i.isModalOpen,i.messageBounceModalOpenChanged,s))}},dependencies:[Et,bt,su,Ft,wn],encapsulation:2}),t})(),ER=(()=>{class t{constructor(e,i,r){this.channelService=e,this.themeService=i,this.customTemplatesService=r,this.subscriptions=[],this.isError$=Nn([this.channelService.channelQueryState$,this.channelService.activeChannel$]).pipe(xe(([s,o])=>!o&&s?.state==="error")),this.isInitializing$=Nn([this.channelService.channelQueryState$,this.channelService.activeChannel$]).pipe(xe(([s,o])=>!o&&s?.state==="in-progress")),this.isActiveThread$=this.channelService.activeParentMessageId$.pipe(xe(s=>!!s)),this.theme$=this.themeService.theme$,this.isActiveChannel$=this.channelService.activeChannel$.pipe(xe(s=>!!s))}}return t.\u0275fac=function(e){return new(e||t)(M(En),M(tb),M(Ht))},t.\u0275cmp=Ie({type:t,selectors:[["stream-channel"]],ngContentSelectors:l5,decls:8,vars:13,consts:[["noChannel",""],["defaultMessageBouncePrompt",""],["class","str-chat__container",4,"ngIf","ngIfElse"],[1,"str-chat__container"],[4,"ngTemplateOutlet"],[1,"str-chat__main-panel"],[4,"ngIf"],["class","str-chat__empty-channel",4,"ngIf"],["class","str-chat__loading-channel",4,"ngIf"],[1,"str-chat__empty-channel"],["icon","chat-bubble"],[1,"str-chat__empty-channel-text"],[1,"str-chat__empty-channel-notifications"],[1,"str-chat__loading-channel"],[1,"str-chat__loading-channel-header"],[1,"str-chat__loading-channel-header-avatar"],[1,"str-chat__loading-channel-header-end"],[1,"str-chat__loading-channel-header-name"],[1,"str-chat__loading-channel-header-info"],[1,"str-chat__loading-channel-message-list"],[1,"str-chat__loading-channel-message"],[1,"str-chat__loading-channel-message-avatar"],[1,"str-chat__loading-channel-message-end"],[1,"str-chat__loading-channel-message-sender"],[1,"str-chat__loading-channel-message-last-row"],[1,"str-chat__loading-channel-message-text"],[1,"str-chat__loading-channel-message-date"],[1,"str-chat__loading-channel-message-input-row"],[1,"str-chat__loading-channel-message-input"],[1,"str-chat__loading-channel-message-send"]],template:function(e,i){if(e&1&&(Yt(a5),E(0,"div"),q(1,"async"),I(2,h5,9,6,"div",2),q(3,"async"),q(4,"async"),q(5,"async"),I(6,m5,8,14,"ng-template",null,0,J),x()),e&2){let r=U(7);yn("str-chat str-chat-channel messaging str-chat__channel str-chat__theme-",Q(1,5,i.theme$),""),v(2),y("ngIf",Q(3,7,i.isError$)===!1&&Q(4,9,i.isInitializing$)===!1&&Q(5,11,i.isActiveChannel$)===!0)("ngIfElse",r)}},dependencies:[Et,bt,bp,nb,eQ,Ft,wn],encapsulation:2}),t})(),ib=(t,n=!0,e="")=>{let i="",r=t.map(a=>a.name||a.id).slice(0,5),s=t.length-r.length;return i=r.join(", "),s>0&&(i+=n?` +${s}`:` ${e}`),i},SR=(t,n)=>{if(t.data?.name)return t.data.name;if(t.state.members&&Object.keys(t.state.members).length>0){let e=Object.values(t.state.members).map(i=>i.user||{id:i.user_id}).filter(i=>i.id!==n?.id);return ib(e)}return t.id},xR=(()=>{class t{constructor(e,i,r,s){this.channelService=e,this.customTemplatesService=i,this.cdRef=r,this.chatClientService=s,this.subscriptions=[],this.channelService.activeChannel$.subscribe(o=>{this.activeChannel=o;let a=this.activeChannel?.data?.own_capabilities;a&&(this.canReceiveConnectEvents=a.indexOf("connect-events")!==-1)})}ngOnInit(){this.subscriptions.push(this.customTemplatesService.channelActionsTemplate$.subscribe(e=>{this.channelActionsTemplate=e,this.cdRef.detectChanges()})),this.subscriptions.push(this.customTemplatesService.channelHeaderInfoTemplate$.subscribe(e=>{this.channelHeaderInfoTemplate=e,this.cdRef.detectChanges()}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getChannelActionsContext(){return{channel:this.activeChannel}}getChannelInfoContext(){return{channel:this.activeChannel}}get memberCountParam(){return{memberCount:this.activeChannel?.data?.member_count||0}}get watcherCountParam(){return{watcherCount:this.activeChannel?.state?.watcher_count||0}}get displayText(){return this.activeChannel?SR(this.activeChannel,this.chatClientService.chatClient.user):""}get avatarName(){return this.activeChannel?.data?.name}}return t.\u0275fac=function(e){return new(e||t)(M(En),M(Ht),M(nt),M($t))},t.\u0275cmp=Ie({type:t,selectors:[["stream-channel-header"]],ngContentSelectors:vp,decls:10,vars:7,consts:[["defaultChannelInfo",""],[1,"str-chat__header-livestream","str-chat__channel-header"],["type","channel","location","channel-header",3,"imageUrl","name","channel"],[1,"str-chat__header-livestream-left","str-chat__channel-header-end"],["data-testid","name",1,"str-chat__header-livestream-left--title","str-chat__channel-header-title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["data-testid","info",1,"str-chat__header-livestream-left--members","str-chat__channel-header-info"]],template:function(e,i){if(e&1&&(Yt(),E(0,"div",1),rt(1),j(2,"stream-avatar-placeholder",2),E(3,"div",3)(4,"p",4),ee(5),x(),I(6,g5,1,0,"ng-container",5)(7,_5,4,8,"ng-template",null,0,J),x(),I(9,y5,2,2,"ng-container",6),x()),e&2){let r=U(8);v(2),Dt("imageUrl",i.activeChannel==null||i.activeChannel.data==null?null:i.activeChannel.data.image),Dt("name",i.avatarName),y("channel",i.activeChannel),v(3),_e(" ",i.displayText," "),v(),y("ngTemplateOutlet",i.channelHeaderInfoTemplate||r)("ngTemplateOutletContext",i.getChannelInfoContext()),v(3),y("ngIf",i.channelActionsTemplate)}},dependencies:[Et,bt,Ja,wn],encapsulation:2}),t})(),TR=(t,n)=>t.getDate()!==n.getDate()?!0:t.getFullYear()!==n.getFullYear()||t.getMonth()!==n.getMonth();gp.default.extend(pR.default);gp.default.extend(mR.default);var j0=(t,n="date-time")=>{let e=(0,gp.default)(t);switch(n){case"date":return e.calendar(null,{sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"dddd",lastDay:"[Yesterday]",lastWeek:"[Last] dddd",sameElse:"MM/DD/YYYY"});case"date-time":return e.calendar();case"time":return e.format("h:mm A")}},rb=(()=>{class t{constructor(){}parseTime(e){return this.customTimeParser?this.customTimeParser(e):j0(e,"time")}parseDate(e){return this.customDateParser?this.customDateParser(e):j0(e,"date")}parseDateTime(e){return this.customDateTimeParser?this.customDateTimeParser(e):j0(e,"date-time")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tQ=(()=>{class t{constructor(e,i,r,s,o,a){this.channelService=e,this.ngZone=i,this.chatClientService=r,this.customTemplatesService=o,this.dateParser=a,this.isActive=!1,this.isUnreadMessageWasCalled=!1,this.isUnread=!1,this.latestMessageText="streamChat.Nothing yet...",this.subscriptions=[],this.canSendReadEvents=!0,this.displayAs=s.displayAs}ngOnInit(){this.subscriptions.push(this.chatClientService.user$.subscribe(r=>{r?.id!==this.userId&&(this.userId=r?.id)})),this.subscriptions.push(this.channelService.activeChannel$.subscribe(r=>this.isActive=r?.id===this.channel?.id));let e=this.channel?.state?.latestMessages;e&&e.length>0&&this.setLatestMessage(e[e.length-1]),this.updateUnreadState();let i=this.channel?.data?.own_capabilities||[];this.canSendReadEvents=i.indexOf("read-events")!==-1,this.subscriptions.push(this.channel.on("message.new",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("message.updated",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("message.deleted",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("channel.truncated",this.handleMessageEvent.bind(this))),this.subscriptions.push(this.channel.on("message.read",()=>this.ngZone.run(()=>{this.isUnreadMessageWasCalled=!1,this.updateUnreadState()}))),this.subscriptions.push(this.chatClientService.events$.pipe(ut(r=>r.eventType==="notification.mark_unread"&&this.channel.id===r.event?.channel_id)).subscribe(()=>{this.ngZone.run(()=>{this.isUnreadMessageWasCalled=!0,this.updateUnreadState()})}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}get avatarImage(){return this.channel?.data?.image}get avatarName(){return this.channel?.data?.name}get title(){return this.channel?SR(this.channel,this.chatClientService.chatClient.user):""}setAsActiveChannel(){this.channelService.setAsActiveChannel(this.channel)}handleMessageEvent(e){this.ngZone.run(()=>{if(this.channel?.state.latestMessages.length===0){this.latestMessage=void 0,this.latestMessageStatus=void 0,this.latestMessageText="streamChat.Nothing yet...",this.latestMessageTime=void 0;return}let i=this.channel?.state.latestMessages[this.channel?.state.latestMessages.length-1];!e.message||i?.id!==e.message.id||(this.setLatestMessage(i),this.updateUnreadState())})}setLatestMessage(e){this.latestMessage=e,e?.deleted_at?this.latestMessageText="streamChat.Message deleted":e?.text?this.latestMessageText=hs(e,this.channel,this.chatClientService.chatClient.user)||e.text:e?.attachments&&e.attachments.length&&(this.latestMessageText="streamChat.\u{1F3D9} Attachment..."),this.latestMessage&&this.latestMessage.type==="regular"?this.latestMessageTime=TR(new Date,this.latestMessage.created_at)?this.dateParser.parseDate(this.latestMessage.created_at):this.dateParser.parseTime(this.latestMessage.created_at):this.latestMessageTime=void 0}updateUnreadState(){if(this.channel&&this.latestMessage&&this.latestMessage.user?.id===this.userId&&this.latestMessage.status==="received"&&this.latestMessage.type==="regular"?this.latestMessageStatus=Xa(this.latestMessage,this.channel).length>0?"read":"delivered":this.latestMessageStatus=void 0,this.isActive&&!this.isUnreadMessageWasCalled||!this.canSendReadEvents){this.unreadCount=0,this.isUnread=!1;return}this.unreadCount=this.channel.countUnread(),this.isUnread=!!this.unreadCount}}return t.\u0275fac=function(e){return new(e||t)(M(En),M(pe),M($t),M(yp),M(Ht),M(rb))},t.\u0275cmp=Ie({type:t,selectors:[["stream-channel-preview"]],inputs:{channel:"channel"},decls:8,vars:21,consts:[["defaultChannelInfo",""],["asHTML",""],["data-testid","channel-preview-container",1,"str-chat__channel-preview-messenger","str-chat__channel-preview",3,"click"],[1,"str-chat__channel-preview-messenger--left"],["type","channel","location","channel-preview",3,"name","imageUrl","channel"],[1,"str-chat__channel-preview-messenger--right","str-chat__channel-preview-end"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"str-chat__channel-preview-end-first-row"],[1,"str-chat__channel-preview-messenger--name"],["data-testid","channel-preview-title"],["data-testid","unread-badge","class","str-chat__channel-preview-unread-badge",4,"ngIf"],[1,"str-chat__channel-preview-end-second-row"],["data-testid","latest-message",1,"str-chat__channel-preview-messenger--last-message"],[4,"ngIf","ngIfElse"],["data-testid","latest-message-status",3,"class",4,"ngIf"],["data-testid","latest-message-time","class","str-chat__channel-preview-messenger--time",4,"ngIf"],["data-testid","unread-badge",1,"str-chat__channel-preview-unread-badge"],["data-testid","html-content",3,"innerHTML"],["data-testid","latest-message-status"],[3,"icon"],["data-testid","latest-message-time",1,"str-chat__channel-preview-messenger--time"]],template:function(e,i){if(e&1){let r=Ce();E(0,"button",2),se("click",function(){return $(r),H(i.setAsActiveChannel())}),E(1,"div",3),j(2,"stream-avatar-placeholder",4),x(),E(3,"div",5),I(4,C5,1,0,"ng-container",6),q(5,"async"),I(6,T5,12,6,"ng-template",null,0,J),x()()}if(e&2){let r=U(7);Fe("str-chat__channel-preview-messenger--active",i.isActive)("str-chat__channel-preview--active",i.isActive)("str-chat__channel-preview-messenger--unread",i.isUnread),v(2),Dt("name",i.avatarName),Dt("imageUrl",i.avatarImage),y("channel",i.channel),v(2),y("ngTemplateOutlet",Q(5,11,i.customTemplatesService.channelPreviewInfoTemplate$)||r)("ngTemplateOutletContext",ov(13,b5,i.title,i.channel,i.unreadCount,i.latestMessageText,i.latestMessageStatus,i.latestMessageTime,i.latestMessage))}},dependencies:[Et,bt,Ja,ps,Ft,wn],encapsulation:2}),t})(),IR=(()=>{class t{constructor(e,i){this.ngZone=e,this.cdRef=i,this.items=[],this.isLoading=!1,this.hasMore=!1,this.trackBy=r=>r,this.loadMore=new fe,this.isScrollable=!1,this.isAtBottom=!1}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.scrollContainer?.nativeElement?.addEventListener("scroll",()=>this.scrolled())})}scrolled(){if(!this.hasMore)return;let e=this.scrollContainer.nativeElement.scrollHeight>this.scrollContainer.nativeElement.clientHeight;this.isScrollable!==e&&this.ngZone.run(()=>{this.isScrollable=e,this.cdRef.detectChanges()});let i=Math.ceil(this.scrollContainer.nativeElement.scrollTop)+this.scrollContainer.nativeElement.clientHeight+1>=this.scrollContainer.nativeElement.scrollHeight;this.isAtBottom!==i&&this.ngZone.run(()=>{this.isAtBottom=i,this.isAtBottom&&!this.isLoading&&this.loadMore.emit(),this.cdRef.detectChanges()})}}return t.\u0275fac=function(e){return new(e||t)(M(pe),M(nt))},t.\u0275cmp=Ie({type:t,selectors:[["stream-paginated-list"]],contentQueries:function(e,i,r){if(e&1&&$n(r,ln,5),e&2){let s;Oe(s=ke())&&(i.itemTempalteRef=s.first)}},viewQuery:function(e,i){if(e&1&&Qe(_R,5),e&2){let r;Oe(r=ke())&&(i.scrollContainer=r.first)}},inputs:{items:"items",isLoading:"isLoading",hasMore:"hasMore",trackBy:"trackBy"},outputs:{loadMore:"loadMore"},decls:5,vars:4,consts:[["container",""],[1,"stream-chat__paginated-list"],["data-testid","item","class","stream-chat__paginated-list-item",4,"ngFor","ngForOf","ngForTrackBy"],["class","str-chat__load-more-button__button str-chat__cta-button","data-testid","load-more-button",3,"disabled","click","keyup.enter",4,"ngIf"],["data-testid","loading-indicator",4,"ngIf"],["data-testid","item",1,"stream-chat__paginated-list-item"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["data-testid","load-more-button",1,"str-chat__load-more-button__button","str-chat__cta-button",3,"click","keyup.enter","disabled"],["data-testid","loading-indicator"]],template:function(e,i){e&1&&(E(0,"div",1,0),I(2,R5,2,1,"div",2)(3,O5,4,4,"button",3)(4,k5,1,0,"stream-loading-indicator-placeholder",4),x()),e&2&&(v(2),y("ngForOf",i.items)("ngForTrackBy",i.trackBy),v(),y("ngIf",i.hasMore&&!i.isScrollable),v(),y("ngIf",i.isLoading))},dependencies:[Cn,Et,bt,Cp,wn],encapsulation:2}),t})(),MR=(()=>{class t{constructor(e,i,r){this.channelService=e,this.customTemplatesService=i,this.themeService=r,this.isLoadingMoreChannels=!1,this.subscriptions=[],this.theme$=this.themeService.theme$,this.channels$=this.channelService.channels$,this.hasMoreChannels$=this.channelService.hasMoreChannels$,this.isError$=this.channelService.channelQueryState$.pipe(xe(s=>!this.isLoadingMoreChannels&&s?.state==="error")),this.isInitializing$=this.channelService.channelQueryState$.pipe(xe(s=>!this.isLoadingMoreChannels&&s?.state==="in-progress")),this.subscriptions.push(this.customTemplatesService.channelPreviewTemplate$.subscribe(s=>this.customChannelPreviewTemplate=s))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadMoreChannels(){return ne(this,null,function*(){this.isLoadingMoreChannels=!0,yield this.channelService.loadMoreChannels(),this.isLoadingMoreChannels=!1})}trackByChannelId(e,i){return i.cid}}return t.\u0275fac=function(e){return new(e||t)(M(En),M(Ht),M(tb))},t.\u0275cmp=Ie({type:t,selectors:[["stream-channel-list"]],ngContentSelectors:P5,decls:14,vars:11,consts:[["container",""],["statusIndicator",""],["chatDown",""],["loadingChannels",""],["loadingChannel",""],["defaultTemplate",""],["data-testid","channel-list-container"],["class","str-chat__channel-list-messenger",4,"ngIf","ngIfElse"],[1,"str-chat__channel-list-messenger"],[1,"str-chat__channel-list-messenger__main"],["class","str-chat__channel-list-empty",4,"ngIf"],["class","str-chat__channel-list-empty-v1","data-testid","empty-channel-list-indicator",4,"ngIf"],[3,"loadMore","items","hasMore","isLoading","trackBy"],[1,"str-chat__channel-list-empty"],["icon","chat-bubble"],["data-testid","empty-channel-list-indicator"],["data-testid","empty-channel-list-indicator",1,"str-chat__channel-list-empty-v1"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-testclass","channel-preview",3,"channel"],[4,"ngIf"],[4,"ngTemplateOutlet"],["data-testid","chatdown-container",1,"str-chat__down"],["data-testid","loading-indicator-full-size",1,"str-chat__loading-channels"],[1,"str-chat__loading-channels-item","str-chat__channel-preview-loading"],[1,"str-chat__loading-channels-avatar"],[1,"str-chat__loading-channels-meta","str-chat__channel-preview-end-loading"],[1,"str-chat__loading-channels-username"],[1,"str-chat__loading-channels-status"]],template:function(e,i){if(e&1&&(Yt(F5),E(0,"div",6,0),q(2,"async"),I(3,$5,12,15,"div",7),q(4,"async"),q(5,"async"),x(),I(6,G5,4,6,"ng-template",null,1,J)(8,Y5,2,1,"ng-template",null,2,J)(10,J5,4,3,"ng-template",null,3,J)(12,eq,5,0,"ng-template",null,4,J)),e&2){let r=U(7);yn("str-chat str-chat-angular__channel-list str-chat__channel-list str-chat-channel-list messaging str-chat__theme-",Q(2,5,i.theme$),""),v(3),y("ngIf",Q(4,7,i.isError$)===!1&&Q(5,9,i.isInitializing$)===!1)("ngIfElse",r)}},dependencies:[Et,bt,bp,tQ,IR,Ft,wn],encapsulation:2}),t})(),sb=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),nQ=t=>{if(t===void 0||t<=0)return"00:00";let[n,e]=uR(t,3600),[i,r]=uR(e,60),s=Math.ceil(r),o=n.toString().length===1?"0":"",a=i.toString().length===1?"0":"",l=s.toString().length===1?"0":"",c=`${a}${i}:${l}${s}`;return n?`${o}${n}:`+c:c},uR=(t,n)=>[Math.floor(t/n),t%n],H0=(t,n)=>t.length>n?iQ(t,n):rQ(t,n),iQ=(t,n)=>{if(t.length<=n)return t;if(n===1)return[AR(t)];let e=[],i=(t.length-2)/(n-2),r=0;e.push(t[r]);let s,o,a;for(let l=1;l<n-1;l++){let c=t[r],u=sQ(t,l,i),d=Math.floor((l-1)*i)+1,h=Math.floor(l*i)+1,f=1+h-d;o=a=-1;for(let p=d;p<h;p++){let m=Math.abs(p-d)+1,_=f-m,D=t[p];a=oQ(B0(Math.abs(c-D),m),B0(Math.abs(D-u),_),B0(Math.abs(c-u),f)),a>o&&(o=a,s=t[p],r=p)}typeof s<"u"&&e.push(s)}return e.push(t[t.length-1]),e},rQ=(t,n)=>{if(n===t.length)return t;let[e,i]=aQ(n,t.length),r=[];for(let s=0;s<t.length;s++){let o=i&&i--?1:0;r.push(...Array(e+o).fill(t[s]))}return r},sQ=(t,n,e)=>{let i=Math.floor(n*e)+1,r=Math.floor((n+1)*e)+1;return r=r<t.length?r:t.length,AR(t.slice(i,r))},AR=t=>t.reduce((n,e)=>n+e,0)/t.length,oQ=(t,n,e)=>{let i=(t+n+e)/2;return Math.sqrt(i*(i-t)*(i-n)*(i-e))},B0=(t,n)=>Math.sqrt(Math.pow(t,2)+Math.pow(n,2)),aQ=(t,n)=>[Math.floor(t/n),t%n],lQ=(()=>{class t{constructor(e,i){this.ngZone=e,this.cdRef=i,this.waveFormData=[],this.resampledWaveFormData=[],this.progress=0,this.isDragging=!1,this.sampleSize=40,this.isViewInited=!1}ngOnInit(){this.containerSizeChanged(),this.container?.nativeElement&&this.ngZone.runOutsideAngular(()=>{new ResizeObserver(()=>{this.containerSizeChanged()}).observe(this.container.nativeElement)})}ngOnChanges(e){e.waveFormData&&(this.resampledWaveFormData=H0(this.waveFormData,this.sampleSize)),e.audioElement&&this.ngZone.runOutsideAngular(()=>{this.audioElement?.addEventListener("timeupdate",()=>{let i=(this.audioElement?.currentTime||0)/(this.duration||0)||0;Math.abs(i-this.progress)>=.02&&this.ngZone.run(()=>{this.progress=i,this.cdRef.detectChanges()})})})}ngAfterViewInit(){this.isViewInited=!0}seek(e){let i=this.container?.nativeElement?.getBoundingClientRect().width||0,r=this.container?.nativeElement?.getBoundingClientRect()?.x||0,s=(e.x-r)/i;if(!isNaN(s)&&this.audioElement){let a=(this.duration||0)*s;this.audioElement.currentTime=a}}trackByIndex(e){return e}containerSizeChanged(){if(!this.container?.nativeElement)return;let e=this.container.nativeElement.clientWidth;if(e===0)return;let i=+getComputedStyle(this.container.nativeElement).getPropertyValue("--str-chat__voice-recording-amplitude-bar-width").replace("px",""),r=+getComputedStyle(this.container.nativeElement).getPropertyValue("--str-chat__voice-recording-amplitude-bar-gap-width").replace("px","");if(!isNaN(i)&&!isNaN(r)){let s=Math.floor(e/(i+r));s!==this.sampleSize&&!isNaN(s)&&s!==1/0&&this.ngZone.run(()=>{this.sampleSize=s,this.resampledWaveFormData=H0(this.waveFormData,this.sampleSize),this.isViewInited&&this.cdRef.detectChanges()})}}}return t.\u0275fac=function(e){return new(e||t)(M(pe),M(nt))},t.\u0275cmp=Ie({type:t,selectors:[["stream-voice-recording-wavebar"]],viewQuery:function(e,i){if(e&1&&Qe(_R,7),e&2){let r;Oe(r=ke())&&(i.container=r.first)}},inputs:{audioElement:"audioElement",waveFormData:"waveFormData",duration:"duration"},features:[tt],decls:4,vars:5,consts:[["container",""],["data-testid","wave-progress-bar-track","role","progressbar",1,"str-chat__wave-progress-bar__track",3,"mousedown","mouseup","mouseleave","mousemove","click"],["class","str-chat__wave-progress-bar__amplitude-bar",3,"str-chat__wave-progress-bar__amplitude-bar--active","--str-chat__wave-progress-bar__amplitude-bar-height",4,"ngFor","ngForOf","ngForTrackBy"],["data-testid","wave-progress-bar-progress-indicator",1,"str-chat__wave-progress-bar__progress-indicator",3,"ngStyle"],[1,"str-chat__wave-progress-bar__amplitude-bar"]],template:function(e,i){if(e&1){let r=Ce();E(0,"div",1,0),se("mousedown",function(){return $(r),H(i.isDragging=!0)})("mouseup",function(){return $(r),H(i.isDragging=!1)})("mouseleave",function(){return $(r),H(i.isDragging=!1)})("mousemove",function(o){return $(r),H(i.isDragging?i.seek(o):null)})("click",function(o){return $(r),H(i.seek(o))}),I(2,nq,1,4,"div",2),j(3,"div",3),x()}e&2&&(v(2),y("ngForOf",i.resampledWaveFormData)("ngForTrackBy",i.trackByIndex),v(),y("ngStyle",ft(3,tq,i.progress*100+"%")))},dependencies:[Cn,ac],encapsulation:2}),t})(),cQ=(()=>{class t{constructor(e,i){this.ngZone=e,this.cdRef=i,this.fileSize="",this.durationFormatted="",this.secondsElapsed=0,this.isError=!1,this.secondsElapsedFormatted=this.getFormattedDuration(this.secondsElapsed)}ngOnChanges(e){e.attachment&&(this.fileSize=this.getFileSize(),this.durationFormatted=this.getFormattedDuration(this.attachment?.duration))}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.audioElement?.nativeElement.addEventListener("timeupdate",()=>{let e=this.audioElement?.nativeElement?.ended?this.attachment?.duration||0:Math.round(this.audioElement?.nativeElement?.currentTime||0);this.secondsElapsed!==e&&this.ngZone.run(()=>{this.secondsElapsed=e,this.secondsElapsedFormatted=this.getFormattedDuration(this.secondsElapsed),this.cdRef.detectChanges()})})})}togglePlay(){return ne(this,null,function*(){if(!(!this.audioElement||!this.attachment?.asset_url))try{this.audioElement?.nativeElement.paused?yield this.audioElement.nativeElement.play():this.audioElement.nativeElement.pause(),this.isError=!1}catch{this.isError=!0}})}setPlaybackRate(){if(!this.audioElement?.nativeElement)return;let e=this.audioElement?.nativeElement?.playbackRate+.5;e>2&&(e=1),this.audioElement.nativeElement.playbackRate=e}getFormattedDuration(e){return nQ(e)}getFileSize(){return this.attachment?.file_size===void 0||this.attachment?.file_size===null?"":cp(Number(this.attachment.file_size||0))}}return t.\u0275fac=function(e){return new(e||t)(M(pe),M(nt))},t.\u0275cmp=Ie({type:t,selectors:[["stream-voice-recording"]],viewQuery:function(e,i){if(e&1&&Qe(iq,5),e&2){let r;Oe(r=ke())&&(i.audioElement=r.first)}},inputs:{attachment:"attachment"},features:[tt],decls:17,vars:11,consts:[["audioElement",""],["state",""],["fileIcon",""],["fileSizeTemplate",""],["data-testid","voice-recording-widget",1,"str-chat__message-attachment__voice-recording-widget"],[3,"play","pause","ended","error","abort"],["data-testid","audio-source",3,"src","type"],["data-testid","play-button",1,"str-chat__message-attachment-audio-widget--play-button",3,"click"],[3,"icon"],[1,"str-chat__message-attachment__voice-recording-widget__metadata"],[1,"str-chat__message-attachment-voice-recording-widget--first-row"],["data-testid","voice-recording-title",1,"str-chat__message-attachment__voice-recording-widget__title",3,"title"],[4,"ngIf","ngIfElse"],[1,"str-chat__message-attachment__voice-recording-widget__right-section"],["class","str-chat__message_attachment__playback-rate-button","data-testid","playback-rate-button",3,"click",4,"ngIf","ngIfElse"],[1,"str-chat__message-attachment__voice-recording-widget__error-message"],["icon","error"],["data-testid","error-message"],[1,"str-chat__message-attachment__voice-recording-widget__audio-state"],[1,"str-chat__message-attachment__voice-recording-widget__timer"],["data-testid","duration",4,"ngIf","ngIfElse"],[3,"waveFormData","duration","audioElement",4,"ngIf"],["data-testid","duration"],["data-testid","file-size-indicator",1,"str-chat__message-attachment-file--item-size"],[3,"waveFormData","duration","audioElement"],["data-testid","playback-rate-button",1,"str-chat__message_attachment__playback-rate-button",3,"click"],["icon","audio-file",1,"str-chat__attachment-type-icon"]],template:function(e,i){if(e&1){let r=Ce();E(0,"div",4)(1,"audio",5,0),se("play",function(){return $(r),H(null)})("pause",function(){return $(r),H(null)})("ended",function(){return $(r),H(null)})("error",function(){return $(r),H(i.isError=!0)})("abort",function(){return $(r),H(i.isError=!0)}),j(3,"source",6),x(),E(4,"button",7),se("click",function(){return $(r),H(i.togglePlay())}),j(5,"stream-icon-placeholder",8),x(),E(6,"div",9)(7,"div",10)(8,"div",11),ee(9),x()(),I(10,rq,6,3,"ng-container",12)(11,lq,6,3,"ng-template",null,1,J),x(),E(13,"div",13),I(14,cq,3,4,"button",14)(15,uq,1,0,"ng-template",null,2,J),x()()}if(e&2){let r=U(2),s=U(12),o=U(16);Fe("str-chat__message-attachment__voice-recording-widget--error",i.isError),v(3),y("src",i.attachment==null?null:i.attachment.asset_url,fn)("type",i.attachment==null?null:i.attachment.mime_type),v(2),y("icon",r!=null&&r.paused?"play":"pause"),v(3),y("title",i.attachment==null?null:i.attachment.title),v(),_e(" ",i.attachment==null?null:i.attachment.title," "),v(),y("ngIf",i.isError)("ngIfElse",s),v(4),y("ngIf",!(r!=null&&r.paused))("ngIfElse",o)}},dependencies:[Et,ps,lQ,mT,wn],encapsulation:2}),t})(),RR=(()=>{class t{constructor(e,i,r,s){this.customTemplatesService=e,this.channelService=i,this.attachmentConfigurationService=r,this.messageService=s,this.attachments=[],this.imageModalStateChange=new fe,this.class="str-chat__attachment-list-angular-host",this.orderedAttachments=[],this.customAttachments=[],this.imagesToView=[],this.imagesToViewCurrentIndex=0,this.attachmentConfigurations=new Map,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.customTemplatesService.customAttachmentListTemplate$.subscribe(e=>this.customAttachmentsTemplate=e))}ngOnChanges(e){if(e.attachments){let i=[],r=[];this.attachments.forEach(a=>{this.messageService.isCustomAttachment(a)?r.push(a):i.push(a)});let s=i.filter(this.isImage),o=s.length>=2;this.orderedAttachments=[...o?this.createGallery(s):s,...i.filter(a=>this.isVideo(a)),...i.filter(a=>this.isVoiceMessage(a)),...i.filter(a=>this.isFile(a))],this.attachmentConfigurations=new Map,this.orderedAttachments.length===0&&this.orderedAttachments.push(...i.filter(a=>this.isCard(a))),this.customAttachments=r}}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}trackByUrl(e,i){return i.image_url||i.img_url||i.asset_url||i.thumb_url}isImage(e){return CR(e)}isSvg(e){return!!(e.fallback||"").toLowerCase().endsWith(".svg")}isFile(e){return e.type==="file"}isGallery(e){return e.type==="gallery"}isVideo(e){return e.type==="video"&&e.asset_url&&!e.og_scrape_url}isCard(e){return!e.type||e.type==="image"&&!this.isImage(e)||e.type==="giphy"||e.type==="video"&&e.og_scrape_url}isVoiceMessage(e){return e.type==="voiceRecording"}hasFileSize(e){return e.file_size&&Number.isFinite(Number(e.file_size))}getFileSize(e){return cp(Number(e.file_size))}getModalContext(){return{isOpen:this.imagesToView&&this.imagesToView.length>0,isOpenChangeHandler:e=>e?null:this.closeImageModal(),content:this.modalContent}}trimUrl(e){if(e!=null){let[i]=e.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/");return i}return null}sendAction(e){this.channelService.sendAction(this.messageId,{[e.name]:e.value},this.parentMessageId)}trackByActionValue(e,i){return i.value}openImageModal(e,i=0){this.imageModalStateChange.next("opened"),this.imagesToView=e,this.imagesToViewCurrentIndex=i}stepImages(e){this.imagesToViewCurrentIndex+=e*1}trackByImageUrl(e,i){return i.image_url||i.img_url||i.thumb_url}getAttachmentContext(e){return{attachment:e}}getImageAttachmentConfiguration(e,i,r){let s=this.attachmentConfigurations.get(e);if(s)return s;let o=this.attachmentConfigurationService.getImageAttachmentConfiguration(e,i,r);return this.attachmentConfigurations.set(e,o),o}getCarouselImageAttachmentConfiguration(e,i){return this.attachmentConfigurationService.getImageAttachmentConfiguration(e,"carousel",i)}getVideoAttachmentConfiguration(e,i){let r=this.attachmentConfigurations.get(e);if(r)return r;let s=this.attachmentConfigurationService.getVideoAttachmentConfiguration(e,i);return this.attachmentConfigurations.set(e,s),s}getCardAttachmentConfiguration(e){let i=this.attachmentConfigurations.get(e);if(i)return i;if(e.type==="giphy")return this.attachmentConfigurationService.getGiphyAttachmentConfiguration(e);{let r=this.attachmentConfigurationService.getScrapedImageAttachmentConfiguration(e);return this.attachmentConfigurations.set(e,r),r}}get isImageModalPrevButtonVisible(){return this.imagesToViewCurrentIndex!==0}get isImageModalNextButtonVisible(){return this.imagesToViewCurrentIndex!==this.imagesToView.length-1}createGallery(e){return[{type:"gallery",images:e}]}closeImageModal(){this.imageModalStateChange.next("closed"),this.imagesToView=[]}}return t.\u0275fac=function(e){return new(e||t)(M(Ht),M(En),M(GG),M(yp))},t.\u0275cmp=Ie({type:t,selectors:[["stream-attachment-list"]],viewQuery:function(e,i){if(e&1&&Qe(dq,7),e&2){let r;Oe(r=ke())&&(i.modalContent=r.first)}},hostVars:2,hostBindings:function(e,i){e&2&&wr(i.class)},inputs:{messageId:"messageId",parentMessageId:"parentMessageId",attachments:"attachments"},outputs:{imageModalStateChange:"imageModalStateChange"},features:[tt],ngContentSelectors:vp,decls:5,vars:1,consts:[["defaultModal",""],["modalContent",""],["defaultImage",""],["imgElement",""],["defaultGallery",""],["element",""],["defaultVideo",""],["videoElement",""],["defaultFile",""],["defaultRecording",""],["defaultCard",""],["cardImage",""],["defaultActions",""],["class","str-chat__attachment-list",4,"ngIf"],[1,"str-chat__attachment-list"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["data-testclass","attachment-container"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-testclass","image",1,"str-chat__message-attachment--img",3,"click","keyup.enter","src","alt","ngStyle"],["data-testid","image-gallery",1,"str-chat__gallery"],["class","str-chat__gallery-image","data-testclass","gallery-image",3,"str-chat__message-attachment--svg-image","click","keyup.enter",4,"ngIf"],["class","str-chat__gallery-placeholder","data-testclass","gallery-image","data-testid","more-image-button",3,"str-chat__message-attachment--svg-image","ngStyle","click","keyup.enter",4,"ngIf"],["data-testclass","gallery-image",1,"str-chat__gallery-image",3,"click","keyup.enter"],["fetchpriority","low","loading","lazy",3,"src","alt","ngStyle"],["data-testclass","gallery-image","data-testid","more-image-button",1,"str-chat__gallery-placeholder",3,"click","keyup.enter","ngStyle"],[3,"innerHTML"],["data-testclass","video-attachment-parent",1,"str-chat__player-wrapper",3,"ngStyle"],["controls","","data-testclass","video-attachment",1,"str-chat__video-angular",3,"src","poster"],[1,"str-chat__message-attachment-file--item","str-chat-angular__message-attachment-file-single"],["icon","unspecified-filetype",1,"str-chat__attachment-type-icon"],[1,"str-chat__message-attachment-file--item-text"],["data-testclass","file-link","target","_blank",1,"str-chat__message-attachment-file--item-first-row",3,"href"],["data-testclass","file-title",1,"str-chat__message-attachment-file--item-name"],["icon","download",1,"str-chat__message-attachment-download-icon"],["class","str-chat__message-attachment-file--item-size","data-testclass","size",4,"ngIf"],["data-testclass","size",1,"str-chat__message-attachment-file--item-size"],["data-testclass","voice-recording",3,"attachment"],["class","str-chat__message-attachment-card--header",4,"ngIf"],[1,"str-chat__message-attachment-card--content"],[1,"str-chat__message-attachment-card--flex"],["data-testclass","card-title","class","str-chat__message-attachment-card--title",4,"ngIf"],["class","str-chat__message-attachment-card--text","data-testclass","card-text",4,"ngIf"],["class","str-chat__message-attachment-card--url","data-testclass","url-link","noopener","","noreferrer","","target","_blank",3,"href",4,"ngIf"],[1,"str-chat__message-attachment-card--header"],["target","_blank","data-testclass","scraped-video",3,"href",4,"ngIf","ngIfElse"],["target","_blank","data-testclass","scraped-video",3,"href"],[4,"ngTemplateOutlet"],[1,"str-chat__message-attachment-card--video-play"],["icon","play"],["fetchpriority","low","loading","lazy","data-testclass","card-img",3,"alt","src","ngStyle"],["data-testclass","card-title",1,"str-chat__message-attachment-card--title"],["data-testclass","card-text",1,"str-chat__message-attachment-card--text"],["data-testclass","url-link","noopener","","noreferrer","","target","_blank",1,"str-chat__message-attachment-card--url",3,"href"],[1,"str-chat__message-attachment-actions"],[1,"str-chat__message-attachment-actions-form"],["data-testclass","attachment-action",3,"class","click","keyup.enter",4,"ngFor","ngForOf","ngForTrackBy"],["data-testclass","attachment-action",3,"click","keyup.enter"],[1,"stream-chat-angular__image-modal-host",3,"isOpenChange","isOpen","content"],[1,"stream-chat-angular__image-modal","str-chat__image-carousel"],["data-testid","modal-image",1,"stream-chat-angular__image-modal-image","str-chat__image-carousel-image",3,"src","alt","ngStyle"],["data-testid","image-modal-prev","type","button",1,"stream-chat-angular__image-modal-stepper","str-chat__image-carousel-stepper","str-chat__image-carousel-stepper-prev",3,"click","keyup.enter","ngStyle"],["icon","arrow-left"],["type","button","data-testid","image-modal-next",1,"stream-chat-angular__image-modal-stepper","str-chat__image-carousel-stepper","str-chat__image-carousel-stepper-next",3,"click","keyup.enter","ngStyle"],["icon","arrow-right"]],template:function(e,i){e&1&&(Yt(),I(0,n7,4,4,"div",13)(1,i7,1,2,"ng-template",null,0,J)(3,r7,8,16,"ng-template",null,1,J)),e&2&&y("ngIf",i.orderedAttachments.length>0||i.customAttachments.length>0&&i.customAttachmentsTemplate)},dependencies:[Cn,Et,bt,ac,cQ,ps,su,Ft,wn],encapsulation:2}),t})(),uQ=(()=>{class t{constructor(){this.users=[],this.isLoading=!1,this.hasMore=!1,this.loadMore=new fe}trackByUserId(e,i){return i.id}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ie({type:t,selectors:[["stream-user-list"]],inputs:{users:"users",isLoading:"isLoading",hasMore:"hasMore"},outputs:{loadMore:"loadMore"},decls:2,vars:4,consts:[[3,"loadMore","items","hasMore","isLoading","trackBy"],[1,"str-chat__user-list-item"],["data-testclass","avatar","type","user","location","reaction",1,"str-chat__avatar","str-chat__avatar--circle",3,"imageUrl","name","user"],["data-testclass","username",1,"str-chat__user-item--name"]],template:function(e,i){e&1&&(E(0,"stream-paginated-list",0),se("loadMore",function(){return i.loadMore.emit()}),I(1,s7,4,4,"ng-template"),x()),e&2&&y("items",i.users)("hasMore",i.hasMore)("isLoading",i.isLoading)("trackBy",i.trackByUserId)},dependencies:[Ja,IR],encapsulation:2}),t})(),dQ=(()=>{class t{constructor(e,i,r){this.cdRef=e,this.messageReactionsService=i,this.customTemplatesService=r,this.messageReactionGroups=void 0,this.messageReactionCounts={},this.latestReactions=[],this.ownReactions=[],this.isLoading=!0,this.reactions=[],this.shouldHandleReactionClick=!0,this.existingReactions=[],this.reactionOptions=[],this.usersByReactions={},this.subscriptions=[],this.isViewInited=!1,this.isOpenChange=s=>{this.selectedReactionType=s?this.selectedReactionType:void 0,s||(this.usersByReactions={})}}ngOnInit(){this.subscriptions.push(this.messageReactionsService.reactions$.subscribe(e=>{this.reactionOptions=Object.keys(e),this.setExistingReactions(),this.isViewInited&&this.cdRef.detectChanges()}))}ngOnChanges(e){(e.messageReactionCounts||e.messageReactionGroups)&&(this.messageReactionCounts&&!this.messageReactionGroups&&(this.messageReactionGroups={},Object.keys(this.messageReactionCounts).forEach(i=>{this.messageReactionGroups[i]={count:this.messageReactionCounts?.[i]??0,sum_scores:this.messageReactionCounts?.[i]??0,first_reaction_at:void 0,last_reaction_at:void 0}})),this.setExistingReactions())}ngAfterViewInit(){this.isViewInited=!0}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getEmojiByReaction(e){return this.messageReactionsService.reactions[e]}reactionSelected(e){return ne(this,null,function*(){this.messageId&&(this.messageReactionsService.customReactionClickHandler?this.messageReactionsService.customReactionClickHandler({messageId:this.messageId,reactionType:e}):(this.selectedReactionType=e,this.usersByReactions[this.selectedReactionType]||(this.usersByReactions[this.selectedReactionType]={users:[]},yield this.loadNextPageOfReactions())))})}loadNextPageOfReactions(){return ne(this,null,function*(){if(!(!this.messageId||!this.selectedReactionType)){this.isLoading=!0;try{let e=yield this.messageReactionsService.queryReactions(this.messageId,this.selectedReactionType,this.usersByReactions[this.selectedReactionType].next);this.usersByReactions[this.selectedReactionType].users=[...this.usersByReactions[this.selectedReactionType].users,...e.reactions.map(i=>i.user).filter(i=>!!i)],this.usersByReactions[this.selectedReactionType].next=e.next}catch{this.selectedReactionType=void 0}finally{this.isLoading=!1}this.isViewInited&&this.cdRef.detectChanges()}})}trackByMessageReaction(e,i){return i}isOwnReaction(e){return!!this.ownReactions.find(i=>i.type===e)}setExistingReactions(){this.existingReactions=Object.keys(this.messageReactionGroups??{}).filter(e=>this.reactionOptions.indexOf(e)!==-1).filter(e=>this.messageReactionGroups[e].count>0).sort((e,i)=>{let r=this.messageReactionGroups[e].first_reaction_at?new Date(this.messageReactionGroups[e].first_reaction_at):new Date,s=this.messageReactionGroups[i].first_reaction_at?new Date(this.messageReactionGroups[i].first_reaction_at):new Date;return r.getTime()-s.getTime()})}}return t.\u0275fac=function(e){return new(e||t)(M(nt),M(DR),M(Ht))},t.\u0275cmp=Ie({type:t,selectors:[["stream-message-reactions"]],viewQuery:function(e,i){if(e&1&&Qe(o7,5),e&2){let r;Oe(r=ke())&&(i.selectorContainer=r.first)}},inputs:{messageId:"messageId",messageReactionGroups:"messageReactionGroups",messageReactionCounts:"messageReactionCounts",latestReactions:"latestReactions",ownReactions:"ownReactions"},features:[tt],decls:6,vars:2,consts:[["defaultModal",""],["modalContent",""],["data-testid","reaction-list","class","str-chat__reaction-list str-chat__message-reactions-container",3,"str-chat__reaction-list--reverse",4,"ngIf"],[4,"ngIf"],["data-testid","reaction-list",1,"str-chat__reaction-list","str-chat__message-reactions-container"],[1,"str-chat__message-reactions"],["class","str-chat__message-reaction","data-testclass","emoji",3,"str-chat__message-reaction-own","click","keyup.enter",4,"ngFor","ngForOf","ngForTrackBy"],["data-testclass","emoji",1,"str-chat__message-reaction",3,"click","keyup.enter"],[1,"emoji","str-chat__message-reaction-emoji"],["data-testclass","reaction-list-reaction-count",1,"str-chat__message-reaction-count"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"str-chat__message-reactions-details-modal",3,"isOpenChange","isOpen","content"],[1,"str-chat__message-reactions-details"],[1,"str-chat__message-reactions-details-reaction-types"],["class","str-chat__message-reactions-details-reaction-type",3,"str-chat__message-reactions-details-reaction-type--selected","click","keyup.enter",4,"ngFor","ngForOf","ngForTrackBy"],[1,"emoji","str-chat__message-reaction-emoji","str-chat__message-reaction-emoji-big"],["data-testid","all-reacting-users",1,"str-chat__message-reactions-details-reacting-users"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"str-chat__message-reactions-details-reaction-type",3,"click","keyup.enter"],[1,"str-chat__message-reaction-count"],[3,"loadMore","users","isLoading","hasMore"]],template:function(e,i){e&1&&I(0,c7,3,4,"div",2)(1,d7,3,10,"ng-container",3)(2,h7,1,2,"ng-template",null,0,J)(4,m7,7,5,"ng-template",null,1,J),e&2&&(y("ngIf",i.existingReactions.length>0),v(),y("ngIf",i.selectedReactionType))},dependencies:[Cn,Et,bt,su,uQ,Ft],encapsulation:2}),t})(),OR=(()=>{class t{constructor(e,i){this.messageService=e,this.customTemplatesService=i,this.isQuoted=!1,this.shouldTranslate=!1,this.messageTextParts=[],this.emojiRegexp=new RegExp(qA(),"g"),this.displayAs=this.messageService.displayAs;try{this.urlRegexp=new RegExp("(?:(?:https?|ftp|file):\\/\\/|www\\.|ftp\\.|(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,})(?![^\\s]*@[^\\s]*)(?:[^\\s()<>]+|\\([\\w\\d]+\\))*(?<!@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,})","gim")}catch{this.urlRegexp=/(?:(?:https?|ftp|file):\/\/|www\.|ftp\.)(?:\([-A-Z0-9+&@#/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#/%=~_|$?!:,.])*(?:\([-A-Z0-9+&@#/%=~_|$?!:,.]*\)|[A-Z0-9+&@#/%=~_|$])/gim}}ngOnChanges(e){(e.message||e.shouldTranslate)&&this.createMessageParts()}getMentionContext(e){return{content:e.content,user:e.user}}createMessageParts(){this.messageTextParts=void 0,this.messageText=void 0;let e=this.getMessageContent();if((!this.message.mentioned_users||this.message.mentioned_users.length===0)&&!e?.match(this.emojiRegexp)&&!e?.match(this.urlRegexp)){this.messageTextParts=void 0,this.messageText=e;return}if(e)if(!this.message.mentioned_users||this.message.mentioned_users.length===0)e=this.fixEmojiDisplay(e),e=this.wrapLinksWithAnchorTag(e),this.messageTextParts=[{content:e,type:"text"}];else{this.messageTextParts=[];let i=e;this.message.mentioned_users.forEach(r=>{let s=`@${r.name||r.id}`,o=i.substring(0,i.indexOf(s)),a=this.fixEmojiDisplay(o);a=this.wrapLinksWithAnchorTag(a),this.messageTextParts.push({content:a,type:"text"}),this.messageTextParts.push({content:s,type:"mention",user:r}),i=i.replace(o+s,"")}),i&&(i=this.fixEmojiDisplay(i),i=this.wrapLinksWithAnchorTag(i),this.messageTextParts.push({content:i,type:"text"}))}}getMessageContent(){let e=this.message?.text;return this.shouldTranslate&&this.message?.translation||e}fixEmojiDisplay(e){let i=!!window.chrome&&typeof window.opr>"u";return e=e.replace(this.emojiRegexp,r=>`<span ${i?'class="str-chat__emoji-display-fix"':""}>${r}</span>`),e}wrapLinksWithAnchorTag(e){return this.displayAs==="html"||(e=e.replace(this.urlRegexp,i=>{if(this.messageService.customLinkRenderer)return this.messageService.customLinkRenderer(i);{let r=i;return!r.startsWith("http")&&!r.startsWith("ftp")&&!r.startsWith("file")&&(r=`https://${i}`),`<a href="${r}" target="_blank" rel="nofollow">${i}</a>`}})),e}}return t.\u0275fac=function(e){return new(e||t)(M(yp),M(Ht))},t.\u0275cmp=Ie({type:t,selectors:[["stream-message-text"]],inputs:{message:"message",isQuoted:"isQuoted",shouldTranslate:"shouldTranslate"},features:[tt],decls:1,vars:1,consts:[["defaultContent",""],["mention",""],["defaultMention",""],["asHTML",""],["data-testid","text",3,"str-chat__quoted-message-text-value","str-chat__message-text-value",4,"ngIf"],["data-testid","text"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[3,"innerHTML",4,"ngIf","ngIfElse"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"str-chat__message-mention"],["data-testid","html-content",3,"innerHTML"]],template:function(e,i){e&1&&I(0,S7,4,6,"p",4),e&2&&y("ngIf",i.message==null?null:i.message.text)},dependencies:[Cn,Et,bt,Ft],encapsulation:2}),t})(),hQ=(()=>{class t{constructor(e,i,r,s,o,a,l,c){this.chatClientService=e,this.channelService=i,this.customTemplatesService=r,this.cdRef=s,this.dateParser=o,this.messageActionsService=a,this.ngZone=l,this.translateService=c,this.enabledMessageActions=[],this.mode="main",this.isHighlighted=!1,this.isEditedFlagOpened=!1,this.shouldDisplayTranslationNotice=!1,this.displayedMessageTextContent="original",this.imageAttachmentModalState="closed",this.shouldDisplayThreadLink=!1,this.isSentByCurrentUser=!1,this.readByText="",this.lastReadUser=void 0,this.isOnlyReadByMe=!1,this.isReadByMultipleUsers=!1,this.isMessageDeliveredAndRead=!1,this.parsedDate="",this.pasedEditedDate="",this.areOptionsVisible=!1,this.hasAttachment=!1,this.hasReactions=!1,this.replyCountParam={replyCount:void 0},this.areMessageOptionsOpen=!1,this.canDisplayReadStatus=!1,this.hasTouchSupport=sb()?"ontouchstart"in window||navigator.maxTouchPoints>0:window.matchMedia("(any-hover: none)").matches,this.subscriptions=[],this.isViewInited=!1,this.shouldPreventMessageMenuClose=!1,this._visibleMessageActionsCount=0}get visibleMessageActionsCount(){return this._visibleMessageActionsCount}set visibleMessageActionsCount(e){this._visibleMessageActionsCount=e,this.areOptionsVisible&&this._visibleMessageActionsCount===0&&(this.areOptionsVisible=!1)}ngOnInit(){this.subscriptions.push(this.chatClientService.user$.subscribe(e=>{e?.id!==this.userId&&(this.userId=e?.id,this.setIsSentByCurrentUser(),this.setLastReadUser(),this.isViewInited&&this.cdRef.detectChanges())})),this.subscriptions.push(this.messageActionsService.customActions$.subscribe(()=>{if(this.message){let e=this.messageActionsService.getAuthorizedMessageActionsCount(this.message,this.enabledMessageActions);e!==this.visibleMessageActionsCount&&(this.visibleMessageActionsCount=e,this.isViewInited&&this.cdRef.detectChanges())}})),this.subscriptions.push(this.channelService.activeChannel$.subscribe(e=>{let i=e?.data?.member_count;if(i!==this.channelMemberCount){let r=this.channelMemberCount!==void 0&&i!=null&&(this.channelMemberCount<=1e3&&i>100||this.channelMemberCount>100&&i<=100);this.channelMemberCount=e?.data?.member_count,this.message&&this.message.cid===e?.cid&&r&&this.updateReadByText()}}))}ngOnChanges(e){if(e.message){this.displayedMessageTextContent=this.message?.translation?"translation":"original",this.shouldDisplayTranslationNotice=this.displayedMessageTextContent==="translation";let i=this.message?.quoted_message?.attachments;this.quotedMessageAttachments=i&&i.length?[i[0]]:[],this.setIsSentByCurrentUser(),this.setLastReadUser(),this.updateReadByText(),this.isOnlyReadByMe=!!(this.message&&this.message.readBy&&this.message.readBy.length===0),this.isReadByMultipleUsers=!!(this.message&&this.message.readBy&&this.message.readBy.length>1),this.isMessageDeliveredAndRead=!!(this.message&&this.message.readBy&&this.message.status==="received"&&this.message.readBy.length>0),this.parsedDate=this.message&&this.message.created_at&&this.dateParser.parseDateTime(this.message.created_at)||"",this.pasedEditedDate=this.message&&this.message.message_text_updated_at&&this.dateParser.parseDateTime(new Date(this.message.message_text_updated_at))||"",this.hasAttachment=!!this.message?.attachments&&!!this.message.attachments.length,this.hasReactions=!!this.message?.reaction_groups&&Object.keys(this.message.reaction_groups).length>0,this.replyCountParam={replyCount:this.message?.reply_count}}e.enabledMessageActions&&(this.canReactToMessage=this.enabledMessageActions.indexOf("send-reaction")!==-1,this.canReceiveReadEvents=this.enabledMessageActions.indexOf("read-events")!==-1,this.canDisplayReadStatus=this.canReceiveReadEvents!==!1&&this.enabledMessageActions.indexOf("read-events")!==-1),(e.message||e.enabledMessageActions||e.mode)&&(this.shouldDisplayThreadLink=!!this.message?.reply_count&&this.mode!=="thread"),(e.message||e.mode||e.enabledMessageActions)&&(this.areOptionsVisible=this.message?!(!this.message.type||this.message.type==="error"||this.message.type==="system"||this.message.type==="deleted"||this.message.type==="ephemeral"||this.message.status==="failed"||this.message.status==="sending"||this.mode==="thread"&&!this.message.parent_id||this.message.deleted_at||this.enabledMessageActions.length===0):!1),(e.message||e.enabledMessageActions)&&(this.message?this.visibleMessageActionsCount=this.messageActionsService.getAuthorizedMessageActionsCount(this.message,this.enabledMessageActions):this.visibleMessageActionsCount=0)}ngAfterViewInit(){this.isViewInited=!0,this.hasTouchSupport&&this.messageBubble?.nativeElement&&this.ngZone.runOutsideAngular(()=>{this.registerMenuTriggerEventHandlers()}),this.subscriptions.push(this.messageActionsService.messageMenuOpenedFor$.subscribe(e=>{this.message&&this.message.id===e?this.areMessageOptionsOpen||this.messageMenuTrigger?.show():(e===void 0||this.message?.id!==e)&&this.areMessageOptionsOpen&&this.messageMenuTrigger?.hide()}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.showMessageMenuTimeout&&clearTimeout(this.showMessageMenuTimeout)}mousePushedDown(e){!this.hasTouchSupport||e.button!==0||!this.areOptionsVisible||this.startMessageMenuShowTimer({fromTouch:!1})}mouseReleased(){this.stopMessageMenuShowTimer()}touchStarted(){this.areOptionsVisible&&this.startMessageMenuShowTimer({fromTouch:!0})}touchEnded(){this.stopMessageMenuShowTimer()}messageBubbleClicked(e){this.hasTouchSupport&&(this.shouldPreventMessageMenuClose?(e.stopPropagation(),this.shouldPreventMessageMenuClose=!1):this.areMessageOptionsOpen&&this.messageMenuTrigger?.hide())}messageOptionsButtonClicked(){this.message&&(this.messageActionsService.customActionClickHandler?this.messageActionsService.customActionClickHandler({message:this.message,enabledActions:this.enabledMessageActions,customActions:this.messageActionsService.customActions$.getValue(),isMine:this.isSentByCurrentUser,messageTextHtmlElement:this.messageTextElement?.nativeElement}):this.areMessageOptionsOpen=!this.areMessageOptionsOpen)}messageActionsBoxClicked(e){e.hide()}getAttachmentListContext(){return{messageId:this.message?.id||"",attachments:this.message?.attachments||[],parentMessageId:this.message?.parent_id,imageModalStateChangeHandler:e=>this.imageAttachmentModalState=e}}getMessageContext(){return{message:this.message,enabledMessageActions:this.enabledMessageActions,isHighlighted:this.isHighlighted,isLastSentMessage:this.isLastSentMessage,mode:this.mode,customActions:this.messageActionsService.customActions$.getValue(),parsedDate:this.parsedDate,scroll$:this.scroll$}}getMessageTextContext(){return{message:this.message,isQuoted:!1,shouldTranslate:this.displayedMessageTextContent==="translation"}}getQuotedMessageTextContext(){return{message:this.message?.quoted_message,isQuoted:!0,shouldTranslate:this.displayedMessageTextContent==="translation"}}getQuotedMessageAttachmentListContext(){return{messageId:this.message?.quoted_message?.id||"",attachments:this.quotedMessageAttachments,parentMessageId:this?.message?.quoted_message?.parent_id}}getMessageReactionsContext(){return{messageReactionCounts:this.message?.reaction_counts||{},latestReactions:this.message?.latest_reactions||[],messageId:this.message?.id,ownReactions:this.message?.own_reactions||[],messageReactionGroups:this.message?.reaction_groups||{}}}messageClicked(){this.message?.status==="failed"&&this.message?.errorStatusCode!==403?this.resendMessage():this.message?.type==="error"&&this.message?.moderation_details?this.openMessageBouncePrompt():this.isEditedFlagOpened=!this.isEditedFlagOpened}resendMessage(){this.channelService.resendMessage(this.message)}setAsActiveParentMessage(){this.channelService.setAsActiveParentMessage(this.message)}getMessageActionsBoxContext(){return{isMine:this.isSentByCurrentUser,enabledActions:this.enabledMessageActions,message:this.message,messageTextHtmlElement:this.messageTextElement?.nativeElement}}getDeliveredStatusContext(){return{message:this.message}}getSendingStatusContext(){return{message:this.message}}getReadStatusContext(){return{message:this.message,readByText:this.readByText}}getMessageMetadataContext(){return{message:this.message}}jumpToMessage(e,i){this.channelService.jumpToMessage(e,i)}openMessageBouncePrompt(){this.channelService.bouncedMessage$.next(this.message)}displayTranslatedMessage(){this.shouldDisplayTranslationNotice=!0,this.displayedMessageTextContent="translation"}displayOriginalMessage(){this.displayedMessageTextContent="original"}updateReadByText(){let e=this.translateService.instant("streamChat.and others"),i=(this.channelMemberCount??0)>100;this.readByText=this.message?.readBy?ib(this.message.readBy,!i,e):""}setIsSentByCurrentUser(){this.isSentByCurrentUser=this.message?.user?.id===this.userId}setLastReadUser(){this.lastReadUser=this.message?.readBy?.filter(e=>e.id!==this.userId)[0]}startMessageMenuShowTimer(e){this.stopMessageMenuShowTimer(),this.scroll$&&this.subscriptions.push(this.scroll$.pipe(Xe(1)).subscribe(()=>{this.stopMessageMenuShowTimer()})),this.showMessageMenuTimeout=setTimeout(()=>{this.message&&this.ngZone.run(()=>{if(this.messageActionsService.customActionClickHandler){this.messageActionsService.customActionClickHandler({message:this.message,enabledActions:this.enabledMessageActions,customActions:this.messageActionsService.customActions$.getValue(),isMine:this.isSentByCurrentUser,messageTextHtmlElement:this.messageTextElement?.nativeElement});return}else this.shouldPreventMessageMenuClose=!e.fromTouch,document.activeElement&&typeof document.activeElement.blur<"u"&&document.activeElement.blur(),this.messageMenuTrigger.show(),this.messageActionsService.messageMenuOpenedFor$.next(this.message?.id);this.isViewInited&&this.cdRef.detectChanges(),this.showMessageMenuTimeout=void 0})},400)}registerMenuTriggerEventHandlers(){this.messageBubble.nativeElement.addEventListener("touchstart",()=>this.touchStarted()),this.messageBubble.nativeElement.addEventListener("touchend",()=>this.touchEnded()),this.messageBubble.nativeElement.addEventListener("mousedown",e=>this.mousePushedDown(e)),this.messageBubble.nativeElement.addEventListener("mouseup",()=>this.mouseReleased()),this.messageBubble.nativeElement.addEventListener("click",e=>this.messageBubbleClicked(e))}stopMessageMenuShowTimer(){this.showMessageMenuTimeout&&(clearTimeout(this.showMessageMenuTimeout),this.showMessageMenuTimeout=void 0)}}return t.\u0275fac=function(e){return new(e||t)(M($t),M(En),M(Ht),M(nt),M(rb),M(wp),M(pe),M(Zs))},t.\u0275cmp=Ie({type:t,selectors:[["stream-message"]],viewQuery:function(e,i){if(e&1&&(Qe(x7,5),Qe(T7,5),Qe(I7,5),Qe(M7,5)),e&2){let r;Oe(r=ke())&&(i.messageMenuTrigger=r.first),Oe(r=ke())&&(i.messageMenuFloat=r.first),Oe(r=ke())&&(i.messageTextElement=r.first),Oe(r=ke())&&(i.messageBubble=r.first)}},inputs:{message:"message",enabledMessageActions:"enabledMessageActions",isLastSentMessage:"isLastSentMessage",mode:"mode",isHighlighted:"isHighlighted",scroll$:"scroll$"},features:[tt],decls:16,vars:28,consts:[["deletedMessage",""],["systemMessage",""],["quotedMessage",""],["messageDateAndSender",""],["messageStatus",""],["replyCountButton",""],["attachmentsTemplate",""],["defaultMessageReactions",""],["messageMenuFloat",""],["defaultMessageActionsBox",""],["messageMenuTrigger","floatUiLoose","messageBubble",""],["messageActionsToggle",""],["defaultText",""],["defaultSystemMessage",""],["defaultAttachments",""],["sentStatus",""],["deliveredStatus",""],["defaultDeliveredStatus",""],["sendingStatus",""],["defaultSendingStatus",""],["readStatus",""],["defaultReadStatus",""],["floatingContent",""],["defaultButton",""],["data-testid","message-container"],[4,"ngIf","ngIfElse"],["data-testid","avatar","type","user","location","message-sender",1,"str-chat-angular__avatar-host","str-chat__message-sender-avatar",3,"imageUrl","name","user"],[1,"str-chat__message-inner"],["class","str-chat__message-simple__actions str-chat__message-options","data-testid","message-options",3,"str-chat__message-actions-open",4,"ngIf"],[4,"ngIf"],[1,"str-chat__message-reactions-host"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","keyup.enter"],["data-testid","message-bubble","looseTrigger","none",1,"str-chat__message-bubble","str-chat-angular__message-bubble",3,"onShown","onHidden","floatUiLoose","hideOnScroll","hideOnClickOutside","hideOnMouseLeave","disableAnimation","preventOverflow","positionFixed"],["class","str-chat__message-text","tabindex","0",3,"str-chat__message-text--pointer-cursor","click","keyup.enter",4,"ngIf"],["icon","error",1,"str-chat__message-error-icon"],[4,"ngTemplateOutlet"],["data-testid","message-options",1,"str-chat__message-simple__actions","str-chat__message-options"],["data-testid","message-actions-container",1,"str-chat__message-actions-container","str-chat__message-simple__actions__action","str-chat__message-simple__actions__action--options",3,"onSHown","onHidden","floatUiLoose","looseTrigger","hideOnScroll","hideOnClickOutside","hideOnMouseLeave","disableAnimation","preventOverflow","positionFixed"],["class","str-chat__message-actions-box-button","data-testid","message-options-button",3,"click","keyup.enter",4,"ngIf"],["data-testid","message-options-button",1,"str-chat__message-actions-box-button",3,"click","keyup.enter"],["icon","action",1,"str-chat__message-action-icon"],[3,"messageReactionCounts","latestReactions","messageId","ownReactions","messageReactionGroups"],[3,"isMine","message","enabledActions","messageTextHtmlElement"],[1,"str-chat__attachments-container"],["tabindex","0",1,"str-chat__message-text",3,"click","keyup.enter"],["data-testid","inner-message",1,"str-chat__message-text-inner","str-chat__message-simple-text-inner"],["data-testid","client-error-message","class","str-chat__simple-message--error-message str-chat__message--error-message",4,"ngIf"],["data-testid","error-message","class","str-chat__simple-message--error-message str-chat__message--error-message",4,"ngIf"],["data-testid","client-error-message",1,"str-chat__simple-message--error-message","str-chat__message--error-message"],["data-testid","error-message",1,"str-chat__simple-message--error-message","str-chat__message--error-message"],["data-testid","quoted-message-text",3,"message","isQuoted","shouldTranslate"],["data-testid","message-deleted-component"],["translate","",1,"str-chat__message--deleted-inner"],["data-testid","system-message",1,"str-chat__message--system"],[1,"str-chat__message--system__text"],[1,"str-chat__message--system__line"],[1,"str-chat__message--system__date"],["class","quoted-message str-chat__quoted-message-preview","data-testid","quoted-message-container",3,"mine","click","keyup.enter",4,"ngIf"],["data-testid","quoted-message-container",1,"quoted-message","str-chat__quoted-message-preview",3,"click","keyup.enter"],["data-testid","qouted-message-avatar","type","user","location","quoted-message-sender",1,"str-chat-angular__avatar-host","str-chat__message-sender-avatar",3,"imageUrl","name","user"],[1,"quoted-message-inner","str-chat__quoted-message-bubble"],[3,"imageModalStateChange","messageId","attachments","parentMessageId"],["class","str-chat__translation-notice","data-testid","translation-notice",4,"ngIf"],[1,"str-chat__message-data","str-chat__message-simple-data","str-chat__message-metadata"],["data-testid","sender","class","str-chat__message-simple-name str-chat__message-sender-name",4,"ngIf"],["data-testid","date",1,"str-chat__message-simple-timestamp","str-chat__message-simple-time"],["data-testid","translation-notice",1,"str-chat__translation-notice"],["data-testid","see-original","translate","",3,"click","keyup.enter",4,"ngIf"],["data-testid","see-translation","translate","",3,"click","keyup.enter",4,"ngIf"],["data-testid","see-original","translate","",3,"click","keyup.enter"],["data-testid","see-translation","translate","",3,"click","keyup.enter"],[1,"str-chat__custom-message-metadata"],["data-testid","sender",1,"str-chat__message-simple-name","str-chat__message-sender-name"],["data-testid","edited-flag","translate","",1,"str-chat__mesage-simple-edited"],["data-testid","edited-timestamp",1,"str-chat__message-edited-timestamp",3,"ngClass"],["translate",""],[3,"dateTime","title"],["class","str-chat__message-simple-status str-chat__message-simple-status-angular str-chat__message-status","data-testid","delivered-indicator","tabindex","0","loosePlacement","top",3,"floatUiLoose","looseTrigger","disableAnimation","hideOnClickOutside","positionFixed","preventOverflow",4,"ngIf"],["data-testid","delivered-indicator","tabindex","0","loosePlacement","top",1,"str-chat__message-simple-status","str-chat__message-simple-status-angular","str-chat__message-status",3,"floatUiLoose","looseTrigger","disableAnimation","hideOnClickOutside","positionFixed","preventOverflow"],[1,"str-chat__tooltip","str-chat__tooltip-angular"],["data-testid","delivered-icon","icon","delivered"],["data-testid","sending-indicator","tabindex","0","loosePlacement","top",1,"str-chat__message-simple-status","str-chat__message-simple-status-angular","str-chat__message-status",3,"floatUiLoose","looseTrigger","disableAnimation","hideOnClickOutside","positionFixed","preventOverflow"],["data-testid","loading-indicator"],["data-testid","read-indicator","tabindex","0","loosePlacement","top",1,"str-chat__message-simple-status","str-chat__message-simple-status-angular","str-chat__message-status",3,"floatUiLoose","looseTrigger","disableAnimation","hideOnClickOutside","positionFixed","preventOverflow"],["data-testid","read-by-tooltip",1,"str-chat__tooltip","str-chat__tooltip-angular"],["icon","read"],[1,"str-chat__message-simple-reply-button","str-chat__message-replies-count-button-wrapper"],["data-testid","reply-count-button",1,"str-chat__message-replies-count-button",3,"click"]],template:function(e,i){if(e&1&&(E(0,"div",24),I(1,eW,2,2,"ng-container",25),x(),I(2,tW,3,0,"ng-template",null,0,J)(4,rW,4,4,"ng-template",null,1,J)(6,hW,1,1,"ng-template",null,2,J)(8,CW,10,8,"ng-template",null,3,J)(10,VW,1,1,"ng-template",null,4,J)(12,HW,4,1,"ng-template",null,5,J)(14,WW,4,4,"ng-template",null,6,J)),e&2){let r=U(3);J_("str-chat__message-simple str-chat__message str-chat__message--",i.message==null?null:i.message.type," str-chat__message--",i.message==null?null:i.message.status," ",i.message!=null&&i.message.text?"str-chat__message--has-text":"has-no-text"," str-chat__message-menu-",i.areMessageOptionsOpen?"opened":"closed",""),Fe("str-chat__message--me",i.isSentByCurrentUser)("str-chat__message--other",!i.isSentByCurrentUser)("str-chat__message-simple--me",i.isSentByCurrentUser)("str-chat__message--has-attachment",i.hasAttachment)("str-chat__message--with-reactions",i.hasReactions)("str-chat__message--highlighted",i.isHighlighted)("str-chat__message-with-thread-link",i.shouldDisplayThreadLink)("str-chat__message-send-can-be-retried",(i.message==null?null:i.message.status)==="failed"&&(i.message==null?null:i.message.errorStatusCode)!==403||(i.message==null?null:i.message.type)==="error"&&(i.message==null?null:i.message.moderation_details))("str-chat__message-with-touch-support",i.hasTouchSupport)("str-chat__message-without-touch-support",!i.hasTouchSupport),v(),y("ngIf",!(i.message!=null&&i.message.deleted_at))("ngIfElse",r)}},dependencies:[Ph,Et,bt,k0,$A,Ja,HT,ps,Cp,XG,RR,dQ,OR,Ft,wn],encapsulation:2,changeDetection:0}),t})(),kR=new le("textareaInjectionToken"),dR=(()=>{class t{constructor(e){this.viewContainerRef=e,this.value="",this.valueChange=new fe,this.send=new fe,this.userMentions=new fe,this.pasteFromClipboard=new fe,this.subscriptions=[],this.unpropagatedChanges=[]}ngOnChanges(e){if(this.unpropagatedChanges.push(e),!this.componentRef)return;e.componentRef&&(this.subscriptions.forEach(r=>r.unsubscribe()),this.componentRef&&(this.subscriptions.push(this.componentRef.instance.valueChange.subscribe(r=>this.valueChange.next(r))),this.subscriptions.push(this.componentRef.instance.send.subscribe(r=>this.send.next(r))),this.componentRef.instance.userMentions&&this.subscriptions.push(this.componentRef.instance.userMentions.subscribe(r=>this.userMentions.next(r))),this.subscriptions.push(this.componentRef.instance.pasteFromClipboard.subscribe(r=>this.pasteFromClipboard.next(r))),this.componentRef.instance.areMentionsEnabled=this.areMentionsEnabled,this.componentRef.instance.mentionScope=this.mentionScope,this.componentRef.instance.value=this.value,this.componentRef.instance.placeholder=this.placeholder,this.componentRef.instance.inputMode=this.inputMode,this.componentRef.instance.autoFocus=this.autoFocus)),e.areMentionsEnabled&&(this.componentRef.instance.areMentionsEnabled=this.areMentionsEnabled),e.mentionScope&&(this.componentRef.instance.mentionScope=this.mentionScope),e.value&&(this.componentRef.instance.value=this.value),e.placeholder&&(this.componentRef.instance.placeholder=this.placeholder),e.inputMode&&(this.componentRef.instance.inputMode=this.inputMode),e.autoFocus&&(this.componentRef.instance.autoFocus=this.autoFocus);let i={};this.unpropagatedChanges.forEach(r=>i=V(V({},i),r)),this.componentRef.instance.ngOnChanges?.(i),this.unpropagatedChanges=[]}}return t.\u0275fac=function(e){return new(e||t)(M(It))},t.\u0275dir=Me({type:t,selectors:[["","streamTextarea",""]],inputs:{componentRef:"componentRef",areMentionsEnabled:"areMentionsEnabled",mentionScope:"mentionScope",inputMode:"inputMode",value:"value",placeholder:"placeholder",autoFocus:"autoFocus"},outputs:{valueChange:"valueChange",send:"send",userMentions:"userMentions",pasteFromClipboard:"pasteFromClipboard"},features:[tt]}),t})(),z0=(()=>{class t{constructor(){this.emojiInput$=new ye}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),q0=(()=>{class t{constructor(){this.isRecorderVisible$=new ie(!1),this.recording$=new ie(void 0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:tc}),t})(),FR=(()=>{class t{constructor(){this.isFileUploadEnabled=!0,this.areMentionsEnabled=!0,this.isMultipleFileUploadEnabled=!0,this.mentionScope="channel",this.inputMode="desktop",this.sendVoiceRecordingImmediately=!0,this.customAutocompletes$=new ie([])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rn=function(t){return t.PAUSED="paused",t.RECORDING="recording",t.STOPPED="stopped",t.ERROR="error",t}(rn||{}),W0=class{constructor(n,e,i){this.notificationService=n,this.chatService=e,this.transcoder=i,this.recordingSubject=new ie(void 0),this.recordedChunkDurations=[],this.recordingStateSubject=new ie(rn.STOPPED),this.generateRecordingTitle=r=>this.customGenerateRecordingTitle?this.customGenerateRecordingTitle({mimeType:r}):`${this.mediaType}_recording_${new Date().toISOString()}.${WG(r)}`,this.handleErrorEvent=r=>{this.logError(r.error),this.recordingStateSubject.next(rn.ERROR),this.notificationService.addTemporaryNotification("streamChat.An error has occurred during recording"),this.stop({cancel:!0})},this.handleDataavailableEvent=r=>{r.data.size&&this.makeRecording(r.data)},this.recording$=this.recordingSubject.asObservable(),this.recordingState$=this.recordingStateSubject.asObservable()}get durationMs(){return this.recordedChunkDurations.reduce((n,e)=>n+e,0)+(this.startTime?Date.now()-this.startTime:0)}get mediaType(){return this.config.mimeType.split("/")?.[0]||"unknown"}get isRecording(){return this.recordingStateSubject.value===rn.RECORDING||this.recordingStateSubject.value===rn.PAUSED}makeRecording(n){return ne(this,null,function*(){let{mimeType:e}=this.config;try{if(e.includes("webm")&&(n=yield(0,gR.default)(n,this.durationMs,{logger:()=>null})),n=yield this.transcoder.transcode(n),!n)return;let i=qG({blobsArray:[n],fileName:this.generateRecordingTitle(n.type),mimeType:n.type}),r=yield bR(i),s=this.enrichWithExtraData();return this.recordingSubject.next(V({recording:i,duration:this.durationMs/1e3,asset_url:r,mime_type:e},s)),i}catch(i){this.logError(i),this.recordingStateSubject.next(rn.ERROR);return}})}get recordingState(){return this.recordingStateSubject.value}start(){return ne(this,null,function*(){if(![rn.RECORDING,rn.PAUSED].includes(this.recordingStateSubject.value)){if(this.recordingSubject.next(void 0),!navigator.mediaDevices){console.warn("[Stream Chat] Media devices API missing, it's possible your app is not served from a secure context (https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts)");let n=new Error("Media recording is not supported");this.logError(n),this.recordingStateSubject.next(rn.ERROR),this.notificationService.addTemporaryNotification("streamChat.Media recording not supported");return}try{let n=yield navigator.mediaDevices.getUserMedia({audio:!0});this.mediaRecorder=new MediaRecorder(n,this.config),this.mediaRecorder.addEventListener("dataavailable",this.handleDataavailableEvent),this.mediaRecorder.addEventListener("error",this.handleErrorEvent),this.startTime=new Date().getTime(),this.mediaRecorder.start(),this.recordingStateSubject.next(rn.RECORDING)}catch(n){this.logError(n),this.stop({cancel:!0}),this.recordingStateSubject.next(rn.ERROR);let e=n.name?.includes("NotAllowedError");this.notificationService.addTemporaryNotification(e?"streamChat.Please grant permission to use microhpone":"streamChat.Error starting recording")}}})}pause(){this.recordingStateSubject.value===rn.RECORDING&&(this.startTime&&(this.recordedChunkDurations.push(new Date().getTime()-this.startTime),this.startTime=void 0),this.mediaRecorder?.pause(),this.recordingStateSubject.next(rn.PAUSED))}resume(){this.recordingStateSubject.value===rn.PAUSED&&(this.startTime=new Date().getTime(),this.mediaRecorder?.resume(),this.recordingStateSubject.next(rn.RECORDING))}stop(){return ne(this,arguments,function*(n={cancel:!1}){this.startTime&&(this.recordedChunkDurations.push(new Date().getTime()-this.startTime),this.startTime=void 0);let e;this.mediaRecorder?.stop();try{!n.cancel&&this.recordingStateSubject.value!==rn.ERROR&&(e=yield new Promise((i,r)=>{this.recording$.subscribe(s=>{s&&i(s)}),this.recordingState$.subscribe(s=>{s===rn.ERROR&&r(new Error("Recording couldn't be created"))})}))}catch{this.notificationService.addTemporaryNotification("streamChat.An error has occurred during recording")}finally{this.recordedChunkDurations=[],this.startTime=void 0,this.mediaRecorder?.removeEventListener("dataavailable",this.handleDataavailableEvent),this.mediaRecorder?.removeEventListener("error",this.handleErrorEvent),this.mediaRecorder?.stream?.active&&(this.mediaRecorder?.stream?.getTracks().forEach(i=>{i.stop(),this.mediaRecorder?.stream?.removeTrack(i)}),this.mediaRecorder=void 0),this.recordingStateSubject.next(rn.STOPPED)}return e})}logError(n){this.chatService.chatClient?.logger("error",n.message,{error:n,tag:["MediaRecorder"]})}},pp=44,ru=2,fQ=4294967295,Ut={AUDIO_FORMAT:{offset:20,value:1},BITS_PER_SAMPLE:{offset:34,value:ru*8},BLOCK_ALIGN:{offset:32},BYTE_RATE:{offset:28},CHANNEL_COUNT:{offset:22},CHUNK_ID:{offset:0,value:1380533830},CHUNK_SIZE:{offset:4},FILE_FORMAT:{offset:8,value:1463899717},SAMPLE_RATE:{offset:24},SUBCHUNK1_ID:{offset:12,value:1718449184},SUBCHUNK1_SIZE:{offset:16,value:16},SUBCHUNK2_ID:{offset:36,value:1684108385},SUBCHUNK2_SIZE:{offset:40}},pQ=(()=>{class t{constructor(){this.config={sampleRate:16e3},this.splitDataByChannel=e=>Array.from({length:e.numberOfChannels},(i,r)=>e.getChannelData(r))}transcode(e){return ne(this,null,function*(){if(this.customTranscoder)return this.customTranscoder(e);if(e.type.includes("audio/mp4"))return e;let i=yield this.renderAudio(yield this.toAudioBuffer(e),this.config.sampleRate),s=i.duration*this.config.sampleRate*i.numberOfChannels*ru+pp,o=new ArrayBuffer(s);return this.writeWavHeader({arrayBuffer:o,channelCount:i.numberOfChannels,sampleRate:this.config.sampleRate}),this.writeWavAudioData({arrayBuffer:o,dataByChannel:this.splitDataByChannel(i)}),new Blob([o],{type:"audio/wav"})})}renderAudio(e,i){return ne(this,null,function*(){let r=new OfflineAudioContext(e.numberOfChannels,e.duration*i,i),s=r.createBufferSource();return s.buffer=e,s.connect(r.destination),s.start(),yield r.startRendering()})}toAudioBuffer(e){return ne(this,null,function*(){let i=new AudioContext,r=yield zG(e),s=yield i.decodeAudioData(r);return i.state!=="closed"&&(yield i.close()),s})}writeWavAudioData({arrayBuffer:e,dataByChannel:i}){let r=new DataView(e),s=i.length;i.forEach((o,a)=>{let l=pp+s*a;o.forEach(c=>{r.setInt16(l,c<0?Math.max(-1,c)*32768:Math.min(1,c)*32767,!0),l+=s*ru})})}writeWavHeader({arrayBuffer:e,channelCount:i,sampleRate:r}){let s=r*i*ru,o=i*ru,a=new DataView(e),l=Math.min(a.byteLength-pp,fQ-pp);a.setUint32(Ut.CHUNK_ID.offset,Ut.CHUNK_ID.value),a.setUint32(Ut.CHUNK_SIZE.offset,e.byteLength-8,!0),a.setUint32(Ut.FILE_FORMAT.offset,Ut.FILE_FORMAT.value),a.setUint32(Ut.SUBCHUNK1_ID.offset,Ut.SUBCHUNK1_ID.value),a.setUint32(Ut.SUBCHUNK1_SIZE.offset,Ut.SUBCHUNK1_SIZE.value,!0),a.setUint16(Ut.AUDIO_FORMAT.offset,Ut.AUDIO_FORMAT.value,!0),a.setUint16(Ut.CHANNEL_COUNT.offset,i,!0),a.setUint32(Ut.SAMPLE_RATE.offset,r,!0),a.setUint32(Ut.BYTE_RATE.offset,s,!0),a.setUint16(Ut.BLOCK_ALIGN.offset,o,!0),a.setUint16(Ut.BITS_PER_SAMPLE.offset,Ut.BITS_PER_SAMPLE.value,!0),a.setUint32(Ut.SUBCHUNK2_ID.offset,Ut.SUBCHUNK2_ID.value),a.setUint32(Ut.SUBCHUNK2_SIZE.offset,l,!0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:tc}),t})(),mQ=255,gQ=t=>Math.sqrt(t.reduce((n,e)=>n+Math.pow(e,2),0)/t.length),_Q={analyserConfig:{fftSize:32,maxDecibels:0,minDecibels:-100},sampleCount:100,samplingFrequencyMs:60},vQ=(()=>{class t{constructor(e){this.chatService=e,this.config=_Q,this.amplitudesSubject=new ie([]),this.errorSubject=new ie(void 0),this.start=i=>{this.stop(),this.stream=i,this.init(),this.resume()},this.amplitudes$=this.amplitudesSubject.asObservable(),this.error$=this.errorSubject.asObservable()}get amplitudes(){return this.amplitudesSubject.value}pause(){clearInterval(this.amplitudeSamplingInterval),this.amplitudeSamplingInterval=void 0}resume(){this.amplitudeSamplingInterval=setInterval(()=>{if(!this.analyserNode)return;let e=new Uint8Array(this.analyserNode.frequencyBinCount);try{this.analyserNode.getByteFrequencyData(e)}catch(r){this.logError(r),this.errorSubject.next(r);return}let i=gQ(e)/mQ;this.amplitudesSubject.next([...this.amplitudesSubject.value,i])},this.config.samplingFrequencyMs)}stop(){this.stream&&(this.stream=void 0,clearInterval(this.amplitudeSamplingInterval),this.amplitudeSamplingInterval=void 0,this.amplitudesSubject.next([]),this.errorSubject.next(void 0),this.microphone?.disconnect(),this.analyserNode?.disconnect(),this.audioContext?.state!=="closed"&&this.audioContext?.close())}init(){if(!this.stream)return;this.audioContext=new AudioContext,this.analyserNode=this.audioContext.createAnalyser();let{analyserConfig:e}=this.config;this.analyserNode.fftSize=e.fftSize,this.analyserNode.maxDecibels=e.maxDecibels,this.analyserNode.minDecibels=e.minDecibels,this.microphone=this.audioContext.createMediaStreamSource(this.stream),this.microphone.connect(this.analyserNode)}logError(e){this.chatService.chatClient?.logger("error",e.message,{error:e,tag:["AmplitudeRecorderService"]})}}return t.\u0275fac=function(e){return new(e||t)(P($t))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:tc}),t})(),yQ=(()=>{class t extends W0{constructor(e,i,r,s){super(e,i,r),this.amplitudeRecorder=s,this.config={mimeType:sb()?"audio/mp4;codecs=mp4a.40.2":"audio/webm"}}enrichWithExtraData(){return{waveform_data:H0(this.amplitudeRecorder.amplitudes,this.amplitudeRecorder.config.sampleCount)}}start(){return ne(this,null,function*(){let e=yield zp(t.prototype,this,"start").call(this);return this.mediaRecorder?.stream&&this.amplitudeRecorder.start(this.mediaRecorder?.stream),e})}pause(){let e=super.pause();return this.amplitudeRecorder.pause(),e}resume(){let e=super.resume();return this.amplitudeRecorder.resume(),e}stop(e){return ne(this,null,function*(){try{return yield zp(t.prototype,this,"stop").call(this,e)}finally{this.amplitudeRecorder.stop()}})}}return t.\u0275fac=function(e){return new(e||t)(P(fs),P($t),P(pQ),P(vQ))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:tc}),t})(),bQ=(()=>{class t{constructor(e,i){this.customTemplateService=e,this.attachmentService=i,this.retryAttachmentUpload=new fe,this.deleteAttachment=new fe,this.customAttachments=[],this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.customTemplateService.customAttachmentPreviewListTemplate$.subscribe(e=>this.customAttachmentsPreview=e)),this.subscriptions.push(this.attachmentService.customAttachments$.subscribe(e=>this.customAttachments=e))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}attachmentUploadRetried(e){this.retryAttachmentUpload.emit(e)}attachmentDeleted(e){this.deleteAttachment.emit(e)}trackByFile(e,i){return i.file}}return t.\u0275fac=function(e){return new(e||t)(M(Ht),M($0))},t.\u0275cmp=Ie({type:t,selectors:[["stream-attachment-preview-list"]],inputs:{attachmentUploads$:"attachmentUploads$"},outputs:{retryAttachmentUpload:"retryAttachmentUpload",deleteAttachment:"deleteAttachment"},decls:6,vars:3,consts:[["deleteButton",""],["retryButton",""],["class","str-chat__attachment-preview-list",4,"ngIf"],[1,"str-chat__attachment-preview-list"],[1,"str-chat__attachment-list-scroll-container"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["class","str-chat__attachment-preview-image","data-testclass","attachment-image-preview",4,"ngIf"],["data-testclass","attachment-file-preview",3,"class",4,"ngIf"],["data-testclass","attachment-image-preview",1,"str-chat__attachment-preview-image"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","str-chat__attachment-preview-image-loading",4,"ngIf"],["class","str-chat__attachment-preview-thumbnail","data-testclass","attachment-image",3,"src","alt",4,"ngIf"],[1,"str-chat__attachment-preview-image-loading"],["data-testclass","loading-indicator"],["data-testclass","attachment-image",1,"str-chat__attachment-preview-thumbnail",3,"src","alt"],["data-testclass","attachment-file-preview"],["icon","unspecified-filetype",1,"str-chat__attachment-preview-file-icon"],[1,"str-chat__attachment-preview-file-end"],[1,"str-chat__attachment-preview-file-name",3,"title"],["class","str-chat__attachment-preview-file-download","data-testclass","file-download-link","download","",3,"href","click","keyup.enter",4,"ngIf"],["data-testclass","loading-indicator",4,"ngIf"],["data-testclass","file-download-link","download","",1,"str-chat__attachment-preview-file-download",3,"click","keyup.enter","href"],["icon","download"],["data-testclass","file-delete","role","button",1,"str-chat__attachment-preview-delete",3,"click","keyup.enter"],["icon","close"],["data-testclass","upload-retry",3,"class","click","keyup.enter",4,"ngIf"],["data-testclass","upload-retry",3,"click","keyup.enter"],["icon","retry"]],template:function(e,i){if(e&1&&(I(0,a9,5,5,"div",2),q(1,"async"),I(2,l9,2,0,"ng-template",null,0,J)(4,u9,1,1,"ng-template",null,1,J)),e&2){let r;y("ngIf",((r=Q(1,1,i.attachmentUploads$))==null?null:r.length)||i.customAttachments.length>0&&i.customAttachmentsPreview)}},dependencies:[Cn,Et,bt,ps,Cp,Ft],encapsulation:2}),t})(),PR=(()=>{class t{constructor(e,i,r,s,o,a,l,c,u,d,h,f){this.channelService=e,this.notificationService=i,this.attachmentService=r,this.configService=s,this.textareaType=o,this.componentFactoryResolver=a,this.cdRef=l,this.emojiInputService=c,this.customTemplatesService=u,this.messageActionsService=d,this.voiceRecorderService=h,this.audioRecorder=f,this.mode="main",this.autoFocus=!0,this.watchForMessageToEdit=!0,this.displaySendButton=!0,this.displayVoiceRecordingButton=!1,this.messageUpdate=new fe,this.class="str-chat__message-input-angular-host",this.isVoiceRecording=!0,this.textareaValue="",this.mentionedUsers=[],this.typingStart$=new ye,this.isCooldownInProgress=!1,this.fileInputId=Jf(),this.subscriptions=[],this.isViewInited=!1,this.defaultTextareaPlaceholder="streamChat.Type your message",this.slowModeTextareaPlaceholder="streamChat.Slow Mode ON",this.textareaPlaceholder=this.defaultTextareaPlaceholder,this.subscriptions.push(this.attachmentService.attachmentUploadInProgressCounter$.subscribe(p=>{p===0&&this.hideNotification&&(this.hideNotification(),this.hideNotification=void 0)})),this.subscriptions.push(this.channelService.activeChannel$.subscribe(p=>{p&&this.channel&&p.id!==this.channel.id&&(this.textareaValue="",this.attachmentService.resetAttachmentUploads(),this.voiceRecorderService.isRecorderVisible$.next(!1));let m=p?.data?.own_capabilities;m&&(this.isFileUploadAuthorized=m.indexOf("upload-file")!==-1,this.canSendLinks=m.indexOf("send-links")!==-1,this.channel=p,this.setCanSendMessages())})),this.subscriptions.push(this.channelService.messageToQuote$.subscribe(p=>{let m=p&&p.parent_id;(this.mode==="thread"&&m||this.mode==="thread"&&this.quotedMessage&&!p||this.mode==="main"&&!m)&&(this.quotedMessage=p)})),this.subscriptions.push(this.messageActionsService.messageToEdit$.subscribe(p=>{this.messageToEdit=p,this.checkIfInEditMode()})),this.attachmentUploads$=this.attachmentService.attachmentUploads$,this.customAttachments$=this.attachmentService.customAttachments$,this.attachmentUploadInProgressCounter$=this.attachmentService.attachmentUploadInProgressCounter$,this.isFileUploadEnabled=this.configService.isFileUploadEnabled,this.isMultipleFileUploadEnabled=this.configService.isMultipleFileUploadEnabled,this.areMentionsEnabled=this.configService.areMentionsEnabled,this.mentionScope=this.configService.mentionScope,this.inputMode=this.configService.inputMode,this.subscriptions.push(this.typingStart$.subscribe(()=>void this.channelService.typingStarted(this.parentMessageId))),this.subscriptions.push(this.voiceRecorderService.isRecorderVisible$.subscribe(p=>{this.isVoiceRecording=p})),this.subscriptions.push(Nn([this.channelService.latestMessageDateByUserByChannels$,this.channelService.activeChannel$]).pipe(xe(([p,m])=>[p[m?.cid||""],m])).subscribe(([p,m])=>{let _=m?.data?.cooldown&&p&&Math.round(m?.data?.cooldown-(new Date().getTime()-p.getTime())/1e3);_&&_>0&&(m?.data?.own_capabilities).includes("slow-mode")?this.startCooldown(_):this.isCooldownInProgress&&this.stopCooldown()})),this.subscriptions.push(this.voiceRecorderService.recording$.subscribe(p=>{p&&this.voiceRecordingReady(p)}))}ngOnInit(){this.subscriptions.push(this.customTemplatesService.emojiPickerTemplate$.subscribe(e=>{this.emojiPickerTemplate=e,this.cdRef.detectChanges()})),this.subscriptions.push(this.customTemplatesService.attachmentPreviewListTemplate$.subscribe(e=>{this.attachmentPreviewListTemplate=e,this.cdRef.detectChanges()})),this.subscriptions.push(this.customTemplatesService.customAttachmentUploadTemplate$.subscribe(e=>{this.customAttachmentUploadTemplate=e,this.cdRef.detectChanges()}))}ngAfterViewInit(){this.isViewInited=!0,this.initTextarea()}ngOnChanges(e){e.message&&this.messageToUpdateChanged(),e.isFileUploadEnabled&&(this.configService.isFileUploadEnabled=this.isFileUploadEnabled),e.isMultipleFileUploadEnabled&&(this.configService.isMultipleFileUploadEnabled=this.isMultipleFileUploadEnabled),e.areMentionsEnabled&&(this.configService.areMentionsEnabled=this.areMentionsEnabled),e.mentionScope&&(this.configService.mentionScope=this.mentionScope),e.mode&&(this.setCanSendMessages(),this.checkIfInEditMode()),e.watchForMessageToEdit&&this.checkIfInEditMode(),e.inputMode&&(this.configService.inputMode=this.inputMode),e.sendMessage$&&(this.sendMessageSubcription&&this.sendMessageSubcription.unsubscribe(),this.sendMessage$&&(this.sendMessageSubcription=this.sendMessage$.subscribe(()=>void this.messageSent())))}ngOnDestroy(){this.sendMessageSubcription&&this.sendMessageSubcription.unsubscribe(),this.subscriptions.forEach(e=>e.unsubscribe())}messageSent(){return ne(this,null,function*(){if(this.isCooldownInProgress)return;let e;if(this.attachmentService.attachmentUploadInProgressCounter$.pipe(Nr()).subscribe(o=>e=o),e>0){this.hideNotification||(this.hideNotification=this.notificationService.addPermanentNotification("streamChat.Wait until all attachments have uploaded"));return}let i=this.attachmentService.mapToAttachments(),r=this.textareaValue;r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,"");let s=!r.replace(/ /g,"");if(!((!r||s)&&(!i||i.length===0))){if(s&&(r=""),this.containsLinks&&!this.canSendLinks){this.notificationService.addTemporaryNotification("streamChat.Sending links is not allowed in this conversation");return}this.isUpdate||(this.textareaValue="");try{let o=yield this.isUpdate?this.channelService.updateMessage(Se(V({},this.message),{text:r,attachments:i})):this.channelService.sendMessage(r,i,this.mentionedUsers,this.parentMessageId,this.quotedMessage?.id);this.messageUpdate.emit({message:o}),this.isUpdate?this.deselectMessageToEdit():this.attachmentService.resetAttachmentUploads()}catch{this.isUpdate&&this.notificationService.addTemporaryNotification("streamChat.Edit message request failed")}this.channelService.typingStopped(this.parentMessageId),this.quotedMessage&&this.deselectMessageToQuote()}})}get containsLinks(){return/(?:(?:https?|ftp):\/\/)?[\w/\-?=%.]+\.[\w/\-&?=%.]+/.test(this.textareaValue)}get quotedMessageAttachments(){let e=this.quotedMessage?.attachments;return e&&e.length?[e[0]]:[]}get disabledTextareaText(){return this.canSendMessages?"":this.mode==="thread"?"streamChat.You can't send thread replies in this channel":"streamChat.You can't send messages in this channel"}itemsPasted(e){this.configService.customPasteEventHandler?this.configService.customPasteEventHandler(e,this):e.clipboardData?.files&&e.clipboardData?.files.length>0&&(e.preventDefault(),this.filesSelected(e.clipboardData?.files))}filesSelected(e){return ne(this,null,function*(){yield this.attachmentService.filesSelected(e),this.clearFileInput()})}deselectMessageToQuote(){this.channelService.selectMessageToQuote(void 0)}deselectMessageToEdit(){this.messageActionsService.messageToEdit$.next(void 0)}getEmojiPickerContext(){return{emojiInput$:this.emojiInputService.emojiInput$}}getAttachmentPreviewListContext(){return{attachmentUploads$:this.attachmentService.attachmentUploads$,deleteUploadHandler:this.deleteUpload.bind(this),retryUploadHandler:this.retryUpload.bind(this),service:this.attachmentService}}getAttachmentUploadContext(){return{isMultipleFileUploadEnabled:this.isMultipleFileUploadEnabled,attachmentService:this.attachmentService}}getQuotedMessageTextContext(){return{message:this.quotedMessage,isQuoted:!0,shouldTranslate:!0}}startVoiceRecording(){return ne(this,null,function*(){yield this.audioRecorder?.start(),this.audioRecorder?.isRecording&&this.voiceRecorderService.isRecorderVisible$.next(!0)})}voiceRecordingReady(e){return ne(this,null,function*(){try{yield this.attachmentService.uploadVoiceRecording(e),this.configService.sendVoiceRecordingImmediately&&(yield this.messageSent())}finally{this.voiceRecorderService.isRecorderVisible$.next(!1)}})}get isUpdate(){return!!this.message}deleteUpload(e){this.isUpdate?setTimeout(()=>{this.attachmentService.deleteAttachment(e)}):this.attachmentService.deleteAttachment(e)}retryUpload(e){this.attachmentService.retryAttachmentUpload(e)}clearFileInput(){this.fileInput.nativeElement.value=""}initTextarea(){if(this.canSendMessages||(this.textareaRef=void 0),!this.canSendMessages||this.textareaRef||!this.textareaAnchor)return;let e=this.componentFactoryResolver.resolveComponentFactory(this.textareaType);this.textareaRef=this.textareaAnchor.viewContainerRef.createComponent(e),this.cdRef.detectChanges()}setCanSendMessages(){let e=this.channel?.data?.own_capabilities;e?this.canSendMessages=e.indexOf(this.mode==="main"?"send-message":"send-reply")!==-1||this.isUpdate:this.canSendMessages=!1,this.isViewInited&&(this.cdRef.detectChanges(),this.initTextarea())}get parentMessageId(){let e;return this.mode==="thread"&&this.channelService.activeParentMessageId$.pipe(Nr()).subscribe(i=>e=i),e}startCooldown(e){this.textareaPlaceholder=this.slowModeTextareaPlaceholder,this.isCooldownInProgress=!0,this.cooldown$=Jn(0,1e3).pipe(Xe(e+1),xe(i=>e-i),dn(i=>{i===0&&this.stopCooldown()}))}stopCooldown(){this.cooldown$=void 0,this.isCooldownInProgress=!1,this.textareaPlaceholder=this.defaultTextareaPlaceholder}checkIfInEditMode(){this.watchForMessageToEdit&&(!this.messageToEdit&&this.message&&(this.message=void 0,this.messageToUpdateChanged(),this.isViewInited&&this.cdRef.detectChanges()),this.messageToEdit&&(this.mode==="main"&&!this.messageToEdit.parent_id||this.mode==="thread"&&this.messageToEdit.parent_id)&&(this.message=this.messageToEdit,this.messageToUpdateChanged(),this.isViewInited&&this.cdRef.detectChanges()))}messageToUpdateChanged(){this.attachmentService.resetAttachmentUploads(),this.setCanSendMessages(),this.isUpdate?(this.attachmentService.createFromAttachments(this.message.attachments||[]),this.textareaValue=this.message.text||""):this.textareaValue=""}}return t.\u0275fac=function(e){return new(e||t)(M(En),M(fs),M($0),M(FR),M(kR),M(ri),M(nt),M(z0),M(Ht),M(wp),M(q0),M(yQ,8))},t.\u0275cmp=Ie({type:t,selectors:[["stream-message-input"]],contentQueries:function(e,i,r){if(e&1&&$n(r,ln,5),e&2){let s;Oe(s=ke())&&(i.voiceRecorderRef=s.first)}},viewQuery:function(e,i){if(e&1&&(Qe(d9,5),Qe(dR,5)),e&2){let r;Oe(r=ke())&&(i.fileInput=r.first),Oe(r=ke())&&(i.textareaAnchor=r.first)}},hostVars:2,hostBindings:function(e,i){e&2&&wr(i.class)},inputs:{isFileUploadEnabled:"isFileUploadEnabled",areMentionsEnabled:"areMentionsEnabled",mentionScope:"mentionScope",mode:"mode",isMultipleFileUploadEnabled:"isMultipleFileUploadEnabled",message:"message",sendMessage$:"sendMessage$",inputMode:"inputMode",autoFocus:"autoFocus",watchForMessageToEdit:"watchForMessageToEdit",displaySendButton:"displaySendButton",displayVoiceRecordingButton:"displayVoiceRecordingButton"},outputs:{messageUpdate:"messageUpdate"},features:[kt([$0,z0,q0]),tt],ngContentSelectors:f9,decls:7,vars:7,consts:[["notAllowed",""],["defaultAttachmentsPreview",""],["defaultAttachmentUpload",""],["fileInput",""],["defaultText",""],[1,"str-chat__message-input","str-chat-angular__message-input"],["class","str-chat__quoted-message-preview-header",4,"ngIf"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"str-chat__quoted-message-preview-header"],[1,"str-chat__quoted-message-reply-to-message"],["data-testid","remove-quote",1,"str-chat__quoted-message-remove",3,"click","keyup.enter"],["icon","close"],[1,"str-chat__message-input-inner","str-chat-angular__message-input-inner"],[1,"str-chat__message-textarea-container"],["data-testid","quoted-message-container","class","str-chat__quoted-message-preview",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"str-chat__message-textarea-with-emoji-picker"],["streamTextarea","",3,"valueChange","send","userMentions","pasteFromClipboard","componentRef","areMentionsEnabled","mentionScope","inputMode","autoFocus","placeholder","value"],["data-testid","emoji-picker",4,"ngIf"],["data-testid","send-button","class","str-chat__send-button",3,"disabled","click","keyup.enter",4,"ngIf"],["class","str-chat__message-input-cooldown","data-testid","cooldown-timer",4,"ngIf"],["class","str-chat__start-recording-audio-button","data-testid","start-voice-recording",3,"disabled","click","keyup.enter",4,"ngIf"],["data-testid","file-upload-button",1,"str-chat__file-input-container"],["type","file","data-testid","file-input",1,"str-chat__file-input",3,"change","multiple","id","disabled"],[1,"str-chat__file-input-label",3,"for"],["icon","attach"],["data-testid","quoted-message-container",1,"str-chat__quoted-message-preview"],["data-testid","qouted-message-avatar","type","user","location","quoted-message-sender",1,"str-chat-angular__avatar-host","str-chat__message-sender-avatar",3,"imageUrl","name","user"],[1,"quoted-message-preview-content-inner","str-chat__quoted-message-bubble"],[3,"attachments","messageId",4,"ngIf"],[1,"str-chat__quoted-message-text"],[3,"attachments","messageId"],["data-testid","quoted-message-text",3,"message","isQuoted","shouldTranslate"],[1,"str-chat__attachment-preview-list-angular-host",3,"retryAttachmentUpload","deleteAttachment","attachmentUploads$"],["data-testid","emoji-picker"],["data-testid","send-button",1,"str-chat__send-button",3,"click","keyup.enter","disabled"],["icon","send"],["data-testid","cooldown-timer",1,"str-chat__message-input-cooldown"],["data-testid","start-voice-recording",1,"str-chat__start-recording-audio-button",3,"click","keyup.enter","disabled"],["icon","mic"],["data-testid","disabled-textarea",1,"str-chat__message-input-not-allowed"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){if(e&1&&(Yt(h9),E(0,"div",5),I(1,p9,6,3,"div",6)(2,m9,6,3,"div",6)(3,A9,16,15,"ng-container",7)(4,R9,3,3,"ng-template",null,0,J),x(),I(6,k9,1,4,null,8)),e&2){let r=U(5);Un("display",i.isVoiceRecording?"none":"flex"),v(),y("ngIf",i.quotedMessage),v(),y("ngIf",i.isUpdate),v(),y("ngIf",i.canSendMessages)("ngIfElse",r),v(3),y("ngIf",i.voiceRecorderRef)}},dependencies:[Et,bt,Ja,ps,RR,bQ,dR,OR,Ft,wn],encapsulation:2}),t})();var CQ=(()=>{class t{constructor(){}transliterate(e){return JA(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wQ=(()=>{class t{constructor(e,i,r,s,o,a,l){this.channelService=e,this.chatClientService=i,this.transliterationService=r,this.emojiInputService=s,this.customTemplatesService=o,this.cdRef=a,this.messageInputConfigService=l,this.class="str-chat__textarea str-chat__message-textarea-angular-host",this.value="",this.placeholder="",this.areMentionsEnabled=!0,this.mentionScope="channel",this.autoFocus=!0,this.valueChange=new fe,this.send=new fe,this.userMentions=new fe,this.pasteFromClipboard=new fe,this.autocompleteKey="autocompleteLabel",this.mentionTriggerChar="@",this.commandTriggerChar="/",this.autocompleteConfig={mentions:[]},this.subscriptions=[],this.mentionedUsers=[],this.userMentionConfig={triggerChar:this.mentionTriggerChar,dropUp:!0,allowSpace:!0,labelKey:this.autocompleteKey,returnTrigger:!0,mentionFilter:(c,u)=>this.filter(c,u),mentionSelect:(c,u)=>this.itemSelectedFromAutocompleteList(c,u)},this.slashCommandConfig={triggerChar:this.commandTriggerChar,dropUp:!0,labelKey:"name",returnTrigger:!0,mentionFilter:(c,u)=>this.filter(c,u),mentionSelect:(c,u)=>this.itemSelectedFromAutocompleteList(c,u)},this.searchTerm$=new ie(""),this.isViewInited=!1,this.searchTerm$.pipe(ut(c=>c.length!==1),Vi(300)).subscribe(c=>{c.startsWith(this.mentionTriggerChar)?this.updateMentionOptions(c):this.updateCustomAutocompleteOptions(c)}),this.subscriptions.push(this.channelService.activeChannel$.subscribe(c=>{let u=c?.getConfig()?.commands||[];this.slashCommandConfig.items=u.map(d=>Se(V({},d),{[this.autocompleteKey]:d.name,type:"command"})),this.mentionedUsers=[],this.userMentions.next([...this.mentionedUsers]),this.updateMentionOptions(this.searchTerm$.getValue()),this.updateCustomAutocompleteOptions(this.searchTerm$.getValue())})),this.subscriptions.push(this.emojiInputService.emojiInput$.subscribe(c=>{this.messageInput.nativeElement.focus();let{selectionStart:u}=this.messageInput.nativeElement;this.messageInput.nativeElement.setRangeText(c),this.messageInput.nativeElement.selectionStart=u+c.length,this.messageInput.nativeElement.selectionEnd=u+c.length,this.inputChanged()})),this.subscriptions.push(this.customTemplatesService.mentionAutocompleteItemTemplate$.subscribe(c=>this.mentionAutocompleteItemTemplate=c)),this.subscriptions.push(this.customTemplatesService.commandAutocompleteItemTemplate$.subscribe(c=>this.commandAutocompleteItemTemplate=c)),this.autocompleteConfig.mentions=[this.userMentionConfig,this.slashCommandConfig],this.subscriptions.push(this.messageInputConfigService.customAutocompletes$.subscribe(c=>{let u=this.autocompleteConfig.mentions?.filter(h=>h===this.userMentionConfig||h===this.slashCommandConfig)??[],d=c.map(h=>({items:h.options.map(p=>Se(V({},p),{templateRef:h.templateRef})),triggerChar:h.triggerCharacter,dropUp:!0,labelKey:this.autocompleteKey,returnTrigger:!0,allowSpace:h.allowSpace,mentionFilter:(p,m)=>this.filter(p,m),mentionSelect:(p,m)=>this.itemSelectedFromAutocompleteList(p,m)}));this.autocompleteConfig.mentions=[...u,...d],this.autocompleteConfig=V({},this.autocompleteConfig)}))}ngOnChanges(e){e.areMentionsEnabled&&(this.autocompleteConfig.mentions=this.autocompleteConfig?.mentions?.filter(i=>i!==this.userMentionConfig?!0:this.areMentionsEnabled)??[],this.autocompleteConfig=V({},this.autocompleteConfig)),e.mentionScope&&this.updateMentionOptions(this.searchTerm$.getValue()),e.value&&!this.value&&this.messageInput?(this.messageInput.nativeElement.style.height="auto",this.chatClientService?.chatClient?.logger?.("info","[Autocomplete textarea] Value reset, adjusting textarea height to auto"),this.updateMentionedUsersFromText()):e.value&&this.value&&this.messageInput&&this.isViewInited&&(this.chatClientService?.chatClient?.logger?.("info","[Autocomplete textarea] Value changed"),setTimeout(()=>{this.messageInput.nativeElement.scrollHeight>0&&this.adjustTextareaHeight()},0))}ngAfterViewInit(){this.isViewInited=!0,this.chatClientService?.chatClient?.logger?.("info","[Autocomplete textarea] View inited"),this.messageInput.nativeElement.scrollHeight>0&&this.value&&this.adjustTextareaHeight()}filter(e,i){return i.filter(r=>this.transliterate(r.autocompleteLabel.toLowerCase()).includes(this.transliterate(e.toLowerCase())))}itemSelectedFromAutocompleteList(e,i=""){return i===this.mentionTriggerChar&&(this.mentionedUsers.push(e.user?e.user:e),this.userMentions.next([...this.mentionedUsers])),this.searchTerm$.next(""),i+e.autocompleteLabel+" "}autcompleteSearchTermChanged(e){e.length===1&&(e===this.mentionTriggerChar?this.updateMentionOptions():this.updateCustomAutocompleteOptions(e)),this.searchTerm$.next(e)}inputChanged(){this.chatClientService?.chatClient?.logger?.("info","[Autocomplete textarea] Input changed"),this.valueChange.emit(this.messageInput.nativeElement.value),this.adjustTextareaHeight()}inputLeft(){this.updateMentionedUsersFromText()}enterHit(e){this.inputMode==="desktop"&&!e.isComposing&&(e.preventDefault(),this.updateMentionedUsersFromText(),this.send.next())}adjustTextareaHeight(){this.chatClientService?.chatClient?.logger?.("info",`[Autocomplete textarea] Textarea height set from ${this.messageInput.nativeElement.style.height} to ${this.messageInput.nativeElement.scrollHeight}px`),this.messageInput.nativeElement.style.height="",this.messageInput.nativeElement.style.height=`${this.messageInput.nativeElement.scrollHeight}px`}transliterate(e){return this.transliterationService?this.transliterationService.transliterate(e):e}updateMentionOptions(e){return ne(this,null,function*(){if(!this.areMentionsEnabled)return;e=e?.replace(this.mentionTriggerChar,"");let r=yield(this.mentionScope==="application"?o=>this.chatClientService.autocompleteUsers(o):o=>this.channelService.autocompleteMembers(o))(e||""),s=this.filter(e||"",r.map(o=>{let a=o.user?o.user:o;return Se(V({},o),{autocompleteLabel:a.name||a.id,type:"mention"})}));this.userMentionConfig.items=s,this.autocompleteConfig.mentions=[...this.autocompleteConfig?.mentions??[]],this.autocompleteConfig=V({},this.autocompleteConfig),this.cdRef.detectChanges()})}updateMentionedUsersFromText(){let e=[];this.mentionedUsers.forEach(i=>{let r=i.name||i.id;this.value.includes(`${this.mentionTriggerChar}${r}`)&&e.push(i)}),e.length!==this.mentionedUsers.length&&(this.userMentions.next([...e]),this.mentionedUsers=e)}updateCustomAutocompleteOptions(e){return ne(this,null,function*(){if(this.messageInputConfigService.customAutocompletes$.getValue().length===0)return;let i=this.autocompleteConfig.mentions?.find(s=>s.triggerChar&&e.startsWith(s.triggerChar)),r=i?this.messageInputConfigService.customAutocompletes$.getValue().find(s=>s.triggerCharacter===i?.triggerChar):void 0;if(i&&r?.updateOptions){let s=yield r.updateOptions(e.replace(i.triggerChar||"",""));i.items=s.map(o=>Se(V({},o),{templateRef:r.templateRef})),this.autocompleteConfig=V({},this.autocompleteConfig)}})}}return t.\u0275fac=function(e){return new(e||t)(M(En),M($t),M(CQ),M(z0),M(Ht),M(nt),M(FR))},t.\u0275cmp=Ie({type:t,selectors:[["stream-autocomplete-textarea"]],viewQuery:function(e,i){if(e&1&&Qe(F9,5),e&2){let r;Oe(r=ke())&&(i.messageInput=r.first)}},hostVars:2,hostBindings:function(e,i){e&2&&wr(i.class)},inputs:{value:"value",placeholder:"placeholder",areMentionsEnabled:"areMentionsEnabled",inputMode:"inputMode",mentionScope:"mentionScope",autoFocus:"autoFocus"},outputs:{valueChange:"valueChange",send:"send",userMentions:"userMentions",pasteFromClipboard:"pasteFromClipboard"},features:[tt],decls:9,vars:7,consts:[["input",""],["autocompleteItem",""],["defaultCommandTemplate",""],["defaultMentionTemplate",""],["builtinItem",""],["data-testid","textarea","rows","1",1,"rta__textarea","str-chat__textarea__textarea","str-chat__angular-textarea","str-chat__message-textarea",3,"input","keydown.enter","searchTerm","blur","paste","value","autofocus","placeholder","mentionConfig","mentionListTemplate"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"rta","rta__item","str-chat__emojisearch__item",3,"ngSwitch"],["class","rta__entity",4,"ngSwitchCase"],[1,"rta__entity"],[1,"str-chat__slash-command"],[1,"str-chat__slash-command-header"],["data-testclass","command-name",1,"str-chat__slash-command-name"],[1,"str-chat__slash-command-args"],[1,"str-chat__user-item"],["data-testclass","avatar","type","user","location","autocomplete-item",1,"str-chat__avatar","str-chat__avatar--circle",3,"imageUrl","name","user"],["data-testclass","username",1,"str-chat__user-item--name"]],template:function(e,i){if(e&1){let r=Ce();E(0,"textarea",5,0),q(2,"translate"),se("input",function(){return $(r),H(i.inputChanged())})("keydown.enter",function(o){return $(r),H(i.enterHit(o))})("searchTerm",function(o){return $(r),H(i.autcompleteSearchTermChanged(o))})("blur",function(){return $(r),H(i.inputLeft())})("paste",function(o){return $(r),H(i.pasteFromClipboard.emit(o))}),x(),I(3,$9,3,2,"ng-template",null,1,J)(5,H9,7,3,"ng-template",null,2,J)(7,z9,4,4,"ng-template",null,3,J)}if(e&2){let r=U(4);Dt("placeholder",Q(2,5,i.placeholder)),y("value",i.value||"")("autofocus",i.autoFocus)("mentionConfig",i.autocompleteConfig)("mentionListTemplate",r)}},dependencies:[Et,bt,oc,wv,aR,Ja,wn],encapsulation:2}),t})(),DQ=(t,n,e,i={noGroupByUser:!1,lastReadMessageId:void 0,noGroupByReadState:!1})=>{if(i.noGroupByUser||t.attachments&&t.attachments.length!==0)return"single";let r=!n||!hR(n.created_at,t.created_at)||n.type==="system"||n.attachments&&n.attachments?.length!==0||t.user?.id!==n.user?.id||n.type==="error"||n.deleted_at||n.id===i.lastReadMessageId&&!i.noGroupByReadState||n.message_text_updated_at||t.reaction_counts&&Object.keys(t.reaction_counts).length>0,s=!e||!hR(t.created_at,e.created_at)||e.type==="system"||e.attachments&&e.attachments?.length!==0||t.user?.id!==e.user?.id||e.type==="error"||e.deleted_at||t.id===i.lastReadMessageId&&!i.noGroupByReadState||t.message_text_updated_at||e.reaction_counts&&Object.keys(e.reaction_counts).length>0;return!r&&!s?t.deleted_at||t.type==="error"?"single":"middle":s?r||t.deleted_at||t.type==="error"?"single":"bottom":r?"top":""},hR=(t,n)=>t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate(),G0=class{constructor(n,e,i,r=25,s=r*4){this.allItems$=n,this.scrollPosition$=e,this.jumpToItem$=i,this.pageSize=r,this.maxItemCount=s,this.queryStateSubject=new ie({state:"success"}),this.bufferOnTop=0,this.bufferOnBottom=0,this.loadFromBuffer$=new ye,this.virtualizedItemsSubject=new ie([]),this.subscriptions=[],this.virtualizedItems$=this.virtualizedItemsSubject.asObservable(),this.queryState$=this.queryStateSubject.asObservable(),this.subscriptions.push(this.virtualizedItems$.subscribe(o=>{this.allItems$.pipe(Xe(1)).subscribe(a=>{o.length===a.length?(this.bufferOnTop=0,this.bufferOnBottom=0):o.length===0?(this.bufferOnTop=a.length,this.bufferOnBottom=0):(this.bufferOnTop=a.indexOf(o[0]),this.bufferOnBottom=a.length-a.indexOf(o[o.length-1])-1)})})),this.subscriptions.push(ei(this.allItems$,this.loadFromBuffer$).pipe(Lt(()=>Nn([this.allItems$.pipe(Xe(1)),this.scrollPosition$.pipe(Xe(1))]))).subscribe(([o,a])=>{if(a==="middle")return;let l=this.virtualizedItemsSubject.getValue();if(o.length<=this.maxItemCount)this.virtualizedItemsSubject.next(o);else{let c=0,u,d=o.length-Math.round(this.maxItemCount/2),h=o.length-d;switch(a){case"top":if(l.length>0){let p=o.findIndex(m=>this.isEqual(m,l[0]));p!==-1&&(c=Math.max(0,p-Math.ceil(h/2)),u=c+h)}else u=h;break;case"bottom":if(l.length>0){let p=o.findIndex(m=>this.isEqual(m,l[l.length-1]));p!==-1&&(u=Math.min(o.length,p+Math.floor(h/2)+1),c=u-h)}else c=o.length-h;break}let f=o.slice(c,u);this.virtualizedItemsSubject.next(f)}})),this.subscriptions.push(this.scrollPosition$.pipe(dl()).subscribe(o=>{this.queryStateSubject.getValue().state!==`loading-${o}`&&(o==="top"?this.bufferOnTop<this.pageSize?this.loadMore(o):this.loadMoreFromBuffer("top"):o==="bottom"&&(this.bufferOnBottom<this.pageSize?this.loadMore(o):this.loadMoreFromBuffer("bottom")))})),this.subscriptions.push(this.allItems$.pipe(Zu(),ut(()=>{let o;return this.scrollPosition$.pipe(Xe(1)).subscribe(a=>o=a),o==="middle"})).subscribe(([o,a])=>{if(a.length<this.maxItemCount||this.virtualizedItems.length===0)this.virtualizedItemsSubject.next(a);else{let l=this.virtualizedItems[0],c=this.virtualizedItems[this.virtualizedItems.length-1],u=o.findIndex(w=>this.isEqual(w,l)),d=o.findIndex(w=>this.isEqual(w,c)),h=a[u]?this.isEqual(a[u],l):!1,f=a[d]?this.isEqual(a[d],c):!1,p=d===o.length-1&&f?o.length!==a.length:!1;if(h&&f){let w=p?void 0:d+1;this.virtualizedItemsSubject.next(a.slice(u,w))}let m=h?u:-1,_=f?d:-1;h||(m=a.findIndex(w=>this.isEqual(w,l))),f||(_=a.findIndex(w=>this.isEqual(w,c)));let D=u===0&&!h?m!==0:!1;if(m!==-1&&_!==-1){let w=D?0:m;this.virtualizedItemsSubject.next(a.slice(w,_+1))}else m===-1&&_!==-1&&(m=Math.max(0,_-(d-u))),_===-1&&m!==-1&&(_=Math.min(a.length-1,m+(d-u))),this.virtualizedItemsSubject.next(a.slice(m,_+1))}})),this.jumpToItem$&&this.subscriptions.push(this.jumpToItem$.pipe(Lt(o=>Nn([this.allItems$.pipe(Xe(1)),st(o)]))).subscribe(([o,a])=>{if(a.item)if(o.length<this.maxItemCount)this.virtualizedItemsSubject.next(o);else{let l=o.findIndex(c=>this.isEqual(c,a.item));if(l===-1)return;{let c=a.position||"middle",u=o.length-Math.round(this.maxItemCount/2),d=o.length-u,h=-1,f=-1;switch(c){case"top":h=l,f=Math.min(o.length,h+d);break;case"bottom":f=l+1,h=Math.max(0,f-d);break;case"middle":{let p=l,m=o.length-l;p<Math.ceil(d/2)&&(h=0),m<Math.floor(d/2)+1&&(f=o.length),h===-1&&(f!==-1?h=f-d:h=l-Math.ceil(d/2)),f===-1&&(f=h+d)}}this.virtualizedItemsSubject.next(o.slice(h,f))}}}))}get virtualizedItems(){return this.virtualizedItemsSubject.getValue()}dispose(){this.subscriptions.forEach(n=>n.unsubscribe())}loadMoreFromBuffer(n){this.loadFromBuffer$.next()}loadMore(n){return ne(this,null,function*(){this.queryStateSubject.next({state:`loading-${n}`});try{yield this.query(n),this.queryStateSubject.next({state:"success"})}catch(e){this.queryStateSubject.next({state:"error",error:e})}})}},Q0=class extends G0{constructor(n,e,i){let r=i.jumpToMessage$.pipe(xe(o=>{let a={item:void 0},l;if(n==="main"?l=o.parentId?o.parentId:o.id:l=o.parentId?o.id:void 0,l){let c=n==="main"?i.activeChannelMessages:i.activeChannelThreadReplies,u=l==="latest"?c[c.length-1]?.id:l;u&&(a={item:{id:u},position:o.id==="latest"?"bottom":"middle"}),i.clearMessageJump()}return a})),s=n==="main"?i.activeChannelMessages$:i.activeThreadMessages$;super(s,e,r,i.messagePageSize),this.mode=n,this.channelService=i,this.isEqual=(o,a)=>o.id===a.id,this.query=o=>{let l=(this.mode==="main"?c=>this.channelService.loadMoreMessages(c):c=>this.channelService.loadMoreThreadReplies(c))(o==="top"?"older":"newer");return l||(this.queryStateSubject.next({state:"success"}),(o==="top"&&this.bufferOnTop>0||o==="bottom"&&this.bufferOnBottom>0)&&this.loadFromBuffer$.next(),Promise.resolve())}}loadMoreFromBuffer(n){this.queryStateSubject.next({state:`loading-${n}`}),setTimeout(()=>{this.loadFromBuffer$.next(),this.queryStateSubject.next({state:"success"})})}},NR=(()=>{class t{constructor(e,i,r,s,o,a){this.channelService=e,this.chatClientService=i,this.customTemplatesService=r,this.dateParser=s,this.ngZone=o,this.cdRef=a,this.mode="main",this.direction="bottom-to-top",this.hideJumpToLatestButtonDuringScroll=!1,this.displayDateSeparator=!0,this.displayUnreadSeparator=!0,this.dateSeparatorTextPos="center",this.openMessageListAt="last-message",this.hideUnreadCountForNotificationAndIndicator=!1,this.displayLoadingIndicator=!0,this.emptyMainMessageListTemplate=null,this.emptyThreadMessageListTemplate=null,this.enabledMessageActions=[],this.isEmpty=!0,this.newMessageCountWhileBeingScrolled=0,this.groupStyles=[],this.isNextMessageOnSeparateDate=[],this.loadingState="idle",this.isUnreadNotificationVisible=!0,this.isJumpingToLatestUnreadMessage=!1,this.isJumpToLatestButtonVisible=!0,this.isJumpingToMessage=!1,this.scroll$=new ye,this.isNewMessageSentByUser=!1,this.subscriptions=[],this.isLatestMessageInList=!0,this.parsedDates=new Map,this.isViewInited=!1,this.jumpToMessageTimeouts=[],this.forceRepaintSubject=new ye,this.isSafari=sb(),this.scrollPosition$=new ie("bottom"),this.messageNotificationJumpClicked=()=>{this.jumpToFirstUnreadMessage(),this.isUnreadNotificationVisible=!1},this.messageNotificationDismissClicked=()=>{this.isUnreadNotificationVisible=!1},this.usersTypingInChannel$=this.channelService.usersTypingInChannel$,this.usersTypingInThread$=this.channelService.usersTypingInThread$}get class(){return`str-chat-angular__main-panel-inner str-chat-angular__message-list-host str-chat__main-panel-inner ${this.isEmpty?"str-chat-angular__message-list-host--empty":""}`}ngOnInit(){this.subscriptions.push(this.forceRepaintSubject.pipe(um(1e3)).subscribe(()=>{this.forceRepaint()})),this.subscriptions.push(this.channelService.activeChannel$.subscribe(e=>{let i=!1;if(this.channelId!==e?.id&&(i=!0,this.checkIfUnreadNotificationIsVisibleTimeout&&clearTimeout(this.checkIfUnreadNotificationIsVisibleTimeout),this.jumpToMessageTimeouts.forEach(a=>clearTimeout(a)),this.jumpToMessageTimeouts=[],this.highlightedMessageId=void 0,this.isUnreadNotificationVisible=!1,this.parsedDates=new Map,this.resetScrollState(),this.setMessages$(),this.channelId=e?.id,this.isViewInited&&this.cdRef.detectChanges()),this.mode==="main"){let a=this.channelService.activeChannelLastReadMessageId,l=this.channelService.activeChannelUnreadCount;(a!==this.lastReadMessageId||l!==this.unreadCount)&&(this.lastReadMessageId=a,this.unreadCount=l||0,i&&this.lastReadMessageId&&(this.openMessageListAt==="last-read-message"?setTimeout(()=>{!this.isJumpingToMessage&&!this.channelService.isMessageLoadingInProgress&&this.jumpToFirstUnreadMessage()},0):setTimeout(()=>{let c=document.getElementById("stream-chat-new-message-indicator");(!c||c?.offsetTop<this.scrollContainer?.nativeElement?.scrollHeight-this.scrollContainer?.nativeElement?.clientHeight)&&(this.isUnreadNotificationVisible=!0,this.isViewInited&&this.cdRef.detectChanges())},100)),this.isViewInited&&this.cdRef.detectChanges())}else this.lastReadMessageId&&(this.lastReadMessageId=void 0,this.unreadCount=0,this.isViewInited&&this.cdRef.detectChanges());let r=e?.data?.own_capabilities,s=[...r||[]].sort().join(""),o=[...this.enabledMessageActions||[]].sort().join("");s!==o&&(this.enabledMessageActions=r||[],this.isViewInited&&this.cdRef.detectChanges()),this.newMessageSubscription?.unsubscribe(),e&&(this.newMessageSubscription=e.on("message.new",a=>{if(a.message)this.newMessageReceived(a.message);else return}))})),this.subscriptions.push(this.channelService.activeParentMessage$.subscribe(e=>{!e&&this.parentMessage&&this.mode==="thread"&&this.resetScrollState(),e&&this.parentMessage&&e.id!==this.parentMessage.id&&this.mode==="thread"&&(this.resetScrollState(),this.setMessages$()),this.parentMessage!==e&&(this.parentMessage=e,this.isViewInited&&this.cdRef.detectChanges())})),this.subscriptions.push(this.customTemplatesService.messageTemplate$.subscribe(e=>{this.messageTemplate!==e&&(this.messageTemplate=e,this.isViewInited&&this.cdRef.detectChanges())})),this.subscriptions.push(this.customTemplatesService.dateSeparatorTemplate$.subscribe(e=>{this.customDateSeparatorTemplate!==e&&(this.customDateSeparatorTemplate=e,this.isViewInited&&this.cdRef.detectChanges())})),this.subscriptions.push(this.customTemplatesService.newMessagesIndicatorTemplate$.subscribe(e=>{this.customnewMessagesIndicatorTemplate!==e&&(this.customnewMessagesIndicatorTemplate=e,this.isViewInited&&this.cdRef.detectChanges())})),this.subscriptions.push(this.customTemplatesService.newMessagesNotificationTemplate$.subscribe(e=>{this.customnewMessagesNotificationTemplate!==e&&(this.customnewMessagesNotificationTemplate=e,this.isViewInited&&this.cdRef.detectChanges())})),this.subscriptions.push(this.customTemplatesService.typingIndicatorTemplate$.subscribe(e=>{this.typingIndicatorTemplate!==e&&(this.typingIndicatorTemplate=e,this.isViewInited&&this.cdRef.detectChanges())})),this.subscriptions.push(this.customTemplatesService.emptyMainMessageListPlaceholder$.subscribe(e=>{let i=this.emptyMainMessageListTemplate!==e;this.emptyMainMessageListTemplate=e||null,i&&this.isViewInited&&this.cdRef.detectChanges()})),this.subscriptions.push(this.customTemplatesService.emptyThreadMessageListPlaceholder$.subscribe(e=>{let i=this.emptyThreadMessageListTemplate!==e;this.emptyThreadMessageListTemplate=e||null,i&&this.isViewInited&&this.cdRef.detectChanges()})),this.setMessages$()}ngOnChanges(e){(e.mode||e.direction)&&(this.resetScrollState(),this.setMessages$()),e.direction&&this.scrollContainer?.nativeElement&&this.jumpToLatestMessage()}ngAfterViewInit(){this.isViewInited=!0,this.ngZone.runOutsideAngular(()=>{this.scrollContainer?.nativeElement?.addEventListener("scroll",()=>this.scrolled())})}ngAfterViewChecked(){if(this.isJumpingToMessage){this.isNewMessageSentByUser=!1,this.messageIdToAnchorTo=void 0,this.anchorMessageTopOffset=void 0;return}this.messageIdToAnchorTo&&this.loadingState==="idle"?this.preserveScrollbarPosition():(!this.isUserScrolled&&this.scrollContainer.nativeElement?.scrollHeight>this.scrollContainer?.nativeElement.clientHeight&&this.getScrollPosition()!==(this.direction==="bottom-to-top"?"bottom":"top")||this.isUserScrolled&&this.isNewMessageSentByUser)&&(this.isNewMessageSentByUser=!1,this.jumpToLatestMessage())}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.newMessageSubscription?.unsubscribe(),this.scrollEndTimeout&&clearTimeout(this.scrollEndTimeout),this.checkIfUnreadNotificationIsVisibleTimeout&&clearTimeout(this.checkIfUnreadNotificationIsVisibleTimeout),this.jumpToLatestButtonVisibilityTimeout&&clearTimeout(this.jumpToLatestButtonVisibilityTimeout),this.jumpToMessageTimeouts.forEach(e=>clearTimeout(e)),this.disposeVirtualizedList()}trackByMessageId(e,i){return i.id}trackByUserId(e,i){return i.id}jumpToLatestMessage(){this.isLatestMessageInList?this.direction==="bottom-to-top"?this.scrollToBottom():this.scrollToTop():this.channelService.jumpToMessage("latest",this.mode==="thread"?this.parentMessage?.id:void 0)}scrollToBottom(){this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight+.1,this.isSafari&&this.forceRepaintSubject.next()}scrollToTop(){this.scrollContainer.nativeElement.scrollTop=0}scrolled(){if(this.scrollContainer.nativeElement.scrollHeight===this.scrollContainer.nativeElement.clientHeight){this.isJumpToLatestButtonVisible&&(this.isJumpToLatestButtonVisible=!1,this.newMessageCountWhileBeingScrolled=0,this.cdRef.detectChanges());return}this.scrollContainer.nativeElement.scrollHeight>this.scrollContainer.nativeElement.clientHeight&&(this.isJumpToLatestButtonVisible||(this.isJumpToLatestButtonVisible=!0)),this.scroll$.next(),this.checkIfUserScrolled(),this.hideJumpToLatestButtonDuringScroll&&(this.isJumpToLatestButtonVisible&&(this.isJumpToLatestButtonVisible=!1,this.cdRef.detectChanges()),this.jumpToLatestButtonVisibilityTimeout&&clearTimeout(this.jumpToLatestButtonVisibilityTimeout),this.jumpToLatestButtonVisibilityTimeout=setTimeout(()=>{this.isUserScrolled&&(this.isJumpToLatestButtonVisible=!0,this.jumpToLatestButtonVisibilityTimeout=void 0,this.cdRef.detectChanges())},100))}jumpToFirstUnreadMessage(){this.lastReadMessageId&&(this.isJumpingToLatestUnreadMessage=!0,this.channelService.jumpToMessage(this.lastReadMessageId))}getTypingIndicatorContext(){return{usersTyping$:this.usersTyping$}}getTypingIndicatorText(e){return ib(e)}isSentByCurrentUser(e){return e?e.user?.id===this.chatClientService.chatClient.user?.id:!1}parseDate(e){if(this.parsedDates.has(e))return this.parsedDates.get(e);let i=this.dateParser.parseDate(e);return this.parsedDates.set(e,i),i}get replyCountParam(){return{replyCount:this.parentMessage?.reply_count}}get emptyListTemplate(){return this.mode==="main"?this.emptyMainMessageListTemplate:this.emptyThreadMessageListTemplate}checkIfUserScrolled(){let e=this.getScrollPosition(),i=(this.direction==="bottom-to-top"?e!=="bottom":e!=="top")||!this.isLatestMessageInList;this.isUserScrolled!==i&&this.ngZone.run(()=>{this.isUserScrolled=i,this.isUserScrolled||(this.newMessageCountWhileBeingScrolled=0),this.cdRef.detectChanges()});let r=this.scrollPosition$.getValue();this.direction==="top-to-bottom"&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),r!==e&&!this.isJumpingToMessage&&((e==="top"||e==="bottom")&&this.virtualizedList?.virtualizedItems$.pipe(Xe(1)).subscribe(s=>{this.messageIdToAnchorTo=e==="top"?s[0]?.id:s[s.length-1]?.id,this.anchorMessageTopOffset=document.getElementById(this.messageIdToAnchorTo)?.getBoundingClientRect()?.top}),this.ngZone.run(()=>{this.scrollPosition$.next(e)}))}preserveScrollbarPosition(){if(!this.messageIdToAnchorTo)return;let e=document.getElementById(this.messageIdToAnchorTo);this.messageIdToAnchorTo=void 0,this.scrollContainer.nativeElement.scrollTop+=(e?.getBoundingClientRect()?.top||0)-(this.anchorMessageTopOffset||0),this.anchorMessageTopOffset=void 0,this.isSafari&&this.forceRepaintSubject.next()}forceRepaint(){this.scrollContainer.nativeElement.style.display="none",this.scrollContainer.nativeElement.offsetHeight,this.scrollContainer.nativeElement.style.display=""}getScrollPosition(){let e="middle";return Math.ceil(this.scrollContainer.nativeElement.scrollTop)+this.scrollContainer.nativeElement.clientHeight+1>=this.scrollContainer.nativeElement.scrollHeight?e="bottom":Math.floor(this.scrollContainer.nativeElement.scrollTop)<=(this.parentMessageElement?.nativeElement?.clientHeight||0)&&(e="top"),e}setMessages$(){this.disposeVirtualizedList(),this.virtualizedList=new Q0(this.mode,this.scrollPosition$,this.channelService),this.queryStateSubscription=this.virtualizedList.queryState$.subscribe(e=>{let i="idle";e.state.includes("loading")&&(i=e.state||"loading-bottom"),i!==this.loadingState&&(this.loadingState=i,this.isViewInited&&this.cdRef.detectChanges())}),this.messages$=this.virtualizedList.virtualizedItems$.pipe(dn(()=>{this.isEmpty&&setTimeout(()=>this.isEmpty=!1,0)}),dn(e=>{if(this.isJumpingToLatestUnreadMessage&&!this.firstUnreadMessageId&&this.lastReadMessageId){let i=e.findIndex(r=>r.id===this.lastReadMessageId);i!==-1&&(this.firstUnreadMessageId=e[i+1]?.id)}}),dn(e=>this.lastSentMessageId=[...e].reverse().find(i=>i.user?.id===this.chatClientService.chatClient?.user?.id&&i.status!=="sending")?.id),dn(e=>{let i=e[e.length-1],r=this.channelService.activeChannel,s=(this.mode==="main"?r?.state.latestMessages:r?.state.threads[this.parentMessage?.id||""])||[];this.isLatestMessageInList=!i||i.cid!==r?.cid||this.mode==="thread"&&i?.parent_id!==this.parentMessage?.id||i?.id===s[s.length-1]?.id,this.isLatestMessageInList||(this.isUserScrolled=!0)}),xe(e=>this.direction==="bottom-to-top"?e:[...e].reverse()),dn(e=>{this.groupStyles=e.map((i,r)=>DQ(i,e[r-1],e[r+1],{lastReadMessageId:this.lastReadMessageId})),this.isNextMessageOnSeparateDate=e.map((i,r)=>this.checkIfOnSeparateDates(i,e[r+1]))}),gt(1)),this.virtualizedList?.jumpToItem$&&(this.jumpToItemSubscription=this.virtualizedList.jumpToItem$.pipe(ut(e=>!!e.item?.id)).subscribe(e=>{let i=e.item?.id;i&&(this.isJumpingToLatestUnreadMessage&&(i=this.firstUnreadMessageId||i),e.position!=="bottom"?this.highlightedMessageId=i:this.direction==="top-to-bottom"&&(e.position="top"),this.isJumpingToMessage=!0,this.scrollMessageIntoView({messageId:this.firstUnreadMessageId||i,position:e.position||"middle"}))}))}resetScrollState(){this.isEmpty=!0,this.isUserScrolled=!1,this.messageIdToAnchorTo=void 0,this.anchorMessageTopOffset=void 0,this.newMessageCountWhileBeingScrolled=0,this.isNewMessageSentByUser=!1,this.isLatestMessageInList=!0,this.isJumpingToMessage=!1,this.scrollPosition$.next("bottom"),this.loadingState="idle"}disposeVirtualizedList(){this.virtualizedList?.dispose(),this.jumpToItemSubscription?.unsubscribe(),this.queryStateSubscription?.unsubscribe()}get usersTyping$(){return this.mode==="thread"?this.usersTypingInThread$:this.usersTypingInChannel$}scrollMessageIntoView(e,i=!0){let r=document.getElementById(e.messageId);if(this.jumpToMessageTimeouts.forEach(s=>clearTimeout(s)),this.jumpToMessageTimeouts=[],!r&&i)this.jumpToMessageTimeouts.push(setTimeout(()=>this.scrollMessageIntoView(e,!1)));else if(r){let s={top:"start",bottom:"end",middle:"center"};r.scrollIntoView({behavior:"instant",block:s[e.position]}),e.position!=="middle"&&(e.position==="bottom"?this.scrollToBottom():this.scrollToTop()),this.jumpToMessageTimeouts.push(setTimeout(()=>{this.isJumpingToMessage=!1,this.isUserScrolled||this.checkIfUserScrolled()},200)),this.jumpToMessageTimeouts.push(setTimeout(()=>{this.highlightedMessageId=void 0,this.firstUnreadMessageId=void 0,this.isJumpingToLatestUnreadMessage=!1,this.jumpToMessageTimeouts=[],this.cdRef.detectChanges()},1e3))}}newMessageReceived(e){if(this.mode==="main"&&e.parent_id||this.mode==="thread"&&e.parent_id!==this.parentMessage?.id)return;let i=e.user?.id===this.chatClientService.chatClient?.user?.id,r=!1;!this.isNewMessageSentByUser&&i&&(this.isNewMessageSentByUser=!0,r=!0),this.isUserScrolled&&(this.newMessageCountWhileBeingScrolled++,r=!0),!this.isNewMessageSentByUser&&this.unreadCount!==void 0&&(this.unreadCount++,r=!0),r&&this.isViewInited&&this.cdRef.detectChanges()}checkIfOnSeparateDates(e,i){return!e||!i?!1:TR(e.created_at,i.created_at)}}return t.\u0275fac=function(e){return new(e||t)(M(En),M($t),M(Ht),M(rb),M(pe),M(nt))},t.\u0275cmp=Ie({type:t,selectors:[["stream-message-list"]],viewQuery:function(e,i){if(e&1&&(Qe(q9,5),Qe(W9,5)),e&2){let r;Oe(r=ke())&&(i.scrollContainer=r.first),Oe(r=ke())&&(i.parentMessageElement=r.first)}},hostVars:2,hostBindings:function(e,i){e&2&&wr(i.class)},inputs:{mode:"mode",direction:"direction",hideJumpToLatestButtonDuringScroll:"hideJumpToLatestButtonDuringScroll",displayDateSeparator:"displayDateSeparator",displayUnreadSeparator:"displayUnreadSeparator",dateSeparatorTextPos:"dateSeparatorTextPos",openMessageListAt:"openMessageListAt",hideUnreadCountForNotificationAndIndicator:"hideUnreadCountForNotificationAndIndicator",displayLoadingIndicator:"displayLoadingIndicator"},features:[tt],decls:27,vars:14,consts:[["defaultUnreadMessagesNotification",""],["scrollContainer",""],["loadingIndicatorPlaceholder",""],["defaultTypingIndicator",""],["messageTemplateContainer",""],["dateSeparator",""],["defaultNewMessagesIndicator",""],["noUnreadCount",""],["parentMessageElement",""],["defaultMessageTemplate",""],["defaultDateSeparator",""],[4,"ngIf"],["data-testid","scroll-container",1,"str-chat__list"],[1,"str-chat__reverse-infinite-scroll","str-chat__message-list-scroll"],[1,"str-chat__ul"],["data-testid","parent-message","class","str-chat__parent-message-li",4,"ngIf"],["data-testid","top-loading-indicator",4,"ngIf","ngIfElse"],["data-testid","bottom-loading-indicator",4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"str-chat__jump-to-latest-message"],["data-testid","scroll-to-latest","class","str-chat__message-notification-scroll-to-latest str-chat__message-notification-scroll-to-latest-right str-chat__circle-fab",3,"keyup.enter","click",4,"ngIf"],["data-testid","unread-messages-notification",1,"str-chat__unread-messages-notification"],["data-testid","unread-messages-notification-jump-to-message",3,"click"],[4,"ngIf","ngIfElse"],["data-testid","unread-messages-notification-dismiss",3,"click"],["icon","close"],[4,"ngTemplateOutlet"],["data-testid","parent-message",1,"str-chat__parent-message-li"],["data-testid","reply-count",1,"str-chat__thread-start"],["data-testid","top-loading-indicator"],[4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","data-testclass","message",3,"id"],["id","stream-chat-new-message-indicator","data-testid","new-messages-indicator","class","str-chat__li str-chat__unread-messages-separator-wrapper",4,"ngIf"],["id","stream-chat-new-message-indicator","data-testid","new-messages-indicator",1,"str-chat__li","str-chat__unread-messages-separator-wrapper"],["data-testid","bottom-loading-indicator"],[1,"str-chat__loading-indicator-placeholder"],["data-testid","typing-indicator","class","str-chat__typing-indicator str-chat__typing-indicator--typing",4,"ngIf"],["data-testid","typing-indicator",1,"str-chat__typing-indicator","str-chat__typing-indicator--typing"],[1,"str-chat__typing-indicator__dots"],[1,"str-chat__typing-indicator__dot"],["data-testid","typing-users",1,"str-chat__typing-indicator__users"],["data-testid","scroll-to-latest",1,"str-chat__message-notification-scroll-to-latest","str-chat__message-notification-scroll-to-latest-right","str-chat__circle-fab",3,"keyup.enter","click"],[1,"str-chat__jump-to-latest-icon","str-chat__circle-fab-icon",3,"icon"],["class","str-chat__message-notification str-chat__message-notification-scroll-to-latest-unread-count str-chat__jump-to-latest-unread-count",4,"ngIf"],[1,"str-chat__message-notification","str-chat__message-notification-scroll-to-latest-unread-count","str-chat__jump-to-latest-unread-count"],[3,"message","isLastSentMessage","enabledMessageActions","mode","isHighlighted","scroll$"],["data-testid","date-separator",1,"str-chat__date-separator"],["class","str-chat__date-separator-line",4,"ngIf"],[1,"str-chat__date-separator-date"],[1,"str-chat__date-separator-line"],[1,"str-chat__unread-messages-separator"]],template:function(e,i){if(e&1&&(I(0,tG,2,6,"ng-container",11)(1,rG,7,2,"ng-template",null,0,J),E(3,"div",12,1),I(5,oG,2,1,"ng-container",11),E(6,"div",13)(7,"ul",14),I(8,lG,7,10,"li",15)(9,uG,2,1,"ng-container",11)(10,dG,1,0,"stream-loading-indicator-placeholder",16)(11,CG,2,2,"ng-container",11),q(12,"async"),I(13,wG,1,0,"stream-loading-indicator-placeholder",17)(14,DG,1,0,"ng-template",null,2,J),x(),I(16,xG,2,3,"ng-template",null,3,J)(18,TG,1,0,"ng-container",18),x()(),E(19,"div",19),I(20,MG,3,2,"button",20),x(),I(21,OG,3,9,"ng-template",null,4,J)(23,VG,3,1,"ng-template",null,5,J)(25,UG,4,2,"ng-template",null,6,J)),e&2){let r=U(15),s=U(17);y("ngIf",i.lastReadMessageId&&i.isUnreadNotificationVisible&&i.openMessageListAt==="last-message"&&i.displayUnreadSeparator),v(5),y("ngIf",i.mode==="main"&&i.isEmpty&&i.emptyListTemplate),v(3),y("ngIf",i.mode==="thread"&&i.parentMessage),v(),y("ngIf",i.mode==="thread"&&i.isEmpty&&i.emptyListTemplate),v(),y("ngIf",(i.loadingState==="loading-top"&&i.direction==="bottom-to-top"||i.loadingState==="loading-bottom"&&i.direction==="top-to-bottom")&&i.displayLoadingIndicator)("ngIfElse",r),v(),y("ngIf",Q(12,12,i.messages$)),v(2),y("ngIf",(i.loadingState==="loading-bottom"&&i.direction==="bottom-to-top"||i.loadingState==="loading-top"&&i.direction==="top-to-bottom")&&i.displayLoadingIndicator)("ngIfElse",r),v(5),y("ngTemplateOutlet",i.typingIndicatorTemplate||s)("ngTemplateOutletContext",i.getTypingIndicatorContext()),v(2),y("ngIf",i.isUserScrolled&&i.isJumpToLatestButtonVisible)}},dependencies:[Cn,Et,bt,bp,ps,Cp,hQ,Ft,wn],encapsulation:2,changeDetection:0}),t})();var Y0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ee({type:t}),t.\u0275inj=De({imports:[Mt,Tr]}),t})(),K0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ee({type:t}),t.\u0275inj=De({imports:[Mt]}),t})(),fR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ee({type:t}),t.\u0275inj=De({imports:[Mt,K0,Tr]}),t})(),Dp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ee({type:t}),t.\u0275inj=De({providers:[q0],imports:[Mt,HA,Y0,Tr,fR,K0,Y0,fR,K0]}),t})(),LR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ee({type:t}),t.\u0275inj=De({providers:[{provide:kR,useValue:wQ}],imports:[Mt,Tr,lR,Y0]}),t})();var ob;try{ob=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ob=!1}var At=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?gT(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||ob)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||t)(P(wi))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var el,VR=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ab(){if(el)return el;if(typeof document!="object"||!document)return el=new Set(VR),el;let t=document.createElement("input");return el=new Set(VR.filter(n=>(t.setAttribute("type",n),t.type===n))),el}var ou;function EQ(){if(ou==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ou=!0}))}finally{ou=ou||!1}return ou}function au(t){return EQ()?t:!!t.capture}var _o;function jR(){if(_o==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return _o=!1,_o;if("scrollBehavior"in document.documentElement.style)_o=!0;else{let t=Element.prototype.scrollTo;t?_o=!/\{\s*\[native code\]\s*\}/.test(t.toString()):_o=!1}}return _o}function vo(t){return t.composedPath?t.composedPath()[0]:t.target}function lu(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ms(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function yo(t){return t!=null&&`${t}`!="false"}function tl(t){return Array.isArray(t)?t:[t]}function Pt(t){return t==null?"":typeof t=="string"?t:`${t}px`}function gs(t){return t instanceof Le?t.nativeElement:t}var SQ=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var BR=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({providers:[SQ]})}}return t})();var UR=new Set,bo,xQ=(()=>{class t{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):IQ}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&TQ(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||t)(P(At),P($l,8))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function TQ(t,n){if(!UR.has(t))try{bo||(bo=document.createElement("style"),n&&bo.setAttribute("nonce",n),bo.setAttribute("type","text/css"),document.head.appendChild(bo)),bo.sheet&&(bo.sheet.insertRule(`@media ${t} {body{ }}`,0),UR.add(t))}catch(e){console.error(e)}}function IQ(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Sp=(()=>{class t{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new ye}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return $R(tl(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=$R(tl(e)).map(o=>this._registerQuery(o).observable),s=Nn(r);return s=gi(s.pipe(Xe(1)),s.pipe(Xu(1),Vi(0))),s.pipe(xe(o=>{let a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),s={observable:new je(o=>{let a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(ur(i),xe(({matches:o})=>({query:e,matches:o})),_t(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static{this.\u0275fac=function(i){return new(i||t)(P(xQ),P(pe))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $R(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}var HR={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var WR=" ";function fb(t,n,e){let i=GR(t,n);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),t.setAttribute(n,i.join(WR)))}function Ip(t,n,e){let i=GR(t,n);e=e.trim();let r=i.filter(s=>s!==e);r.length?t.setAttribute(n,r.join(WR)):t.removeAttribute(n)}function GR(t,n){return t.getAttribute(n)?.match(/\S+/g)??[]}var jQ=200,cb=class{constructor(n,e){this._letterKeyStream=new ye,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new ye,this.selectedItem=this._selectedItem;let i=typeof e?.debounceInterval=="number"?e.debounceInterval:jQ;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(n),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(n){this._selectedItemIndex=n}setItems(n){this._items=n}handleKey(n){let e=n.keyCode;n.key&&n.key.length===1?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(n){this._letterKeyStream.pipe(dn(e=>this._pressedLetters.push(e)),Vi(n),ut(()=>this._pressedLetters.length>0),xe(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,s=this._items[r];if(!this._skipPredicateFn?.(s)&&s.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(s);break}}this._pressedLetters=[]})}},ub=class{constructor(n,e){this._items=n,this._activeItemIndex=-1,this._activeItem=Cr(null),this._wrap=!1,this._typeaheadSubscription=lt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this.tabOut=new ye,this.change=new ye,n instanceof Qo?this._itemChangesSubscription=n.changes.subscribe(i=>this._itemsChanged(i.toArray())):yh(n)&&(this._effectRef=dv(()=>this._itemsChanged(n()),{injector:e}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new cb(e,{debounceInterval:typeof n=="number"?n:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){let e=this._activeItem();this.updateActiveItem(n),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){let e=n.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!n[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}else return;default:(r||ms(n,"shiftKey"))&&this._typeahead?.handleKey(n);return}this._typeahead?.reset(),n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){let e=this._getItemsArray(),i=typeof n=="number"?n:e.indexOf(n),r=e[i];this._activeItem.set(r??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let r=(this._activeItemIndex+n*i+e.length)%e.length,s=e[r];if(!this._skipPredicateFn(s)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){let i=this._getItemsArray();if(i[n]){for(;this._skipPredicateFn(i[n]);)if(n+=e,!i[n])return;this.setActiveItem(n)}}_getItemsArray(){return yh(this._items)?this._items():this._items instanceof Qo?this._items.toArray():this._items}_itemsChanged(n){this._typeahead?.setItems(n);let e=this._activeItem();if(e){let i=n.indexOf(e);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}},xp=class extends ub{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}};function QR(t){return t.buttons===0||t.detail===0}function YR(t){let n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}var Co=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Co||{}),zR="cdk-high-contrast-black-on-white",qR="cdk-high-contrast-white-on-black",lb="cdk-high-contrast-active",KR=(()=>{class t{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=he(Sp).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Co.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Co.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Co.BLACK_ON_WHITE}return Co.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(lb,zR,qR),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Co.BLACK_ON_WHITE?e.add(lb,zR):i===Co.WHITE_ON_BLACK&&e.add(lb,qR)}}static{this.\u0275fac=function(i){return new(i||t)(P(At),P(Je))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var UQ=new le("cdk-dir-doc",{providedIn:"root",factory:$Q});function $Q(){return he(Je)}var HQ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function zQ(t){let n=t?.toLowerCase()||"";return n==="auto"&&typeof navigator<"u"&&navigator?.language?HQ.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var nl=(()=>{class t{constructor(e){if(this.value="ltr",this.change=new fe,e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=zQ(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||t)(P(UQ,8))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _s=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({})}}return t})();var WQ=["text"],GQ=[[["mat-icon"]],"*"],QQ=["mat-icon","*"];function YQ(t,n){if(t&1&&j(0,"mat-pseudo-checkbox",1),t&2){let e=b();y("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function KQ(t,n){if(t&1&&j(0,"mat-pseudo-checkbox",3),t&2){let e=b();y("disabled",e.disabled)}}function ZQ(t,n){if(t&1&&(E(0,"span",4),ee(1),x()),t&2){let e=b();v(),_e("(",e.group.label,")")}}function XQ(){return!0}var JQ=new le("mat-sanity-checks",{providedIn:"root",factory:XQ}),Kn=(()=>{class t{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return lu()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(i){return new(i||t)(P(KR),P(JQ,8),P(Je))}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({imports:[_s,_s]})}}return t})();var Mp=class{constructor(n,e,i,r,s){this._defaultMatcher=n,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=s,this.errorState=!1}updateErrorState(){let n=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,s=i?.isErrorState(r,e)??!1;s!==n&&(this.errorState=s,this._stateChanges.next())}};var iO=(()=>{class t{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var fi=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(fi||{}),mb=class{constructor(n,e,i,r=!1){this._renderer=n,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=fi.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},ZR=au({passive:!0,capture:!0}),gb=class{constructor(){this._events=new Map,this._delegateEventHandler=n=>{let e=vo(n);e&&this._events.get(n.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(n))})}}addHandler(n,e,i,r){let s=this._events.get(e);if(s){let o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,ZR)})}removeHandler(n,e,i){let r=this._events.get(n);if(!r)return;let s=r.get(e);s&&(s.delete(i),s.size===0&&r.delete(e),r.size===0&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,ZR)))}},XR={enterDuration:225,exitDuration:150},eY=800,JR=au({passive:!0,capture:!0}),eO=["mousedown","touchstart"],tO=["mouseup","mouseleave","touchend","touchcancel"],_b=class t{static{this._eventManager=new gb}constructor(n,e,i,r){this._target=n,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=gs(i))}fadeInRipple(n,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=V(V({},XR),i.animation);i.centered&&(n=r.left+r.width/2,e=r.top+r.height/2);let o=i.radius||tY(n,e,r),a=n-r.left,l=e-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-o}px`,u.style.top=`${l-o}px`,u.style.height=`${o*2}px`,u.style.width=`${o*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),h=d.transitionProperty,f=d.transitionDuration,p=h==="none"||f==="0s"||f==="0s, 0s"||r.width===0&&r.height===0,m=new mb(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",m.state=fi.FADING_IN,i.persistent||(this._mostRecentTransientRipple=m);let _=null;return!p&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let D=()=>{_&&(_.fallbackTimer=null),clearTimeout(S),this._finishRippleTransition(m)},w=()=>this._destroyRipple(m),S=setTimeout(w,c+100);u.addEventListener("transitionend",D),u.addEventListener("transitioncancel",w),_={onTransitionEnd:D,onTransitionCancel:w,fallbackTimer:S}}),this._activeRipples.set(m,_),(p||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(n){if(n.state===fi.FADING_OUT||n.state===fi.HIDDEN)return;let e=n.element,i=V(V({},XR),n.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",n.state=fi.FADING_OUT,(n._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){let e=gs(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,eO.forEach(i=>{t._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(n){n.type==="mousedown"?this._onMousedown(n):n.type==="touchstart"?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{tO.forEach(e=>{this._triggerElement.addEventListener(e,this,JR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===fi.FADING_IN?this._startFadeOutTransition(n):n.state===fi.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){let e=n===this._mostRecentTransientRipple,{persistent:i}=n.config;n.state=fi.VISIBLE,!i&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){let e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=fi.HIDDEN,e!==null&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),n.element.remove()}_onMousedown(n){let e=QR(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+eY;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!YR(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=n.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{let e=n.state===fi.VISIBLE||n.config.terminateOnPointerUp&&n.state===fi.FADING_IN;!n.config.persistent&&e&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let n=this._triggerElement;n&&(eO.forEach(e=>t._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&(tO.forEach(e=>n.removeEventListener(e,this,JR)),this._pointerUpEventsRegistered=!1))}};function tY(t,n,e){let i=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),r=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(i*i+r*r)}var nY=new le("mat-ripple-global-options"),iY=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new _b(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:V(V(V({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,V(V({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,V(V({},this.rippleConfig),e))}static{this.\u0275fac=function(i){return new(i||t)(M(Le),M(pe),M(At),M(nY,8),M(Gi,8))}}static{this.\u0275dir=Me({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&Fe("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return t})(),rY=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({imports:[Kn,Kn]})}}return t})(),sY=(()=>{class t{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(i){return new(i||t)(M(Gi,8))}}static{this.\u0275cmp=Ie({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){i&2&&Fe("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[jt],decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return t})(),oY=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({imports:[Kn]})}}return t})(),yb=new le("MAT_OPTION_PARENT_COMPONENT");var bb=new le("MatOptgroup");var aY=0,cu=class{constructor(n,e=!1){this.source=n,this.isUserInput=e}},Ap=(()=>{class t{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${aY++}`,this.onSelectionChange=new fe,this._stateChanges=new ye}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!ms(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new cu(this,e))}static{this.\u0275fac=function(i){return new(i||t)(M(Le),M(nt),M(yb,8),M(bb,8))}}static{this.\u0275cmp=Ie({type:t,selectors:[["mat-option"]],viewQuery:function(i,r){if(i&1&&Qe(WQ,7),i&2){let s;Oe(s=ke())&&(r._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){i&1&&se("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),i&2&&(Yr("id",r.id),Gt("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Fe("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",qn]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[ai,jt],ngContentSelectors:QQ,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){i&1&&(Yt(GQ),I(0,YQ,1,2,"mat-pseudo-checkbox",1),rt(1),E(2,"span",2,0),rt(4,1),x(),I(5,KQ,1,1,"mat-pseudo-checkbox",3)(6,ZQ,2,1,"span",4),j(7,"div",5)),i&2&&(Qt(r.multiple?0:-1),v(5),Qt(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),v(),Qt(r.group&&r.group._inert?6:-1),v(),y("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[sY,iY],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return t})();function rO(t,n,e){if(e.length){let i=n.toArray(),r=e.toArray(),s=0;for(let o=0;o<t+1;o++)i[o].group&&i[o].group===r[s]&&s++;return s}return 0}function sO(t,n,e,i){return t<e?t:t+n>e+i?Math.max(0,t-i+n):e}var Cb=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({imports:[rY,Kn,oY]})}}return t})();var lY=20,aO=(()=>{class t{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ye,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=lY){return this._platform.isBrowser?new je(i=>{this._globalSubscription||this._addGlobalListener();let r=e>0?this._scrolled.pipe(Yu(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):st()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ut(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=gs(i),s=e.getElementRef().nativeElement;do if(r==s)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return mn(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||t)(P(pe),P(At),P(Je,8))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var cY=20,uu=(()=>{class t{constructor(e,i,r){this._platform=e,this._change=new ye,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect(),o=-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,a=-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:o,left:a}}change(e=cY){return e>0?this._change.pipe(Yu(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||t)(P(At),P(pe),P(Je,8))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Rp=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({})}}return t})(),wb=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({imports:[_s,Rp,_s,Rp]})}}return t})();var du=class{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;n!=null&&(this._attachedHost=null,n.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(n){this._attachedHost=n}},Db=class extends du{constructor(n,e,i,r,s){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}},il=class extends du{constructor(n,e,i,r){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}},Eb=class extends du{constructor(n){super(),this.element=n instanceof Le?n.nativeElement:n}},Sb=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){if(n instanceof Db)return this._attachedPortal=n,this.attachComponentPortal(n);if(n instanceof il)return this._attachedPortal=n,this.attachTemplatePortal(n);if(this.attachDomPortal&&n instanceof Eb)return this._attachedPortal=n,this.attachDomPortal(n)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Op=class extends Sb{constructor(n,e,i,r,s){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(n){let i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),r;return n.viewContainerRef?(r=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(n.injector||this._defaultInjector||Wt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=n,r}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=n,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}};var cO=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({})}}return t})();var uO=jR(),xb=class{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Pt(-this._previousScrollPosition.left),n.style.top=Pt(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let n=this._document.documentElement,e=this._document.body,i=n.style,r=e.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),uO&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),uO&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var Tb=class{constructor(n,e,i,r){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(this._scrollSubscription)return;let n=this._scrollDispatcher.scrolled(0).pipe(ut(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},kp=class{enable(){}disable(){}attach(){}};function Ib(t,n){return n.some(e=>{let i=t.bottom<e.top,r=t.top>e.bottom,s=t.right<e.left,o=t.left>e.right;return i||r||s||o})}function dO(t,n){return n.some(e=>{let i=t.top<e.top,r=t.bottom>e.bottom,s=t.left<e.left,o=t.right>e.right;return i||r||s||o})}var Mb=class{constructor(n,e,i,r){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(!this._scrollSubscription){let n=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(n).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Ib(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},uY=(()=>{class t{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new kp,this.close=o=>new Tb(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new xb(this._viewportRuler,this._document),this.reposition=o=>new Mb(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(i){return new(i||t)(P(aO),P(uu),P(pe),P(Je))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hu=class{constructor(n){if(this.scrollStrategy=new kp,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){let e=Object.keys(n);for(let i of e)n[i]!==void 0&&(this[i]=n[i])}}};var Ab=class{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}};var _O=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(i){return new(i||t)(P(Je))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),dY=(()=>{class t extends _O{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{let s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){let a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||t)(P(Je),P(pe,8))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hY=(()=>{class t extends _O{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=vo(s)},this._clickListener=s=>{let o=vo(s),a=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){let u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(hO(u.overlayElement,o)||hO(u.overlayElement,a))break;let d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(e){if(super.add(e),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||t)(P(Je),P(At),P(pe,8))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function hO(t,n){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=n;for(;i;){if(i===t)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var vO=(()=>{class t{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||lu()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}let i=this._document.createElement("div");i.classList.add(e),lu()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||t)(P(Je),P(At))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Rb=class{constructor(n,e,i,r,s,o,a,l,c,u=!1,d){this._portalOutlet=n,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._injector=d,this._backdropElement=null,this._backdropClick=new ye,this._attachments=new ye,this._detachments=new ye,this._locationChanges=lt.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new ye,this._outsidePointerEvents=new ye,this._renders=new ye,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=An(()=>Gl(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Wr(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){let n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=V(V({},this._config),n),this._updateElementSize()}setDirection(n){this._config=Se(V({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){let n=this._config.direction;return n?typeof n=="string"?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let n=this._pane.style;n.width=Pt(this._config.width),n.height=Pt(this._config.height),n.minWidth=Pt(this._config.minWidth),n.minHeight=Pt(this._config.minHeight),n.maxWidth=Pt(this._config.maxWidth),n.maxHeight=Pt(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){let n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let n=this._backdropElement;if(n){if(this._animationsDisabled){this._disposeBackdrop(n);return}n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,i){let r=tl(e||[]).filter(s=>!!s);r.length&&(i?n.classList.add(...r):n.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let n=this._renders.pipe(_t(ei(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){let n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},fO="cdk-overlay-connected-position-bounding-box",fY=/([A-Za-z%]+)$/,Ob=class{get positions(){return this._preferredPositions}constructor(n,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ye,this._resizeSubscription=lt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._overlayRef&&this._overlayRef,this._validatePositions(),n.hostElement.classList.add(fO),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[],o;for(let a of this._preferredPositions){let l=this._getOriginPoint(n,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,i,a);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(u,c,i)){s.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(s.length){let a=null,l=-1;for(let c of s){let u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&wo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(fO),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,n.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,i){let r;if(i.originX=="center")r=n.left+n.width/2;else{let o=this._isRtl()?n.right:n.left,a=this._isRtl()?n.left:n.right;r=i.originX=="start"?o:a}e.left<0&&(r-=e.left);let s;return i.originY=="center"?s=n.top+n.height/2:s=i.originY=="top"?n.top:n.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(n,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let s;return i.overlayY=="center"?s=-e.height/2:s=i.overlayY=="top"?0:-e.height,{x:n.x+r,y:n.y+s}}_getOverlayFit(n,e,i,r){let s=mO(e),{x:o,y:a}=n,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let u=0-o,d=o+s.width-i.width,h=0-a,f=a+s.height-i.height,p=this._subtractOverflows(s.width,u,d),m=this._subtractOverflows(s.height,h,f),_=p*m;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(n,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,s=i.right-e.x,o=pO(this._overlayRef.getConfig().minHeight),a=pO(this._overlayRef.getConfig().minWidth),l=n.fitsInViewportVertically||o!=null&&o<=r,c=n.fitsInViewportHorizontally||a!=null&&a<=s;return l&&c}return!1}_pushOverlayOnScreen(n,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};let r=mO(e),s=this._viewportRect,o=Math.max(n.x+r.width-s.width,0),a=Math.max(n.y+r.height-s.height,0),l=Math.max(s.top-i.top-n.y,0),c=Math.max(s.left-i.left-n.x,0),u=0,d=0;return r.width<=s.width?u=c||-o:u=n.x<this._viewportMargin?s.left-i.left-n.x:0,r.height<=s.height?d=l||-a:d=n.y<this._viewportMargin?s.top-i.top-n.y:0,this._previousPushAmount={x:u,y:d},{x:n.x+u,y:n.y+d}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(n!==this._lastPosition||!this._lastScrollVisibility||!pY(this._lastScrollVisibility,i)){let r=new Ab(n,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=n,this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=n.overlayY;n.overlayX==="center"?i="center":this._isRtl()?i=n.overlayX==="start"?"right":"left":i=n.overlayX==="start"?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(n,e){let i=this._viewportRect,r=this._isRtl(),s,o,a;if(e.overlayY==="top")o=n.y,s=i.height-o+this._viewportMargin;else if(e.overlayY==="bottom")a=i.height-n.y+this._viewportMargin*2,s=i.height-a+this._viewportMargin;else{let f=Math.min(i.bottom-n.y+i.top,n.y),p=this._lastBoundingBoxSize.height;s=f*2,o=n.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=n.y-p/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,u,d,h;if(c)h=i.width-n.x+this._viewportMargin*2,u=n.x-this._viewportMargin;else if(l)d=n.x,u=i.right-n.x;else{let f=Math.min(i.right-n.x+i.left,n.x),p=this._lastBoundingBoxSize.width;u=f*2,d=n.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=n.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(n,e){let i=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Pt(i.height),r.top=Pt(i.top),r.bottom=Pt(i.bottom),r.width=Pt(i.width),r.left=Pt(i.left),r.right=Pt(i.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",s&&(r.maxHeight=Pt(s)),o&&(r.maxWidth=Pt(o))}this._lastBoundingBoxSize=i,wo(this._boundingBox.style,r)}_resetBoundingBoxStyles(){wo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){wo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){let i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){let u=this._viewportRuler.getViewportScrollPosition();wo(i,this._getExactOverlayY(e,n,u)),wo(i,this._getExactOverlayX(e,n,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=Pt(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Pt(o.maxWidth):s&&(i.maxWidth="")),wo(this._pane.style,i)}_getExactOverlayY(n,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,n);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),n.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;r.bottom=`${o-(s.y+this._overlayRect.height)}px`}else r.top=Pt(s.y);return r}_getExactOverlayX(n,e,i){let r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,n);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let o;if(this._isRtl()?o=n.overlayX==="end"?"left":"right":o=n.overlayX==="end"?"right":"left",o==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(s.x+this._overlayRect.width)}px`}else r.left=Pt(s.x);return r}_getScrollVisibility(){let n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:dO(n,i),isOriginOutsideView:Ib(n,i),isOverlayClipped:dO(e,i),isOverlayOutsideView:Ib(e,i)}}_subtractOverflows(n,...e){return e.reduce((i,r)=>i-Math.max(r,0),n)}_getNarrowedViewportRect(){let n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return e==="x"?n.offsetX==null?this._offsetX:n.offsetX:n.offsetY==null?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&tl(n).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){let n=this._origin;if(n instanceof Le)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();let e=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+e,height:i,width:e}}};function wo(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function pO(t){if(typeof t!="number"&&t!=null){let[n,e]=t.split(fY);return!e||e==="px"?parseFloat(n):null}return t||null}function mO(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function pY(t,n){return t===n?!0:t.isOriginClipped===n.isOriginClipped&&t.isOriginOutsideView===n.isOriginOutsideView&&t.isOverlayClipped===n.isOverlayClipped&&t.isOverlayOutsideView===n.isOverlayOutsideView}var gO="cdk-global-overlay-wrapper",kb=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){let e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(gO),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=(r==="100%"||r==="100vw")&&(!o||o==="100%"||o==="100vw"),c=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,d=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",f="",p="",m="";l?m="flex-start":u==="center"?(m="center",h?p=d:f=d):h?u==="left"||u==="end"?(m="flex-end",f=d):(u==="right"||u==="start")&&(m="flex-start",p=d):u==="left"||u==="start"?(m="flex-start",f=d):(u==="right"||u==="end")&&(m="flex-end",p=d),n.position=this._cssPosition,n.marginLeft=l?"0":f,n.marginTop=c?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=l?"0":p,e.justifyContent=m,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(gO),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}},mY=(()=>{class t{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new kb}flexibleConnectedTo(e){return new Ob(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||t)(P(uu),P(Je),P(At),P(vO))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),gY=0,vs=(()=>{class t{constructor(e,i,r,s,o,a,l,c,u,d,h,f){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(e){let i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new hu(e);return o.direction=o.direction||this._directionality.value,new Rb(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Vn))}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=`cdk-overlay-${gY++}`,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Dr)),new Op(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||t)(P(uY),P(vO),P(ri),P(mY),P(dY),P(Wt),P(pe),P(Je),P(nl),P(Cv),P(hY),P(Gi,8))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _Y=new le("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=he(vs);return()=>t.scrollStrategies.reposition()}});function vY(t){return()=>t.scrollStrategies.reposition()}var yY={provide:_Y,deps:[vs],useFactory:vY},yO=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({providers:[vs,yY],imports:[_s,cO,wb,wb]})}}return t})();var Fb=class{constructor(n){this._box=n,this._destroyed=new ye,this._resizeSubject=new ye,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(n){return this._elementObservables.has(n)||this._elementObservables.set(n,new je(e=>{let i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(n,{box:this._box}),()=>{this._resizeObserver?.unobserve(n),i.unsubscribe(),this._elementObservables.delete(n)}}).pipe(ut(e=>e.some(i=>i.target===n)),gt({bufferSize:1,refCount:!0}),_t(this._destroyed))),this._elementObservables.get(n)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},bO=(()=>{class t{constructor(){this._observers=new Map,this._ngZone=he(pe),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(e,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Fb(r)),this._observers.get(r).observe(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var CY=["notch"],wY=["matFormFieldNotchedOutline",""],DY=["*"],EY=["textField"],SY=["iconPrefixContainer"],xY=["textPrefixContainer"],TY=["iconSuffixContainer"],IY=["textSuffixContainer"],MY=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],AY=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function RY(t,n){t&1&&j(0,"span",21)}function OY(t,n){if(t&1&&(E(0,"label",20),rt(1,1),I(2,RY,1,0,"span",21),x()),t&2){let e=b(2);y("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Gt("for",e._control.disableAutomaticLabeling?null:e._control.id),v(2),Qt(!e.hideRequiredMarker&&e._control.required?2:-1)}}function kY(t,n){if(t&1&&I(0,OY,3,5,"label",20),t&2){let e=b();Qt(e._hasFloatingLabel()?0:-1)}}function FY(t,n){t&1&&j(0,"div",7)}function PY(t,n){}function NY(t,n){if(t&1&&I(0,PY,0,0,"ng-template",13),t&2){b(2);let e=U(1);y("ngTemplateOutlet",e)}}function LY(t,n){if(t&1&&(E(0,"div",9),I(1,NY,1,1,null,13),x()),t&2){let e=b();y("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),v(),Qt(e._forceDisplayInfixLabel()?-1:1)}}function VY(t,n){t&1&&(E(0,"div",10,2),rt(2,2),x())}function jY(t,n){t&1&&(E(0,"div",11,3),rt(2,3),x())}function BY(t,n){}function UY(t,n){if(t&1&&I(0,BY,0,0,"ng-template",13),t&2){b();let e=U(1);y("ngTemplateOutlet",e)}}function $Y(t,n){t&1&&(E(0,"div",14,4),rt(2,4),x())}function HY(t,n){t&1&&(E(0,"div",15,5),rt(2,5),x())}function zY(t,n){t&1&&j(0,"div",16)}function qY(t,n){if(t&1&&(E(0,"div",18),rt(1,6),x()),t&2){let e=b();y("@transitionMessages",e._subscriptAnimationState)}}function WY(t,n){if(t&1&&(E(0,"mat-hint",22),ee(1),x()),t&2){let e=b(2);y("id",e._hintLabelId),v(),bn(e.hintLabel)}}function GY(t,n){if(t&1&&(E(0,"div",19),I(1,WY,2,2,"mat-hint",22),rt(2,7),j(3,"div",23),rt(4,8),x()),t&2){let e=b();y("@transitionMessages",e._subscriptAnimationState),v(),Qt(e.hintLabel?1:-1)}}var Pp=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Me({type:t,selectors:[["mat-label"]],standalone:!0})}}return t})();var QY=new le("MatError");var YY=0,CO=(()=>{class t{constructor(){this.align="start",this.id=`mat-mdc-hint-${YY++}`}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Me({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(Yr("id",r.id),Gt("align",null),Fe("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0})}}return t})(),KY=new le("MatPrefix");var ZY=new le("MatSuffix");var MO=new le("FloatingLabelParent"),wO=(()=>{class t{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=he(bO),this._ngZone=he(pe),this._parent=he(MO),this._resizeSubscription=new lt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return XY(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||t)(M(Le))}}static{this.\u0275dir=Me({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&Fe("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return t})();function XY(t){let n=t;if(n.offsetParent!==null)return n.scrollWidth;let e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let i=e.scrollWidth;return e.remove(),i}var DO="mdc-line-ripple--active",Fp="mdc-line-ripple--deactivating",EO=(()=>{class t{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{let s=this._elementRef.nativeElement.classList,o=s.contains(Fp);r.propertyName==="opacity"&&o&&s.remove(DO,Fp)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(Fp),e.add(DO)}deactivate(){this._elementRef.nativeElement.classList.add(Fp)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||t)(M(Le),M(pe))}}static{this.\u0275dir=Me({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return t})(),SO=(()=>{class t{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static{this.\u0275fac=function(i){return new(i||t)(M(Le),M(pe))}}static{this.\u0275cmp=Ie({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&Qe(CY,5),i&2){let s;Oe(s=ke())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&Fe("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[jt],attrs:wY,ngContentSelectors:DY,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(Yt(),j(0,"div",1),E(1,"div",2,0),rt(3),x(),j(4,"div",3))},encapsulation:2,changeDetection:0})}}return t})(),JY={transitionMessages:cf("transitionMessages",[uf("enter",Si({opacity:1,transform:"translateY(0%)"})),xc("void => enter",[Si({opacity:0,transform:"translateY(-5px)"}),Fa("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Pb=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Me({type:t})}}return t})();var fu=new le("MatFormField"),eK=new le("MAT_FORM_FIELD_DEFAULT_OPTIONS"),xO=0,TO="fill",tK="auto",IO="fixed",nK="translateY(-50%)",AO=(()=>{class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=yo(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||tK}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){let i=this._appearance,r=e||this._defaults?.appearance||TO;this._appearance=r,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||IO}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||IO}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,o,a,l,c){this._elementRef=e,this._changeDetectorRef=i,this._dir=s,this._platform=o,this._defaults=a,this._animationMode=l,this._labelChild=pS(Pp),this._hideRequiredMarker=!1,this.color="primary",this._appearance=TO,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${xO++}`,this._hintLabelId=`mat-mdc-hint-${xO++}`,this._subscriptAnimationState="",this._destroyed=new ye,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=he(Wt),this.getLabelId=Er(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=Er(()=>!!this._labelChild()),a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let i=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(_t(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),ei(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Gl(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(_t(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let i=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,r=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,c=s?.getBoundingClientRect().width??0,u=o?.getBoundingClientRect().width??0,d=this._dir.value==="rtl"?"-1":"1",h=`${a+l}px`,p=`calc(${d} * (${h} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${nK} translateX(${p})
    )`;let m=a+l+c+u;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${m}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static{this.\u0275fac=function(i){return new(i||t)(M(Le),M(nt),M(pe),M(nl),M(At),M(eK,8),M(Gi,8),M(Je))}}static{this.\u0275cmp=Ie({type:t,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(i&1&&(nv(s,r._labelChild,Pp,5),$n(s,Pb,5),$n(s,KY,5),$n(s,ZY,5),$n(s,QY,5),$n(s,CO,5)),i&2){iv();let o;Oe(o=ke())&&(r._formFieldControl=o.first),Oe(o=ke())&&(r._prefixChildren=o),Oe(o=ke())&&(r._suffixChildren=o),Oe(o=ke())&&(r._errorChildren=o),Oe(o=ke())&&(r._hintChildren=o)}},viewQuery:function(i,r){if(i&1&&(Qe(EY,5),Qe(SY,5),Qe(xY,5),Qe(TY,5),Qe(IY,5),Qe(wO,5),Qe(SO,5),Qe(EO,5)),i&2){let s;Oe(s=ke())&&(r._textField=s.first),Oe(s=ke())&&(r._iconPrefixContainer=s.first),Oe(s=ke())&&(r._textPrefixContainer=s.first),Oe(s=ke())&&(r._iconSuffixContainer=s.first),Oe(s=ke())&&(r._textSuffixContainer=s.first),Oe(s=ke())&&(r._floatingLabel=s.first),Oe(s=ke())&&(r._notchedOutline=s.first),Oe(s=ke())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){i&2&&Fe("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations",r._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[kt([{provide:fu,useExisting:t},{provide:MO,useExisting:t}]),jt],ngContentSelectors:AY,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let s=Ce();Yt(MY),I(0,kY,1,1,"ng-template",null,0,J),E(2,"div",6,1),se("click",function(a){return $(s),H(r._control.onContainerClick(a))}),I(4,FY,1,0,"div",7),E(5,"div",8),I(6,LY,2,2,"div",9)(7,VY,3,0,"div",10)(8,jY,3,0,"div",11),E(9,"div",12),I(10,UY,1,1,null,13),rt(11),x(),I(12,$Y,3,0,"div",14)(13,HY,3,0,"div",15),x(),I(14,zY,1,0,"div",16),x(),E(15,"div",17),I(16,qY,2,1,"div",18)(17,GY,5,2,"div",19),x()}if(i&2){let s;v(2),Fe("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),v(2),Qt(!r._hasOutline()&&!r._control.disabled?4:-1),v(2),Qt(r._hasOutline()?6:-1),v(),Qt(r._hasIconPrefix?7:-1),v(),Qt(r._hasTextPrefix?8:-1),v(2),Qt(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),v(2),Qt(r._hasTextSuffix?12:-1),v(),Qt(r._hasIconSuffix?13:-1),v(),Qt(r._hasOutline()?-1:14),v(),Fe("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic"),v(),Qt((s=r._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[wO,SO,bt,EO,CO],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[JY.transitionMessages]},changeDetection:0})}}return t})(),pu=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({imports:[Kn,Mt,BR,Kn]})}}return t})();var rK=["panel"],sK=["*"];function oK(t,n){if(t&1){let e=Ce();E(0,"div",1,0),se("@panelAnimation.done",function(r){$(e);let s=b();return H(s._animationDone.next(r))}),rt(2),x()}if(t&2){let e=n.id,i=b();wr(i._classList),Fe("mat-mdc-autocomplete-visible",i.showPanel)("mat-mdc-autocomplete-hidden",!i.showPanel)("mat-primary",i._color==="primary")("mat-accent",i._color==="accent")("mat-warn",i._color==="warn"),y("id",i.id)("@panelAnimation",i.isOpen?"visible":"hidden"),Gt("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(e))}}var aK=cf("panelAnimation",[uf("void, hidden",Si({opacity:0,transform:"scaleY(0.8)"})),xc(":enter, hidden => visible",[_I([Fa("0.03s linear",Si({opacity:1})),Fa("0.12s cubic-bezier(0, 0, 0.2, 1)",Si({transform:"scaleY(1)"}))])]),xc(":leave, visible => hidden",[Fa("0.075s linear",Si({opacity:0}))])]),lK=0,Nb=class{constructor(n,e){this.source=n,this.option=e}},OO=new le("mat-autocomplete-default-options",{providedIn:"root",factory:cK});function cK(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var kO=(()=>{class t{get isOpen(){return this._isOpen&&this.showPanel}_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}constructor(e,i,r,s){this._changeDetectorRef=e,this._elementRef=i,this._defaults=r,this._activeOptionChanges=lt.EMPTY,this._animationDone=new fe,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new fe,this.opened=new fe,this.closed=new fe,this.optionActivated=new fe,this.id=`mat-autocomplete-${lK++}`,this.inertGroups=s?.SAFARI||!1,this.autoActiveFirstOption=!!r.autoActiveFirstOption,this.autoSelectActiveOption=!!r.autoSelectActiveOption,this.requireSelection=!!r.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new xp(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let i=new Nb(this,e);this.optionSelected.emit(i)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_skipPredicate(){return!1}static{this.\u0275fac=function(i){return new(i||t)(M(nt),M(Le),M(OO),M(At))}}static{this.\u0275cmp=Ie({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(i,r,s){if(i&1&&($n(s,Ap,5),$n(s,bb,5)),i&2){let o;Oe(o=ke())&&(r.options=o),Oe(o=ke())&&(r.optionGroups=o)}},viewQuery:function(i,r){if(i&1&&(Qe(ln,7),Qe(rK,5)),i&2){let s;Oe(s=ke())&&(r.template=s.first),Oe(s=ke())&&(r.panel=s.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",qn],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",qn],requireSelection:[2,"requireSelection","requireSelection",qn],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",qn],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",qn]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[kt([{provide:yb,useExisting:t}]),ai,jt],ngContentSelectors:sK,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(i,r){i&1&&(Yt(),I(0,oK,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[aK]},changeDetection:0})}}return t})();var uK={provide:Oa,useExisting:oi(()=>Lb),multi:!0};var FO=new le("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let t=he(vs);return()=>t.scrollStrategies.reposition()}});function dK(t){return()=>t.scrollStrategies.reposition()}var hK={provide:FO,deps:[vs],useFactory:dK},Lb=(()=>{class t{constructor(e,i,r,s,o,a,l,c,u,d,h){this._element=e,this._overlay=i,this._viewContainerRef=r,this._zone=s,this._changeDetectorRef=o,this._dir=l,this._formField=c,this._document=u,this._viewportRuler=d,this._defaults=h,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=lt.EMPTY,this._breakpointObserver=he(Sp),this._handsetLandscapeSubscription=lt.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new ye,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new ye,this._injector=he(Wt),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=Oo(()=>{let f=this.autocomplete?this.autocomplete.options:null;return f?f.changes.pipe(ur(f),Lt(()=>ei(...f.map(p=>p.onSelectionChange)))):this._initialized.pipe(Lt(()=>this.optionSelections))}),this._handlePanelKeydown=f=>{(f.keyCode===27&&!ms(f)||f.keyCode===38&&ms(f,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),f.stopPropagation(),f.preventDefault())},this._trackedModal=null,this._scrollStrategy=a}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();let e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){let e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&Ip(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return ei(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(ut(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(ut(()=>this._overlayAttached)):st()).pipe(xe(e=>e instanceof cu?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return ei(mn(this._document,"click"),mn(this._document,"auxclick"),mn(this._document,"touchend")).pipe(ut(e=>{let i=vo(e),r=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,s=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(i))&&(!s||!s.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let i=e.keyCode,r=ms(e);if(i===27&&!r&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&i===13&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let s=this.autocomplete._keyManager.activeItem,o=i===38||i===40;i===9||o&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):o&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(o||this.autocomplete._keyManager.activeItem!==s)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let i=e.target,r=i.value;if(i.type==="number"&&(r=r==""?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),!r)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let s=this.autocomplete.options?.find(o=>o.selected);if(s){let o=this._getDisplayValue(s.value);r!==o&&s.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===e.target){let s=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(s)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new je(r=>{Wr(()=>{r.next()},{injector:this._injector})}),i=this.autocomplete.options.changes.pipe(dn(()=>this._positionStrategy.reapplyLastPosition()),am(0));return ei(e,i).pipe(Lt(()=>this._zone.run(()=>{let r=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),Xe(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let i=this.autocomplete;return i&&i.displayWith?i.displayWith(e):e}_assignOptionValue(e){let i=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(i??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let i=this.autocomplete,r=e?e.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),i._emitSelectEvent(r),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),i._animationDone?i._animationDone.pipe(Xe(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,i){this.autocomplete?.options?.forEach(r=>{r!==e&&r.selected&&r.deselect(i)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let i=this.autocomplete.id;fb(this._trackedModal,"aria-owns",i)}}_attachOverlay(e){this.autocomplete;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new il(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(HR.HandsetLandscape).subscribe(s=>{s.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),i&&!i.hasAttached()&&(i.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let r=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&r!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new hu({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,s=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}],o;this.position==="above"?o=s:this.position==="below"?o=i:o=[...i,...s],e.withPositions(o)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let i=-1;for(let r=0;r<e.options.length;r++)if(!e.options.get(r).disabled){i=r;break}e._keyManager.setActiveItem(i)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){let i=this.autocomplete,r=rO(e,i.options,i.optionGroups);if(e===0&&r===1)i._setScrollTop(0);else if(i.panel){let s=i.options.toArray()[e];if(s){let o=s._getHostElement(),a=sO(o.offsetTop,o.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(a)}}}_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=this.autocomplete.id;this._trackedModal&&Ip(this._trackedModal,"aria-owns",i),fb(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;Ip(this._trackedModal,"aria-owns",e),this._trackedModal=null}}static{this.\u0275fac=function(i){return new(i||t)(M(Le),M(vs),M(It),M(pe),M(nt),M(FO),M(nl,8),M(fu,9),M(Je,8),M(uu),M(OO,8))}}static{this.\u0275dir=Me({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,r){i&1&&se("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(o){return r._handleInput(o)})("keydown",function(o){return r._handleKeydown(o)})("click",function(){return r._handleClick()}),i&2&&Gt("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||r.autocomplete==null?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",qn]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[kt([uK]),ai,tt]})}}return t})(),Np=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({providers:[hK],imports:[yO,Cb,Kn,Mt,Rp,Cb,Kn]})}}return t})();var Lp=class t{saved=new fe;channelName=new Xs;onCreate(){this.saved.emit(this.channelName.value),this.channelName.reset("")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=Ie({type:t,selectors:[["app-new-channel"]],outputs:{saved:"saved"},standalone:!0,features:[jt],decls:6,vars:1,consts:[[1,"form-container"],["for","channelName",1,"input-label"],["type","text","id","channelName","placeholder","Channel Name",1,"input-field",3,"formControl"],[1,"create-button",3,"click"]],template:function(e,i){e&1&&(E(0,"div",0)(1,"label",1),ee(2,"Add a new channel"),x(),j(3,"input",2),E(4,"button",3),se("click",function(){return i.onCreate()}),ee(5,"Create Channel"),x()()),e&2&&(v(3),y("formControl",i.channelName))},dependencies:[Mt,is,ns,ka,Dc],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:flex-start;padding:10px 20px;width:100%}.form-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;max-width:600px;margin-top:10px}.input-label[_ngcontent-%COMP%]{font-size:14px;color:#666;margin-right:10px}.input-field[_ngcontent-%COMP%]{font-size:16px;color:#333;border:1px solid #ddd;padding:10px 15px;border-radius:6px;background-color:#fff;width:100%;transition:border-color .3s,box-shadow .3s}.input-field[_ngcontent-%COMP%]:focus{border-color:#3f51b5;outline:none;box-shadow:0 2px 6px #3f51b533}.create-button[_ngcontent-%COMP%]{height:40px;padding:0 16px;background-color:#3f51b5;color:#fff;font-size:14px;font-weight:400;border-radius:6px;border:none;cursor:pointer;margin-left:10px;transition:background-color .3s}.create-button[_ngcontent-%COMP%]:hover{background-color:#2c387e}"]})};var PO=au({passive:!0}),NO=(()=>{class t{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ss;let i=gs(e),r=this._monitoredElements.get(i);if(r)return r.subject;let s=new ye,o="cdk-text-field-autofilled",a=l=>{l.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(o)?(i.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0}))):l.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,PO),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",a,PO)}}),s}stopMonitoring(e){let i=gs(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static{this.\u0275fac=function(i){return new(i||t)(P(At),P(pe))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var LO=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({})}}return t})();var mK=new le("MAT_INPUT_VALUE_ACCESSOR"),gK=["button","checkbox","file","hidden","image","radio","range","reset","submit"],_K=0,VO=(()=>{class t{get disabled(){return this._disabled}set disabled(e){this._disabled=yo(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Gh.required)??!1}set required(e){this._required=yo(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&ab().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=yo(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,i,r,s,o,a,l,c,u,d){this._elementRef=e,this._platform=i,this.ngControl=r,this._autofillMonitor=c,this._ngZone=u,this._formField=d,this._uid=`mat-input-${_K++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new ye,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>ab().has(p)),this._iOSKeyupListener=p=>{let m=p.target;!m.value&&m.selectionStart===0&&m.selectionEnd===0&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Mp(a,r,o,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=f==="select",this._isTextarea=f==="textarea",this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){gK.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}else return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static{this.\u0275fac=function(i){return new(i||t)(M(Le),M(At),M(Ir,10),M(Xv,8),M(Ec,8),M(iO),M(mK,10),M(NO),M(pe),M(fu,8))}}static{this.\u0275dir=Me({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){i&1&&se("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(Yr("id",r.id)("disabled",r.disabled)("required",r.required),Gt("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Fe("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[kt([{provide:Pb,useExisting:t}]),tt]})}}return t})(),jO=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Ee({type:t})}static{this.\u0275inj=De({imports:[Kn,pu,pu,LO,Kn]})}}return t})();var or=class t{constructor(n){this.http=n}users=[];user=null;apiUrl="https://chatappp-env.eba-vjmfbrra.eu-west-2.elasticbeanstalk.com";getUsers(){return this.http.get(`${this.apiUrl}/users`)}loadUsers(){return this.getUsers().pipe(xe(n=>(console.log("Users fetched:",n),this.users=Array.isArray(n)?n:[],console.log("Stored Users:",this.users),this.users)),Li(n=>(console.error("Error fetching users:",n),st([]))))}findUserById(n){if(console.log("Attempting to find user with ID:",n),console.log("Stored Users:",this.users),this.users.length===0){console.warn("User list is empty. Load users first."),this.loadUsers();return}this.user=this.users.find(e=>e._id===n)||null,this.user?(console.log("User found:",this.user),this.generateToken().subscribe(e=>console.log("Token generated:",e),e=>console.error("Error generating token:",e))):console.log("User not found")}generateToken(){return!this.user||!this.user._id?(console.error("No valid user selected for token generation."),st("")):this.http.post(`${this.apiUrl}/createStreamToken`,{_id:this.user._id}).pipe(lm("token"))}revokeUserToken(n){return this.http.post(`${this.apiUrl}/revokeStreamUserToken`,{_id:n}).pipe(xe(e=>(console.log("Token revoked successfully",e),e)),Li(e=>(console.error("Error revoking token:",e),st(e))))}static \u0275fac=function(e){return new(e||t)(P(Mv))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};function yK(t,n){if(t&1&&(E(0,"mat-option",6),ee(1),x()),t&2){let e=n.$implicit;y("value",e.id),v(),_e(" ",e.name," ")}}var jp=class t{constructor(n,e){this.chatClientService=n;this.userService=e}channel;showDialog=!1;userSearchField=new Xs;availableUsers$;ngOnInit(){this.availableUsers$=this.userSearchField.valueChanges.pipe(Vi(300),ur(""),Lt(n=>typeof n=="string"&&n.trim().length>0?Jt(this.chatClientService.autocompleteUsers(n)).pipe(Li(e=>(console.error("Error fetching users:",e),st([])))):st([])),dn(n=>console.log("Fetched Users:",n)))}addToChat({option:{value:n}}){this.channel.addMembers([n]),this.userSearchField.reset()}static \u0275fac=function(e){return new(e||t)(M($t),M(or))};static \u0275cmp=Ie({type:t,selectors:[["app-invite-button"]],inputs:{channel:"channel"},standalone:!0,features:[jt],decls:11,vars:6,consts:[["auto","matAutocomplete"],["mat-stroked-button","",3,"click"],[3,"isOpenChange","isOpen"],["type","text","placeholder","Start to Type","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){if(e&1){let r=Ce();E(0,"button",1),se("click",function(){return $(r),H(i.showDialog=!0)}),ee(1,"Add users"),x(),E(2,"stream-modal",2),wa("isOpenChange",function(o){return $(r),Zl(i.showDialog,o)||(i.showDialog=o),H(o)}),E(3,"mat-form-field")(4,"mat-label"),ee(5,"Search for users"),x(),j(6,"input",3),x(),E(7,"mat-autocomplete",4,0),se("optionSelected",function(o){return $(r),H(i.addToChat(o))}),I(9,yK,2,2,"mat-option",5),q(10,"async"),x()()}if(e&2){let r=U(8);v(2),Ca("isOpen",i.showDialog),v(4),y("formControl",i.userSearchField)("matAutocomplete",r),v(3),y("ngForOf",Q(10,4,i.availableUsers$))}},dependencies:[Mt,Cn,Ft,is,ns,ka,Dc,Dp,su,pu,AO,Pp,Np,kO,Ap,Lb,jO,VO]})};var Bp=class t{constructor(n,e){this.userService=n;this.chatClientService=e}currentUserName="";logoutEvent=new fe;onLogoutClick(){this.logoutEvent.emit()}static \u0275fac=function(e){return new(e||t)(M(or),M($t))};static \u0275cmp=Ie({type:t,selectors:[["app-logout"]],inputs:{currentUserName:"currentUserName"},outputs:{logoutEvent:"logoutEvent"},standalone:!0,features:[jt],decls:5,vars:1,consts:[[1,"user-info"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(e,i){e&1&&(E(0,"div",0)(1,"span"),ee(2),x(),E(3,"button",1),se("click",function(){return i.onLogoutClick()}),ee(4,"Logout"),x()()),e&2&&(v(2),_e("Logged in as: ",i.currentUserName,""))},styles:[".user-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ff5c5c;color:#fff;border:none;padding:8px 15px;font-size:14px;border-radius:5px;cursor:pointer;transition:background-color .3s,transform .2s}.user-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e14d4d;transform:translateY(-2px)}.user-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#c43d3d;transform:translateY(0)}"]})};var Up=class t{constructor(n,e){this.userService=n;this.chatClientService=e}log_out(n){this.userService.revokeUserToken(n).subscribe(e=>{console.log("Token revoked successfully:",e),localStorage.removeItem("userId"),sessionStorage.removeItem("userToken"),console.log("User logged out and data cleared")},e=>{console.error("Error during token revocation or logout:",e)})}static \u0275fac=function(e){return new(e||t)(P(or),P($t))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};var CK=["channelActionsTemplate"];function wK(t,n){if(t&1){let e=Ce();E(0,"section",3)(1,"div",4)(2,"app-new-channel",5),se("saved",function(r){$(e);let s=b();return H(s.onCreate(r))}),x(),E(3,"div",6),j(4,"stream-channel-list"),E(5,"stream-channel"),j(6,"stream-channel-header")(7,"stream-message-list")(8,"stream-notification-list")(9,"stream-message-input"),x()(),E(10,"app-logout",7),se("logoutEvent",function(){$(e);let r=b();return H(r.logout())}),x()()()}if(t&2){let e=b();v(10),y("currentUserName",e.currentUserName)}}function DK(t,n){if(t&1){let e=Ce();E(0,"div",8)(1,"h4"),ee(2,"Login"),x(),E(3,"form",9)(4,"div",10)(5,"label",11),ee(6,"Enter your phone number"),x(),j(7,"input",12),x(),E(8,"div")(9,"button",13),se("click",function(){$(e);let r=b();return H(r.login())}),ee(10,"Login"),x()()()()}if(t&2){let e=b();v(3),y("formGroup",e.loginForm)}}function EK(t,n){if(t&1&&j(0,"app-invite-button",14),t&2){let e=n.channel;y("channel",e)}}var $p=class t{constructor(n,e,i,r,s,o){this.userService=n;this.signout=e;this.chatService=i;this.channelService=r;this.streamI18nService=s;this.customTemplatesService=o}chatIsReady$;users$;loginForm;users=[];currentUserId="";currentUserName="";title="chating-app";channelActionsTemplate;ngOnInit(){this.userService.getUsers().subscribe(n=>{this.users=Array.isArray(n)?n:[]},n=>{console.error("Error fetching users:",n)}),this.loginForm=new Ra({phone:new Xs("")})}login(){let n=this.loginForm.get("phone")?.value;console.log("Logging in with phone number:",n),console.log("Users array:",this.users);let e=this.users.find(i=>i.phone===n.toString());console.log("current user:",e),e?(this.currentUserName=e.name,this.currentUserId=e._id,console.log("User id found:",this.currentUserId),this.users$=this.userService.loadUsers(),this.streamI18nService.setTranslation(),this.userService.loadUsers().subscribe(i=>{this.userService.findUserById(e._id),this.chatIsReady$=this.userService.generateToken().pipe(Lt(r=>this.chatService.init("twghaea6bwp3",e._id,r)),Lt(()=>this.channelService.init({type:"messaging",members:{$in:[e._id]}})),xe(()=>!0),Li(()=>st(!1)))})):console.log("User not found!")}ngAfterViewInit(){this.customTemplatesService.channelActionsTemplate$.next(this.channelActionsTemplate)}onCreate(n){console.log("current user:",this.currentUserId);let e=n.replace(/\s+/g,"-").toLowerCase(),i=this.chatService.chatClient.channel("messaging",e,{name:n,members:[this.currentUserId]});Jt(i.create())}logout(){this.signout.log_out(this.currentUserId),console.log(this.currentUserId),this.currentUserId="",this.users$=st([]),this.chatIsReady$=st(!1),this.loginForm.get("phone")?.setValue("")}static \u0275fac=function(e){return new(e||t)(M(or),M(Up),M($t),M(En),M(wR),M(Ht))};static \u0275cmp=Ie({type:t,selectors:[["app-root"]],viewQuery:function(e,i){if(e&1&&Qe(CK,5),e&2){let r;Oe(r=ke())&&(i.channelActionsTemplate=r.first)}},standalone:!0,features:[jt],decls:6,vars:4,consts:[["unavailable",""],["channelActionsTemplate",""],["class","chat",4,"ngIf","ngIfElse"],[1,"chat"],[1,"chat-container"],[3,"saved"],["id","root"],[3,"logoutEvent","currentUserName"],[1,"chat-notification"],[1,"login-form",3,"formGroup"],[1,"form-group"],["for","phone"],["type","number","id","phone","placeholder","Enter your phone number","formControlName","phone",1,"form-control"],[1,"btn","btn-login",3,"click"],[3,"channel"]],template:function(e,i){if(e&1&&(I(0,wK,11,1,"section",2),q(1,"async"),I(2,DK,11,1,"ng-template",null,0,J)(4,EK,1,1,"ng-template",null,1,J)),e&2){let r=U(3);y("ngIf",Q(1,2,i.chatIsReady$))("ngIfElse",r)}},dependencies:[Np,is,gI,ns,Jv,ka,lI,Ec,ty,Uh,Tr,LR,Dp,ER,xR,MR,PR,NR,nb,Et,Ft,Lp,jp,Bp]})};NT($p,ZI).catch(t=>console.error(t));
