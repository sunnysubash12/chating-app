{"version":3,"file":"ngx-float-ui.mjs","sources":["../../../projects/ngx-float-ui/src/lib/models/ngx-float-ui-placements.model.ts","../../../projects/ngx-float-ui/src/lib/models/ngx-float-ui-triggers.model.ts","../../../projects/ngx-float-ui/src/lib/components/ngx-float-ui-content/ngx-float-ui-content.component.ts","../../../projects/ngx-float-ui/src/lib/components/ngx-float-ui-content/ngx-float-ui-content.component.html","../../../projects/ngx-float-ui/src/lib/models/ngx-float-ui-defaults.model.ts","../../../projects/ngx-float-ui/src/lib/models/ngx-float-ui-utils.class.ts","../../../projects/ngx-float-ui/src/lib/directives/ngx-float-ui/ngx-float-ui.directive.ts","../../../projects/ngx-float-ui/src/lib/directives/ngx-float-ui/ngx-float-ui-loose.directive.ts","../../../projects/ngx-float-ui/src/lib/ngx-float-ui.module.ts","../../../projects/ngx-float-ui/src/public-api.ts","../../../projects/ngx-float-ui/src/ngx-float-ui.ts"],"sourcesContent":["\nexport enum NgxFloatUiPlacements {\n  AUTO = \"auto\",\n  AUTOSTART = \"auto-start\",\n  AUTOEND = \"auto-end\",\n  TOP = \"top\",\n  BOTTOM = \"bottom\",\n  LEFT = \"left\",\n  RIGHT = \"right\",\n  TOPSTART = \"top-start\",\n  BOTTOMSTART = \"bottom-start\",\n  LEFTSTART = \"left-start\",\n  RIGHTSTART = \"right-start\",\n  TOPEND = \"top-end\",\n  BOTTOMEND = \"bottom-end\",\n  LEFTEND = \"left-end\",\n  RIGHTEND = \"right-end\"\n}\n","export enum NgxFloatUiTriggers {\n  click = \"click\",\n  hover = \"hover\",\n  mousedown = \"mousedown\",\n  none = \"none\"\n}\n","import {NgClass, NgIf, NgStyle} from \"@angular/common\";\nimport {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ElementRef,\n    EventEmitter,\n    HostListener,\n    OnDestroy,\n    ViewChild,\n    ViewContainerRef,\n    ViewEncapsulation\n} from \"@angular/core\";\n//\nimport {\n    Alignment,\n    arrow,\n    autoPlacement,\n    autoUpdate,\n    computePosition,\n    ComputePositionConfig,\n    flip,\n    limitShift,\n    offset,\n    Placement,\n    shift\n} from \"@floating-ui/dom\";\nimport {fromEvent, Subject, takeUntil} from \"rxjs\";\n//\nimport {NgxFloatUiOptions} from \"../../models/ngx-float-ui-options.model\";\nimport {NgxFloatUiPlacements} from \"../../models/ngx-float-ui-placements.model\";\nimport {NgxFloatUiTriggers} from \"../../models/ngx-float-ui-triggers.model\";\n\n@Component({\n    selector: \"float-ui-content\",\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    templateUrl: \"./ngx-float-ui-content.component.html\",\n    styleUrls: [\"./ngx-float-ui-content.component.scss\"],\n    exportAs: \"ngxFloatUiContent\",\n    standalone: true,\n    imports: [NgStyle, NgClass, NgIf]\n})\nexport class NgxFloatUiContentComponent implements OnDestroy {\n\n    static nextId: number = 0;\n\n    protected get _dynamicArrowSides() {\n        return {\n            top: \"left\",\n            right: \"top\",\n            bottom: \"left\",\n            left: \"top\"\n        };\n    }\n\n    protected get _sideAxis() {\n        return {\n            left: \"x\",\n            top: \"y\",\n            right: \"x\",\n            bottom: \"y\"\n        };\n    }\n\n    protected get _staticArrowSides() {\n        return {\n            top: \"bottom\",\n            right: \"left\",\n            bottom: \"top\",\n            left: \"right\"\n        };\n    }\n\n    ariaHidden: string;\n    arrowColor: string | null = null;\n    displayType: string;\n    floatUiOptions: NgxFloatUiOptions = {\n        disableAnimation: false,\n        disableDefaultStyling: false,\n        boundariesElement: \"\",\n        trigger: NgxFloatUiTriggers.hover,\n        positionFixed: false,\n        appendToBody: false,\n        popperModifiers: []\n    } as NgxFloatUiOptions;\n    floatUiSwitch: () => void;\n    @ViewChild(\"floatUiViewRef\", {static: !0}) floatUiViewRef: ElementRef;\n    id: string = `ngx_float_ui_${++NgxFloatUiContentComponent.nextId}`;\n    isMouseOver: boolean = !1;\n    onHidden = new EventEmitter();\n    onUpdate: () => any;\n    opacity: number;\n    referenceObject: HTMLElement;\n    state: boolean;\n    text: string;\n\n    protected _destroy$: Subject<void> = new Subject<void>();\n    protected _resizeCtrl$: Subject<void> = new Subject<void>();\n    protected _styleId = `${this.id}_style`;\n\n    constructor(public elRef: ElementRef,\n                protected _viewRef: ViewContainerRef,\n                protected _changeDetectorRef: ChangeDetectorRef) {\n        this._toggleVisibility(!1);\n    }\n\n    clean() {\n        this.toggleVisibility(false);\n        if (!this.floatUiSwitch) {\n            return;\n        }\n        this.floatUiSwitch();\n    }\n\n    extractAppliedClassListExpr(classList: string | string[] = []): object {\n        const klassList = Array.isArray(classList) ? classList : typeof classList === typeof \"\" ? classList.replace(/ /, \"\").split(\",\") : [];\n\n        return klassList.reduce((acc, klass) => {\n            acc[klass] = !0;\n\n            return acc;\n        }, {});\n    }\n\n    hide(): void {\n        if (this.floatUiSwitch) {\n            this.floatUiSwitch();\n        }\n        this.toggleVisibility(!1);\n        this.onHidden.emit();\n    }\n\n    ngOnDestroy() {\n        this._destroy$.next();\n        this.clean();\n        if (this.floatUiOptions.appendTo && this.elRef && this.elRef.nativeElement && this.elRef.nativeElement.parentNode) {\n            this._viewRef.detach();\n            this.elRef.nativeElement.parentNode.removeChild(this.elRef.nativeElement);\n        }\n    }\n\n    onDocumentResize() {\n        this.update();\n    }\n\n    @HostListener(\"mouseover\")\n    onMouseOver() {\n        this.isMouseOver = true;\n    }\n\n    show(): void {\n        if (!this.referenceObject) {\n            return;\n        }\n        this._resizeCtrl$.next();\n        this._determineArrowColor();\n        this.floatUiSwitch = autoUpdate(\n            this.referenceObject,\n            this.floatUiViewRef.nativeElement,\n            () => {\n                this._computePosition();\n            }\n        );\n        fromEvent(document, \"resize\")\n            .pipe(\n                takeUntil(this._resizeCtrl$),\n                takeUntil(this._destroy$)\n            )\n            .subscribe({\n                next: () => this.onDocumentResize()\n            });\n    }\n\n    @HostListener(\"mouseleave\")\n    showOnLeave() {\n        this.isMouseOver = false;\n        if (this.floatUiOptions.trigger !== NgxFloatUiTriggers.hover && !this.floatUiOptions.hideOnMouseLeave) {\n            return;\n        }\n        this.hide();\n    }\n\n    // Toggle visibility and detect changes - Run only after ngOnInit!\n    toggleVisibility(state: boolean): void {\n        this._toggleVisibility(state);\n        // tslint:disable-next-line:no-string-literal\n        if (!this._changeDetectorRef[\"destroyed\"]) {\n            this._changeDetectorRef.detectChanges();\n        }\n    }\n\n    update(): void {\n        this._computePosition();\n    }\n\n    protected _computePosition(): void {\n        const appendToParent = this.floatUiOptions.appendTo && document.querySelector(this.floatUiOptions.appendTo);\n        if (appendToParent) {\n            const parent = this.elRef.nativeElement.parentNode;\n            if (parent !== appendToParent) {\n                parent && parent.removeChild(this.elRef.nativeElement);\n                appendToParent.appendChild(this.elRef.nativeElement);\n            }\n        }\n\n        const arrowElement = this.elRef.nativeElement.querySelector(\".float-ui-arrow\");\n        const arrowLen = arrowElement.offsetWidth;\n        // Get half the arrow box's hypotenuse length\n        const floatingOffset = Math.sqrt(2 * arrowLen ** 2) / 2;\n        const parsedAutoAlignment: Alignment | undefined = (this.floatUiOptions.placement?.replace(\"auto-\", \"\") || void 0) as Alignment | undefined;\n        // Since \"auto\" doesn't really exist in floating-ui we pass undefined to have auto\n        const parsedPlacement = !this.floatUiOptions.placement || this.floatUiOptions.placement.indexOf(NgxFloatUiPlacements.AUTO) === 0\n            ? void 0\n            : (this.floatUiOptions.placement as Placement);\n        const popperOptions: Partial<ComputePositionConfig> = {\n            placement: parsedPlacement,\n            strategy: this.floatUiOptions.positionFixed ? \"fixed\" : \"absolute\",\n            middleware: [\n                offset(floatingOffset),\n                ...(this.floatUiOptions.preventOverflow\n                        ? [flip()]\n                        : []\n                ),\n                shift({limiter: limitShift()}),\n                arrow({\n                    element: arrowElement,\n                    padding: 4\n                })\n            ]\n        };\n        // Since preventOverflow uses \"flip\" and \"flip\" can't be used with \"autoPlacement\" we get here only if both conditions are falsy\n        if (!this.floatUiOptions.preventOverflow && !popperOptions.placement) {\n            const boundariesElement = this.floatUiOptions.boundariesElement\n                ? document.querySelector(this.floatUiOptions.boundariesElement)\n                : this.referenceObject.parentElement;\n            popperOptions.middleware.push(\n                autoPlacement({\n                    crossAxis: !0,\n                    alignment: parsedAutoAlignment,\n                    autoAlignment: this.floatUiOptions.placement === NgxFloatUiPlacements.AUTO,\n                    boundary: boundariesElement\n                })\n            );\n        }\n        computePosition(this.referenceObject, this.floatUiViewRef.nativeElement, {\n            ...popperOptions\n        })\n            .then(({middlewareData, x, y, placement}) => {\n                const side = placement.split(\"-\")[0];\n                this.floatUiViewRef.nativeElement.setAttribute(\"data-float-ui-placement\", side);\n                if (middlewareData.arrow) {\n                    const staticArrowSide = this._staticArrowSides[side];\n                    const dynamicArrowSide = this._dynamicArrowSides[side];\n                    const dynamicSideAxis = this._sideAxis[dynamicArrowSide];\n                    Object.assign(arrowElement.style, {\n                        top: \"\",\n                        bottom: \"\",\n                        left: \"\",\n                        right: \"\",\n                        [dynamicArrowSide]: middlewareData.arrow[dynamicSideAxis] != null ? `${middlewareData.arrow[dynamicSideAxis]}px` : \"\",\n                        [staticArrowSide]: `${-arrowLen / 2}px`\n                    });\n                }\n                Object.assign(this.floatUiViewRef.nativeElement.style, {\n                    left: `${x}px`,\n                    top: `${y}px`\n                });\n                this.toggleVisibility(!0);\n                this.onUpdate?.();\n            });\n    }\n\n    protected _createArrowSelector(): string {\n        return `div#${this.id}.float-ui-container > .float-ui-arrow.ngxp__force-arrow`;\n    }\n\n    protected _determineArrowColor() {\n        if (!this.floatUiOptions.styles || this.arrowColor) {\n\n            return !1;\n        }\n        const ruleValue = this.floatUiOptions.styles[\"background-color\"] || this.floatUiOptions.styles.backgroundColor;\n        if (this.arrowColor === ruleValue) {\n            return !1;\n        }\n        this.arrowColor = ruleValue;\n        let $style = document.querySelector(`#${this._styleId}`) as HTMLStyleElement;\n        const styleContent = this.arrowColor ?\n            `${this._createArrowSelector()}:before { background-color: ${this.arrowColor}; }` : \"\";\n        if (!$style) {\n            $style = document.createElement(\"style\") as HTMLStyleElement;\n            $style.id = this._styleId;\n            $style.setAttribute(\"type\", \"text/css\");\n            document.head.appendChild($style);\n        }\n        // tslint:disable-next-line:no-string-literal\n        if ($style[\"styleSheet\"]) {\n            // tslint:disable-next-line:no-string-literal\n            $style[\"styleSheet\"].cssText = styleContent;\n            // This is required for IE8 and below.\n        }\n        else {\n            $style.innerHTML = styleContent;\n        }\n    }\n\n    protected _toggleVisibility(state): void {\n        this.displayType = [\"none\", \"block\"][+state];\n        this.opacity = +state;\n        this.ariaHidden = `${!state}`;\n        this.state = state;\n    }\n}\n","<div #floatUiViewRef\n     [attr.id]=\"id\"\n     [class.float-ui-container]=\"!floatUiOptions.disableDefaultStyling\"\n     [class.float-ui-animation]=\"!floatUiOptions.disableAnimation\"\n     [class.float-ui-fixed]=\"floatUiOptions.positionFixed\"\n     [style.display]=\"displayType\"\n     [style.opacity]=\"opacity\"\n     [ngStyle]=\"floatUiOptions.styles\"\n     [ngClass]=\"extractAppliedClassListExpr(floatUiOptions.applyClass)\"\n     attr.aria-hidden=\"{{ariaHidden}}\"\n     [attr.aria-describedby]=\"floatUiOptions.ariaDescribe || null\"\n     attr.role=\"{{floatUiOptions.ariaRole}}\">\n    <div *ngIf=\"text\"\n         class=\"ngxp__inner\"\n         [innerHTML]=\"text\">\n        <ng-content></ng-content>\n    </div>\n    <div *ngIf=\"!text\"\n         class=\"ngxp__inner\">\n        <ng-content></ng-content>\n    </div>\n    <div class=\"float-ui-arrow\"\n         [class.ngxp__force-arrow]=\"arrowColor\"\n         [ngClass]=\"extractAppliedClassListExpr(floatUiOptions.applyArrowClass)\"></div>\n\n</div>\n","import {InjectionToken} from \"@angular/core\";\n//\nimport {NgxFloatUiOptions} from \"./ngx-float-ui-options.model\";\n\nexport const NGX_FLOAT_UI_DEFAULTS = new InjectionToken<NgxFloatUiOptions>(\"NGX_FLOAT_UI_DEFAULTS\");\n","/**\n * @private\n */\nexport class NgxFloatUiUtils {\n\n    /** Coerces a data-bound value (typically a string) to a boolean. */\n    static coerceBooleanProperty(value: any): boolean {\n        return value != null && `${value}` !== \"false\";\n    }\n}\n","import {\n    ChangeDetectorRef,\n    ComponentRef,\n    Directive,\n    ElementRef,\n    EventEmitter,\n    Inject,\n    Input,\n    OnDestroy,\n    OnInit,\n    Output,\n    ViewContainerRef\n} from \"@angular/core\";\n//\nimport {fromEvent, Subject, takeUntil, timer} from \"rxjs\";\nimport {NgxFloatUiContentComponent} from \"../../components/ngx-float-ui-content/ngx-float-ui-content.component\";\nimport {NGX_FLOAT_UI_DEFAULTS} from \"../../models/ngx-float-ui-defaults.model\";\nimport {NgxFloatUiOptions} from \"../../models/ngx-float-ui-options.model\";\nimport {NgxFloatUiPlacements} from \"../../models/ngx-float-ui-placements.model\";\nimport {NgxFloatUiTriggers} from \"../../models/ngx-float-ui-triggers.model\";\nimport {NgxFloatUiUtils} from \"../../models/ngx-float-ui-utils.class\";\n\n@Directive({\n    selector: \"[floatUi]\",\n    exportAs: \"floatUi\",\n    standalone: true\n})\nexport class NgxFloatUiDirective implements OnInit, OnDestroy {\n\n    static baseOptions: NgxFloatUiOptions = {\n        showDelay: 0,\n        hideOnClickOutside: true,\n        hideOnMouseLeave: false,\n        hideOnScroll: false,\n        appendTo: undefined,\n        ariaRole: \"popper\",\n        ariaDescribe: \"\",\n        styles: {},\n        trigger: NgxFloatUiTriggers.click\n    };\n\n    @Input()\n    set applyClass(newValue: string) {\n        if (newValue === this._applyClass) {\n            return;\n        }\n        this._applyClass = newValue;\n        this._checkExisting(\"applyClass\", newValue);\n    }\n\n    get applyClass(): string {\n        return this._applyClass;\n    }\n\n    @Input()\n    set arrowClass(newValue: string) {\n        if (newValue === this._arrowClass) {\n            return;\n        }\n        this._arrowClass = newValue;\n        if (this._content) {\n            this._content.floatUiOptions.applyArrowClass = newValue;\n            if (!this._shown) {\n                return;\n            }\n            this._content.update();\n        }\n    }\n\n    get arrowClass(): string {\n        return this._arrowClass;\n    }\n\n    @Input()\n    set disabled(newValue: boolean) {\n        if (newValue === this._disabled) {\n            return;\n        }\n        this._disabled = !!newValue;\n        if (this._shown) {\n            this.hide();\n        }\n    }\n\n    get disabled(): boolean {\n        return this._disabled;\n    }\n\n    @Input()\n    set floatUi(newValue: string | NgxFloatUiContentComponent) {\n        if (newValue === this._floatUi) {\n\n            return;\n        }\n        this._floatUi = newValue;\n        if (this._content) {\n            if (typeof newValue === \"string\") {\n                this._content.text = newValue;\n            }\n            else {\n                this._content = newValue;\n            }\n        }\n    }\n\n    get floatUi(): string | NgxFloatUiContentComponent {\n        return this._floatUi;\n    }\n\n    @Input()\n    set hideOnClickOutside(newValue: boolean | string) {\n        this._hideOnClickOutside = NgxFloatUiUtils.coerceBooleanProperty(newValue);\n    }\n\n    get hideOnClickOutside(): boolean {\n        return this._hideOnClickOutside;\n    }\n\n    @Input()\n    set placement(newValue: NgxFloatUiPlacements) {\n        this._placement = newValue;\n        this._checkExisting(\"placement\", newValue);\n    }\n\n    get placement(): NgxFloatUiPlacements {\n\n        return this._placement;\n    }\n\n    @Input()\n    set preventOverflow(newValue: boolean) {\n        this._preventOverflow = NgxFloatUiUtils.coerceBooleanProperty(newValue);\n        this._checkExisting(\"preventOverflow\", this._preventOverflow);\n    }\n\n    get preventOverflow(): boolean {\n        return this._preventOverflow;\n    }\n\n    @Input()\n    set showOnStart(newValue: boolean) {\n        this._showOnStart = NgxFloatUiUtils.coerceBooleanProperty(newValue);\n    }\n\n    get showOnStart(): boolean {\n        return this._showOnStart;\n    }\n\n    @Input()\n    appendTo: string;\n\n    @Input()\n    ariaDescribe: string | void;\n\n    @Input()\n    ariaRole: string | void;\n\n    @Input()\n    boundariesElement: string;\n\n    @Input()\n    disableAnimation: boolean;\n\n    @Input()\n    disableStyle: boolean;\n\n    @Input()\n    hideOnMouseLeave: boolean | void;\n\n    @Input()\n    hideOnScroll: boolean | void;\n\n    @Input()\n    hideTimeout: number = 0;\n\n    @Output()\n    onHidden: EventEmitter<NgxFloatUiDirective> = new EventEmitter<NgxFloatUiDirective>();\n\n    @Output()\n    onShown: EventEmitter<NgxFloatUiDirective> = new EventEmitter<NgxFloatUiDirective>();\n\n    @Output()\n    onUpdate: EventEmitter<void> = new EventEmitter<void>();\n\n    @Input()\n    positionFixed: boolean;\n\n    @Input()\n    showDelay: number | undefined;\n\n    @Input()\n    showTrigger: NgxFloatUiTriggers | undefined;\n\n    @Input()\n    styles: object;\n\n    @Input()\n    targetElement: HTMLElement;\n\n    @Input()\n    timeoutAfterShow: number = 0;\n\n    protected _applyClass: string;\n    protected _arrowClass: string;\n    protected _content: NgxFloatUiContentComponent;\n    protected _contentClass = NgxFloatUiContentComponent;\n    protected _contentRef: ComponentRef<NgxFloatUiContentComponent>;\n    protected _destroy$: Subject<void> = new Subject<void>();\n    protected _disabled: boolean;\n    protected _floatUi: string | NgxFloatUiContentComponent;\n    protected _globalEventListenersCtrl$: Subject<void> = new Subject<void>();\n    protected _hideOnClickOutside: boolean = !0;\n    protected _placement: NgxFloatUiPlacements;\n    protected _preventOverflow: boolean;\n    protected _scheduledHideTimeoutCtrl$: Subject<void> = new Subject<void>();\n    protected _scheduledShowTimeoutCtrl$: Subject<void> = new Subject<void>();\n    protected _shown: boolean = !1;\n    protected _showOnStart: boolean = !1;\n\n    constructor(protected _changeDetectorRef: ChangeDetectorRef,\n                protected _elementRef: ElementRef,\n                protected _vcr: ViewContainerRef,\n                @Inject(NGX_FLOAT_UI_DEFAULTS) protected _popperDefaults: NgxFloatUiOptions = {}) {\n        NgxFloatUiDirective.baseOptions = {...NgxFloatUiDirective.baseOptions, ...this._popperDefaults};\n    }\n\n    static assignDefined(target: any, ...sources: any[]) {\n        for (const source of sources) {\n            for (const key of Object.keys(source)) {\n                const val = source[key];\n                if (val !== undefined) {\n                    target[key] = val;\n                }\n            }\n        }\n\n        return target;\n    }\n\n    applyTriggerListeners() {\n        switch (this.showTrigger) {\n            case NgxFloatUiTriggers.click:\n                this._addListener(\"click\", this.toggle.bind(this));\n                break;\n            case NgxFloatUiTriggers.mousedown:\n                this._addListener(\"mousedown\", this.toggle.bind(this));\n                break;\n            case NgxFloatUiTriggers.hover:\n                this._addListener(\"mouseenter\", this.scheduledShow.bind(this, this.showDelay));\n                [\"touchend\", \"touchcancel\", \"mouseleave\"].forEach((eventName) => {\n                    this._addListener(eventName, this.scheduledHide.bind(this, null, this.hideTimeout));\n                });\n                break;\n        }\n        if (this.showTrigger !== NgxFloatUiTriggers.hover && this.hideOnMouseLeave) {\n            [\"touchend\", \"touchcancel\", \"mouseleave\"].forEach((eventName) => {\n                this._addListener(eventName, this.scheduledHide.bind(this, null, this.hideTimeout));\n            });\n        }\n    }\n\n    getRefElement() {\n        return this.targetElement || this._elementRef.nativeElement;\n    }\n\n    hide() {\n        if (this.disabled) {\n            return;\n        }\n        if (!this._shown) {\n            this._scheduledShowTimeoutCtrl$.next();\n\n            return;\n        }\n\n        this._shown = false;\n        if (this._contentRef) {\n            this._contentRef.instance.hide();\n        }\n        else {\n            this._content.hide();\n        }\n        this.onHidden.emit(this);\n        this._globalEventListenersCtrl$.next();\n    }\n\n    hideOnClickOutsideHandler($event: MouseEvent): void {\n        if (this.disabled || !this.hideOnClickOutside || $event.target === this._content.elRef.nativeElement ||\n            this._content.elRef.nativeElement.contains($event.target)) {\n            return;\n        }\n        this.scheduledHide($event, this.hideTimeout);\n    }\n\n    hideOnScrollHandler($event: MouseEvent): void {\n        if (this.disabled || !this.hideOnScroll) {\n            return;\n        }\n        this.scheduledHide($event, this.hideTimeout);\n    }\n\n    ngOnDestroy() {\n        this._destroy$.next();\n        this._destroy$.complete();\n        this._content && this._content.clean();\n    }\n\n    ngOnInit() {\n        if (typeof this.floatUi === \"string\") {\n            this._content = this._constructContent();\n            this._content.text = this.floatUi;\n        }\n        else if (typeof this.floatUi === typeof void 0) {\n            this._content = this._constructContent();\n            this._content.text = \"\";\n        }\n        else {\n            this._content = this.floatUi;\n        }\n        const popperRef = this._content;\n        popperRef.referenceObject = this.getRefElement();\n        this._setContentProperties(popperRef);\n        this._setDefaults();\n        this.applyTriggerListeners();\n        if (this.showOnStart) {\n            this.scheduledShow();\n        }\n    }\n\n    scheduledHide($event: any = null, delay: number = this.hideTimeout) {\n        if (this.disabled) {\n            return;\n        }\n        this._scheduledHideTimeoutCtrl$.next();\n        timer(delay)\n            .pipe(takeUntil(this._scheduledHideTimeoutCtrl$), takeUntil(this._destroy$))\n            .subscribe({\n                next: () => {\n                    // TODO: check\n                    const toElement = $event ? $event.toElement : null;\n                    const popperContentView = this._content.floatUiViewRef ? this._content.floatUiViewRef.nativeElement : false;\n                    if (!popperContentView ||\n                        popperContentView === toElement ||\n                        popperContentView.contains(toElement) ||\n                        (this.floatUi && (this.floatUi as NgxFloatUiContentComponent).isMouseOver)) {\n\n                        return;\n                    }\n                    this.hide();\n                    this._applyChanges();\n                }\n            });\n    }\n\n    scheduledShow(delay: number = this.showDelay) {\n        if (this.disabled) {\n            return;\n        }\n        this._scheduledHideTimeoutCtrl$.next();\n        timer(delay)\n            .pipe(takeUntil(this._scheduledShowTimeoutCtrl$), takeUntil(this._destroy$))\n            .subscribe({\n                next: () => {\n                    this.show();\n                    this._applyChanges();\n                }\n            });\n    }\n\n    show() {\n        if (this._shown) {\n            this._scheduledHideTimeoutCtrl$.next();\n\n            return;\n        }\n\n        this._shown = true;\n        const popperRef = this._content;\n        const element = this.getRefElement();\n        if (popperRef.referenceObject !== element) {\n            popperRef.referenceObject = element;\n        }\n        this._setContentProperties(popperRef);\n        popperRef.show();\n        this.onShown.emit(this);\n        if (this.timeoutAfterShow > 0) {\n            this.scheduledHide(null, this.timeoutAfterShow);\n        }\n        fromEvent(document, \"click\")\n            .pipe(takeUntil(this._globalEventListenersCtrl$), takeUntil(this._destroy$))\n            .subscribe({\n                next: (e: MouseEvent) => this.hideOnClickOutsideHandler(e)\n            });\n        fromEvent(this._getScrollParent(this.getRefElement()), \"scroll\")\n            .pipe(takeUntil(this._globalEventListenersCtrl$), takeUntil(this._destroy$))\n            .subscribe({\n                next: (e: MouseEvent) => {\n                    this.hideOnScrollHandler(e);\n                }\n            });\n    }\n\n    toggle() {\n        if (this.disabled) {\n            return;\n        }\n        this._shown ? this.scheduledHide(null, this.hideTimeout) : this.scheduledShow();\n    }\n\n    protected _addListener(eventName: string, cb: () => void): void {\n        fromEvent(this._elementRef.nativeElement, eventName)\n            .pipe(takeUntil(this._destroy$))\n            .subscribe({\n                next: cb\n            });\n    }\n\n    protected _applyChanges() {\n        this._changeDetectorRef.markForCheck();\n        this._changeDetectorRef.detectChanges();\n    }\n\n    protected _checkExisting(key: string, newValue: string | number | boolean | NgxFloatUiPlacements): void {\n        if (this._content) {\n            this._content.floatUiOptions[key] = newValue;\n            if (!this._shown) {\n                return;\n            }\n            this._content.update();\n        }\n    }\n\n    protected _constructContent(): NgxFloatUiContentComponent {\n        this._contentRef = this._vcr.createComponent(this._contentClass);\n\n        return this._contentRef.instance as NgxFloatUiContentComponent;\n    }\n\n    protected _getScrollParent(node) {\n        const isElement = node instanceof HTMLElement;\n        const overflowY = isElement && window.getComputedStyle(node).overflowY;\n        const isScrollable = overflowY !== \"visible\" && overflowY !== \"hidden\";\n\n        if (!node) {\n            return null;\n        }\n        else if (isScrollable && node.scrollHeight > node.clientHeight) {\n            return node;\n        }\n\n        return this._getScrollParent(node.parentNode) || document;\n    }\n\n    protected _onPopperUpdate() {\n        this.onUpdate.emit();\n    }\n\n    protected _setContentProperties(popperRef: NgxFloatUiContentComponent) {\n        popperRef.floatUiOptions = NgxFloatUiDirective.assignDefined(popperRef.floatUiOptions, NgxFloatUiDirective.baseOptions, {\n            showDelay: this.showDelay,\n            disableAnimation: this.disableAnimation,\n            disableDefaultStyling: this.disableStyle,\n            placement: this.placement,\n            boundariesElement: this.boundariesElement,\n            trigger: this.showTrigger,\n            positionFixed: this.positionFixed,\n            ariaDescribe: this.ariaDescribe,\n            ariaRole: this.ariaRole,\n            applyClass: this.applyClass,\n            applyArrowClass: this.arrowClass,\n            hideOnMouseLeave: this.hideOnMouseLeave,\n            styles: this.styles,\n            appendTo: this.appendTo,\n            preventOverflow: this.preventOverflow,\n        });\n        popperRef.onUpdate = this._onPopperUpdate.bind(this);\n        popperRef.onHidden\n            .pipe(takeUntil(this._destroy$))\n            .subscribe(this.hide.bind(this));\n    }\n\n    protected _setDefaults() {\n        [\"showDelay\", \"hideOnScroll\", \"hideOnMouseLeave\", \"hideOnClickOutside\", \"ariaRole\", \"ariaDescribe\"].forEach((key) => {\n            this[key] = this[key] === void 0 ? NgxFloatUiDirective.baseOptions[key] : this[key];\n        });\n        this.showTrigger = this.showTrigger || NgxFloatUiDirective.baseOptions.trigger;\n        this.styles = this.styles === void 0 ? {...NgxFloatUiDirective.baseOptions.styles} : this.styles;\n    }\n\n}\n","import {\n    ChangeDetectorRef,\n    Directive,\n    ElementRef,\n    Inject,\n    Input,\n    ViewContainerRef\n} from \"@angular/core\";\n//\nimport {NgxFloatUiOptions} from \"../../models/ngx-float-ui-options.model\";\nimport {NgxFloatUiPlacements} from \"../../models/ngx-float-ui-placements.model\";\nimport {NGX_FLOAT_UI_DEFAULTS} from \"../../models/ngx-float-ui-defaults.model\";\nimport {NgxFloatUiDirective} from \"./ngx-float-ui.directive\";\nimport {NgxFloatUiContentComponent} from \"../../components/ngx-float-ui-content/ngx-float-ui-content.component\";\nimport {NgxFloatUiTriggers} from \"../../models/ngx-float-ui-triggers.model\";\n\n@Directive({\n    selector: \"[floatUiLoose]\",\n    exportAs: \"floatUiLoose\",\n    standalone: true\n})\nexport class NgxFloatUiLooseDirective extends NgxFloatUiDirective {\n\n    @Input()\n    set floatUiLoose(newValue: string | NgxFloatUiContentComponent) {\n        this.floatUi = newValue;\n    }\n\n    @Input()\n    set loosePlacement(newValue: `${NgxFloatUiPlacements}`) {\n        this.placement = newValue as NgxFloatUiPlacements;\n    }\n\n    @Input()\n    set looseTrigger(newValue: `${NgxFloatUiTriggers}`) {\n        this.showTrigger = newValue as NgxFloatUiTriggers;\n    }\n\n    constructor(changeDetectorRef: ChangeDetectorRef,\n                elementRef: ElementRef,\n                vcr: ViewContainerRef,\n                @Inject(NGX_FLOAT_UI_DEFAULTS) popperDefaults: NgxFloatUiOptions = {}) {\n        super(changeDetectorRef, elementRef, vcr, popperDefaults);\n    }\n\n}\n","import {ModuleWithProviders, NgModule, Provider} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\n//\nimport {NgxFloatUiDirective} from \"./directives/ngx-float-ui/ngx-float-ui.directive\";\nimport {NgxFloatUiLooseDirective} from \"./directives/ngx-float-ui/ngx-float-ui-loose.directive\";\nimport {NgxFloatUiContentComponent} from \"./components/ngx-float-ui-content/ngx-float-ui-content.component\";\nimport {NgxFloatUiOptions} from \"./models/ngx-float-ui-options.model\";\nimport {NGX_FLOAT_UI_DEFAULTS} from \"./models/ngx-float-ui-defaults.model\";\n\nexport function provideNgxFloatUiOptions(config: NgxFloatUiOptions = {}): Provider[] {\n    return [\n        {provide: NGX_FLOAT_UI_DEFAULTS, useValue: config},\n    ];\n}\n\n@NgModule({\n    imports: [\n        CommonModule,\n        NgxFloatUiContentComponent,\n        NgxFloatUiDirective,\n        NgxFloatUiLooseDirective\n    ],\n    exports: [\n        NgxFloatUiContentComponent,\n        NgxFloatUiDirective,\n        NgxFloatUiLooseDirective\n    ],\n    providers: [\n        provideNgxFloatUiOptions()\n    ]\n})\nexport class NgxFloatUiModule {\n\n    public static forRoot(popperBaseOptions?: NgxFloatUiOptions): ModuleWithProviders<NgxFloatUiModule> {\n        return {\n            ngModule: NgxFloatUiModule,\n            providers: [\n                provideNgxFloatUiOptions(popperBaseOptions)\n            ]\n        };\n    }\n}\n","/*\n * Public API Surface of ngx-float-ui\n */\n\n// Components\nexport * from \"./lib/components/ngx-float-ui-content/ngx-float-ui-content.component\";\n// Directives\nexport * from \"./lib/directives/ngx-float-ui/ngx-float-ui.directive\";\nexport * from \"./lib/directives/ngx-float-ui/ngx-float-ui-loose.directive\";\n// Models\nexport * from \"./lib/models/ngx-float-ui-options.model\";\nexport * from \"./lib/models/ngx-float-ui-placements.model\";\nexport * from \"./lib/models/ngx-float-ui-triggers.model\";\n// Module\nexport * from \"./lib/ngx-float-ui.module\";\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}